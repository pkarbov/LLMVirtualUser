/*! For license information please see llamavirtualuser-main.js.LICENSE.txt */
(()=>{var e={67737:(e,t,n)=>{const r=n(85503),{MAX_LENGTH:s,MAX_SAFE_INTEGER:o}=n(35519),{safeRe:i,t:a}=n(88238),l=n(74433),{compareIdentifiers:c}=n(63242);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>s)throw new TypeError(`version is longer than ${s} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],s=e.prerelease[t];if(r("prerelease compare",t,n,s),void 0===n&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===n)return-1;if(n!==s)return c(n,s)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],s=e.build[t];if(r("prerelease compare",t,n,s),void 0===n&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===n)return-1;if(n!==s)return c(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},92426:(e,t,n)=>{const r=n(67737);e.exports=(e,t)=>new r(e,t).major},67488:(e,t,n)=>{const r=n(67737);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},77907:(e,t,n)=>{const r=n(67488);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},35519:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},85503:(e,t,n)=>{var r=n(34155);const s="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=s},63242:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),s=t.test(n);return r&&s&&(e=+e,n=+n),e===n?0:r&&!s?-1:s&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},74433:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},88238:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r}=n(35519),s=n(85503),o=(t=e.exports={}).re=[],i=t.safeRe=[],a=t.src=[],l=t.t={};let c=0;const u=(e,t,n)=>{const r=t.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),u=c++;s(e,u,t),l[e]=u,a[u]=t,o[u]=new RegExp(t,n?"g":void 0),i[u]=new RegExp(r,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${a[l.NUMERICIDENTIFIER]}|${a[l.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${a[l.NUMERICIDENTIFIERLOOSE]}|${a[l.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${a[l.PRERELEASEIDENTIFIER]}(?:\\.${a[l.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${a[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[l.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${a[l.BUILDIDENTIFIER]}(?:\\.${a[l.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${a[l.MAINVERSION]}${a[l.PRERELEASE]}?${a[l.BUILD]}?`),u("FULL",`^${a[l.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${a[l.MAINVERSIONLOOSE]}${a[l.PRERELEASELOOSE]}?${a[l.BUILD]}?`),u("LOOSE",`^${a[l.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${a[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${a[l.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:${a[l.PRERELEASE]})?${a[l.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:${a[l.PRERELEASELOOSE]})?${a[l.BUILD]}?)?)?`),u("XRANGE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",a[l.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${a[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${a[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${a[l.LONECARET]}${a[l.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${a[l.LONECARET]}${a[l.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${a[l.GTLT]}\\s*(${a[l.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]}|${a[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${a[l.XRANGEPLAIN]})\\s+-\\s+(${a[l.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${a[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[l.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},79753:(e,t,n)=>{"use strict";n(69070),t.generateUrl=t.generateFilePath=void 0,n(19601),n(74916),n(15306),n(41539),n(39714),n(82772);var r=function(e,t,n){var r,s=Object.assign({escape:!0},n||{});return"/"!==e.charAt(0)&&(e="/"+e),r=(r=t||{})||{},e.replace(/{([^{}]*)}/g,(function(e,t){var n=r[t];return s.escape?"string"==typeof n||"number"==typeof n?encodeURIComponent(n.toString()):encodeURIComponent(e):"string"==typeof n||"number"==typeof n?n.toString():e}))};t.generateUrl=function(e,t,n){var s,i,a,l=Object.assign({noRewrite:!1},n||{});return!0!==(null===(s=window)||void 0===s||null===(i=s.OC)||void 0===i||null===(a=i.config)||void 0===a?void 0:a.modRewriteWorking)||l.noRewrite?o()+"/index.php"+r(e,t,n):o()+r(e,t,n)};var s=function(e,t,n){var r,s,i,a=-1!==(null===(r=window)||void 0===r||null===(s=r.OC)||void 0===s||null===(i=s.coreApps)||void 0===i?void 0:i.indexOf(e)),l=o();if("php"!==n.substring(n.length-3)||a)if("php"===n.substring(n.length-3)||a)l+="settings"!==e&&"core"!==e&&"search"!==e||"ajax"!==t?"/":"/index.php/",a||(l+="apps/"),""!==e&&(l+=e+="/"),t&&(l+=t+"/"),l+=n;else{var c,u,h;l=null===(c=window)||void 0===c||null===(u=c.OC)||void 0===u||null===(h=u.appswebroots)||void 0===h?void 0:h[e],t&&(l+="/"+t+"/"),"/"!==l.substring(l.length-1)&&(l+="/"),l+=n}else l+="/index.php/apps/"+e,"index.php"!==n&&(l+="/",t&&(l+=encodeURI(t+"/")),l+=n);return l};t.generateFilePath=s;var o=function(){var e,t;return(null===(e=window)||void 0===e||null===(t=e.OC)||void 0===t?void 0:t.webroot)||""}},9669:(e,t,n)=>{e.exports=n(51609)},55448:(e,t,n)=>{"use strict";var r=n(64867),s=n(36026),o=n(4372),i=n(15327),a=n(94097),l=n(84109),c=n(67985),u=n(77874),h=n(82648),d=n(60644),p=n(90205);e.exports=function(e){return new Promise((function(t,n){var f,m=e.data,g=e.headers,v=e.responseType;function _(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+w)}var x=a(e.baseURL,e.url);function T(){if(y){var r="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};s((function(e){t(e),_()}),(function(e){n(e),_()}),o),y=null}}if(y.open(e.method.toUpperCase(),i(x,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=T:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(T)},y.onabort=function(){y&&(n(new h("Request aborted",h.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new h("Network Error",h.ERR_NETWORK,e,y,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new h(t,r.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,e,y)),y=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||c(x))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;E&&(g[e.xsrfHeaderName]=E)}"setRequestHeader"in y&&r.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){y&&(n(!e||e&&e.type?new d:e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),m||(m=null);var S=p(x);S&&-1===["http","https","file"].indexOf(S)?n(new h("Unsupported protocol "+S+":",h.ERR_BAD_REQUEST,e)):y.send(m)}))}},51609:(e,t,n)=>{"use strict";var r=n(64867),s=n(91849),o=n(30321),i=n(47185);var a=function e(t){var n=new o(t),a=s(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(i(t,n))},a}(n(45546));a.Axios=o,a.CanceledError=n(60644),a.CancelToken=n(14972),a.isCancel=n(26502),a.VERSION=n(97288).version,a.toFormData=n(47675),a.AxiosError=n(82648),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(16268),e.exports=a,e.exports.default=a},14972:(e,t,n)=>{"use strict";var r=n(60644);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},s.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},s.source=function(){var e;return{token:new s((function(t){e=t})),cancel:e}},e.exports=s},60644:(e,t,n)=>{"use strict";var r=n(82648);function s(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(64867).inherits(s,r,{__CANCEL__:!0}),e.exports=s},26502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:(e,t,n)=>{"use strict";var r=n(64867),s=n(15327),o=n(80782),i=n(13572),a=n(47185),l=n(94097),c=n(54875),u=c.validators;function h(e){this.defaults=e,this.interceptors={request:new o,response:new o}}h.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!s){var h=[i,void 0];for(Array.prototype.unshift.apply(h,r),h=h.concat(l),o=Promise.resolve(t);h.length;)o=o.then(h.shift(),h.shift());return o}for(var d=t;r.length;){var p=r.shift(),f=r.shift();try{d=p(d)}catch(e){f(e);break}}try{o=i(d)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},h.prototype.getUri=function(e){e=a(this.defaults,e);var t=l(e.baseURL,e.url);return s(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(a(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)})),e.exports=h},82648:(e,t,n)=>{"use strict";var r=n(64867);function s(e,t,n,r,s){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}r.inherits(s,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=s.prototype,i={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){i[e]={value:e}})),Object.defineProperties(s,i),Object.defineProperty(o,"isAxiosError",{value:!0}),s.from=function(e,t,n,i,a,l){var c=Object.create(o);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),s.call(c,e.message,t,n,i,a),c.name=e.name,l&&Object.assign(c,l),c},e.exports=s},80782:(e,t,n)=>{"use strict";var r=n(64867);function s(){this.handlers=[]}s.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},94097:(e,t,n)=>{"use strict";var r=n(91793),s=n(7303);e.exports=function(e,t){return e&&!r(t)?s(e,t):t}},13572:(e,t,n)=>{"use strict";var r=n(64867),s=n(18527),o=n(26502),i=n(45546),a=n(60644);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=s.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return l(e),t.data=s.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=s.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},47185:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={};function s(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:s(void 0,e[n]):s(e[n],t[n])}function i(e){if(!r.isUndefined(t[e]))return s(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:s(void 0,e[n]):s(void 0,t[n])}function l(n){return n in t?s(e[n],t[n]):n in e?s(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,s=t(e);r.isUndefined(s)&&t!==l||(n[e]=s)})),n}},36026:(e,t,n)=>{"use strict";var r=n(82648);e.exports=function(e,t,n){var s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},18527:(e,t,n)=>{"use strict";var r=n(64867),s=n(45546);e.exports=function(e,t,n){var o=this||s;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},45546:(e,t,n)=>{"use strict";var r=n(34155),s=n(64867),o=n(16016),i=n(82648),a=n(77874),l=n(47675),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h,d={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(h=n(55448)),h),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e))return e;if(s.isArrayBufferView(e))return e.buffer;if(s.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=s.isObject(e),i=t&&t["Content-Type"];if((n=s.isFileList(e))||r&&"multipart/form-data"===i){var a=this.env&&this.env.FormData;return l(n?{"files[]":e}:e,a&&new a)}return r||"application/json"===i?(u(t,"application/json"),function(e,t,n){if(s.isString(e))try{return(t||JSON.parse)(e),s.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&s.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw i.from(e,i.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(91623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};s.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),s.forEach(["post","put","patch"],(function(e){d.headers[e]=s.merge(c)})),e.exports=d},77874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},97288:e=>{e.exports={version:"0.27.2"}},91849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:(e,t,n)=>{"use strict";var r=n(64867);function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(s(t)+"="+s(e))})))})),o=i.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,s,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(s)&&a.push("path="+s),r.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},67985:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function s(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=s(window.location.href),function(t){var n=r.isString(t)?s(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},91623:e=>{e.exports=null},84109:(e,t,n)=>{"use strict";var r=n(64867),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&s.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},90205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},47675:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){t=t||new FormData;var n=[];function s(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,i){if(r.isPlainObject(o)||r.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+i);n.push(o),r.forEach(o,(function(n,o){if(!r.isUndefined(n)){var a,l=i?i+"."+o:o;if(n&&!i&&"object"==typeof n)if(r.endsWith(o,"{}"))n=JSON.stringify(n);else if(r.endsWith(o,"[]")&&(a=r.toArray(n)))return void a.forEach((function(e){!r.isUndefined(e)&&t.append(l,s(e))}));e(n,l)}})),n.pop()}else t.append(i,s(o))}(e),t}},54875:(e,t,n)=>{"use strict";var r=n(97288).version,s=n(82648),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new s(o(r," has been removed"+(t?" in "+t:"")),s.ERR_DEPRECATED);return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new s("options must be an object",s.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var l=e[i],c=void 0===l||a(l,i,e);if(!0!==c)throw new s("option "+i+" must be "+c,s.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new s("Unknown option "+i,s.ERR_BAD_OPTION)}},validators:o}},64867:(e,t,n)=>{"use strict";var r,s=n(91849),o=Object.prototype.toString,i=(r=Object.create(null),function(e){var t=o.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var u=a("ArrayBuffer");function h(e){return null!==e&&"object"==typeof e}function d(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),f=a("File"),m=a("Blob"),g=a("FileList");function v(e){return"[object Function]"===o.call(e)}var _=a("URLSearchParams");function y(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),l(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}var b,w=(b="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:h,isPlainObject:d,isUndefined:c,isDate:p,isFile:f,isBlob:m,isFunction:v,isStream:function(e){return h(e)&&v(e.pipe)},isURLSearchParams:_,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:y,merge:function e(){var t={};function n(n,r){d(t[r])&&d(n)?t[r]=e(t[r],n):d(n)?t[r]=e({},n):l(n)?t[r]=n.slice():t[r]=n}for(var r=0,s=arguments.length;r<s;r++)y(arguments[r],n);return t},extend:function(e,t,n){return y(t,(function(t,r){e[r]=n&&"function"==typeof t?s(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,s,o,i={};t=t||{};do{for(s=(r=Object.getOwnPropertyNames(e)).length;s-- >0;)i[o=r[s]]||(t[o]=e[o],i[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:a,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:g}},19662:(e,t,n)=>{var r=n(60614),s=n(66330),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(s(e)+" is not a function")}},31530:(e,t,n)=>{"use strict";var r=n(28710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},19670:(e,t,n)=>{var r=n(70111),s=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(s(e)+" is not an object")}},41318:(e,t,n)=>{var r=n(45656),s=n(51400),o=n(26244),i=function(e){return function(t,n,i){var a,l=r(t),c=o(l),u=s(i,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},9341:(e,t,n)=>{"use strict";var r=n(47293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},84326:(e,t,n)=>{var r=n(1702),s=r({}.toString),o=r("".slice);e.exports=function(e){return o(s(e),8,-1)}},70648:(e,t,n)=>{var r=n(51694),s=n(60614),o=n(84326),i=n(5112)("toStringTag"),a=Object,l="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),i))?n:l?o(t):"Object"==(r=o(t))&&s(t.callee)?"Arguments":r}},99920:(e,t,n)=>{var r=n(92597),s=n(53887),o=n(31236),i=n(3070);e.exports=function(e,t,n){for(var a=s(t),l=i.f,c=o.f,u=0;u<a.length;u++){var h=a[u];r(e,h)||n&&r(n,h)||l(e,h,c(t,h))}}},68880:(e,t,n)=>{var r=n(19781),s=n(3070),o=n(79114);e.exports=r?function(e,t,n){return s.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},79114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},98052:(e,t,n)=>{var r=n(60614),s=n(3070),o=n(56339),i=n(13072);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(r(n)&&o(n,c,a),a.global)l?e[t]=n:i(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:s.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},13072:(e,t,n)=>{var r=n(17854),s=Object.defineProperty;e.exports=function(e,t){try{s(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},19781:(e,t,n)=>{var r=n(47293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},80317:(e,t,n)=>{var r=n(17854),s=n(70111),o=r.document,i=s(o)&&s(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},88113:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:(e,t,n)=>{var r,s,o=n(17854),i=n(88113),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(s=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!s&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(s=+r[1]),e.exports=s},80748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:(e,t,n)=>{var r=n(17854),s=n(31236).f,o=n(68880),i=n(98052),a=n(13072),l=n(99920),c=n(54705);e.exports=function(e,t){var n,u,h,d,p,f=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[f]||a(f,{}):(r[f]||{}).prototype)for(u in t){if(d=t[u],h=e.dontCallGetSet?(p=s(n,u))&&p.value:n[u],!c(m?u:f+(g?".":"#")+u,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),i(n,u,d,e)}}},47293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},27007:(e,t,n)=>{"use strict";n(74916);var r=n(21470),s=n(98052),o=n(22261),i=n(47293),a=n(5112),l=n(68880),c=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,h){var d=a(e),p=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!f||n){var m=r(/./[d]),g=t(d,""[e],(function(e,t,n,s,i){var a=r(e),l=t.exec;return l===o||l===u.exec?p&&!i?{done:!0,value:m(t,n,s)}:{done:!0,value:a(n,t,s)}:{done:!1}}));s(String.prototype,e,g[0]),s(u,d,g[1])}h&&l(u[d],"sham",!0)}},22104:(e,t,n)=>{var r=n(34374),s=Function.prototype,o=s.apply,i=s.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(o):function(){return i.apply(o,arguments)})},34374:(e,t,n)=>{var r=n(47293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},46916:(e,t,n)=>{var r=n(34374),s=Function.prototype.call;e.exports=r?s.bind(s):function(){return s.apply(s,arguments)}},76530:(e,t,n)=>{var r=n(19781),s=n(92597),o=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,a=s(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&i(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},21470:(e,t,n)=>{var r=n(84326),s=n(1702);e.exports=function(e){if("Function"===r(e))return s(e)}},1702:(e,t,n)=>{var r=n(34374),s=Function.prototype,o=s.call,i=r&&s.bind.bind(o,o);e.exports=r?i:function(e){return function(){return o.apply(e,arguments)}}},35005:(e,t,n)=>{var r=n(17854),s=n(60614);e.exports=function(e,t){return arguments.length<2?(n=r[e],s(n)?n:void 0):r[e]&&r[e][t];var n}},58173:(e,t,n)=>{var r=n(19662),s=n(68554);e.exports=function(e,t){var n=e[t];return s(n)?void 0:r(n)}},10647:(e,t,n)=>{var r=n(1702),s=n(47908),o=Math.floor,i=r("".charAt),a=r("".replace),l=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,d){var p=n+e.length,f=r.length,m=u;return void 0!==h&&(h=s(h),m=c),a(d,m,(function(s,a){var c;switch(i(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,p);case"<":c=h[l(a,1,-1)];break;default:var u=+a;if(0===u)return s;if(u>f){var d=o(u/10);return 0===d?s:d<=f?void 0===r[d-1]?i(a,1):r[d-1]+i(a,1):s}c=r[u-1]}return void 0===c?"":c}))}},17854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},92597:(e,t,n)=>{var r=n(1702),s=n(47908),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(s(e),t)}},3501:e=>{e.exports={}},60490:(e,t,n)=>{var r=n(35005);e.exports=r("document","documentElement")},64664:(e,t,n)=>{var r=n(19781),s=n(47293),o=n(80317);e.exports=!r&&!s((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},68361:(e,t,n)=>{var r=n(1702),s=n(47293),o=n(84326),i=Object,a=r("".split);e.exports=s((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a(e,""):i(e)}:i},42788:(e,t,n)=>{var r=n(1702),s=n(60614),o=n(5465),i=r(Function.toString);s(o.inspectSource)||(o.inspectSource=function(e){return i(e)}),e.exports=o.inspectSource},29909:(e,t,n)=>{var r,s,o,i=n(94811),a=n(17854),l=n(70111),c=n(68880),u=n(92597),h=n(5465),d=n(6200),p=n(3501),f="Object already initialized",m=a.TypeError,g=a.WeakMap;if(i||h.state){var v=h.state||(h.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw m(f);return t.facade=e,v.set(e,t),t},s=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var _=d("state");p[_]=!0,r=function(e,t){if(u(e,_))throw m(f);return t.facade=e,c(e,_,t),t},s=function(e){return u(e,_)?e[_]:{}},o=function(e){return u(e,_)}}e.exports={set:r,get:s,has:o,enforce:function(e){return o(e)?s(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=s(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},60614:(e,t,n)=>{var r=n(4154),s=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===s}:function(e){return"function"==typeof e}},54705:(e,t,n)=>{var r=n(47293),s=n(60614),o=/#|\.prototype\./,i=function(e,t){var n=l[a(e)];return n==u||n!=c&&(s(t)?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},68554:e=>{e.exports=function(e){return null==e}},70111:(e,t,n)=>{var r=n(60614),s=n(4154),o=s.all;e.exports=s.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},31913:e=>{e.exports=!1},52190:(e,t,n)=>{var r=n(35005),s=n(60614),o=n(47976),i=n(43307),a=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return s(t)&&o(t.prototype,a(e))}},26244:(e,t,n)=>{var r=n(17466);e.exports=function(e){return r(e.length)}},56339:(e,t,n)=>{var r=n(1702),s=n(47293),o=n(60614),i=n(92597),a=n(19781),l=n(76530).CONFIGURABLE,c=n(42788),u=n(29909),h=u.enforce,d=u.get,p=String,f=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),_=a&&!s((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+g(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||l&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),_&&n&&i(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=h(e);return i(r,"source")||(r.source=v(y,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return o(this)&&d(this).source||c(this)}),"toString")},74758:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},21574:(e,t,n)=>{"use strict";var r=n(19781),s=n(1702),o=n(46916),i=n(47293),a=n(81956),l=n(25181),c=n(55296),u=n(47908),h=n(68361),d=Object.assign,p=Object.defineProperty,f=s([].concat);e.exports=!d||i((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),s="abcdefghijklmnopqrst";return e[n]=7,s.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=s}))?function(e,t){for(var n=u(e),s=arguments.length,i=1,d=l.f,p=c.f;s>i;)for(var m,g=h(arguments[i++]),v=d?f(a(g),d(g)):a(g),_=v.length,y=0;_>y;)m=v[y++],r&&!o(p,g,m)||(n[m]=g[m]);return n}:d},70030:(e,t,n)=>{var r,s=n(19670),o=n(36048),i=n(80748),a=n(3501),l=n(60490),c=n(80317),u=n(6200),h="prototype",d="script",p=u("IE_PROTO"),f=function(){},m=function(e){return"<"+d+">"+e+"</"+d+">"},g=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;v="undefined"!=typeof document?document.domain&&r?g(r):(t=c("iframe"),n="java"+d+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):g(r);for(var s=i.length;s--;)delete v[h][i[s]];return v()};a[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f[h]=s(e),n=new f,f[h]=null,n[p]=e):n=v(),void 0===t?n:o.f(n,t)}},36048:(e,t,n)=>{var r=n(19781),s=n(3353),o=n(3070),i=n(19670),a=n(45656),l=n(81956);t.f=r&&!s?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=l(t),c=s.length,u=0;c>u;)o.f(e,n=s[u++],r[n]);return e}},3070:(e,t,n)=>{var r=n(19781),s=n(64664),o=n(3353),i=n(19670),a=n(34948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";t.f=r?o?function(e,t,n){if(i(e),t=a(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=u(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(i(e),t=a(t),i(n),s)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},31236:(e,t,n)=>{var r=n(19781),s=n(46916),o=n(55296),i=n(79114),a=n(45656),l=n(34948),c=n(92597),u=n(64664),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=l(t),u)try{return h(e,t)}catch(e){}if(c(e,t))return i(!s(o.f,e,t),e[t])}},8006:(e,t,n)=>{var r=n(16324),s=n(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},25181:(e,t)=>{t.f=Object.getOwnPropertySymbols},47976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},16324:(e,t,n)=>{var r=n(1702),s=n(92597),o=n(45656),i=n(41318).indexOf,a=n(3501),l=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,u=[];for(n in r)!s(a,n)&&s(r,n)&&l(u,n);for(;t.length>c;)s(r,n=t[c++])&&(~i(u,n)||l(u,n));return u}},81956:(e,t,n)=>{var r=n(16324),s=n(80748);e.exports=Object.keys||function(e){return r(e,s)}},55296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!n.call({1:2},1);t.f=s?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},90288:(e,t,n)=>{"use strict";var r=n(51694),s=n(70648);e.exports=r?{}.toString:function(){return"[object "+s(this)+"]"}},92140:(e,t,n)=>{var r=n(46916),s=n(60614),o=n(70111),i=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&s(n=e.toString)&&!o(a=r(n,e)))return a;if(s(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&s(n=e.toString)&&!o(a=r(n,e)))return a;throw i("Can't convert object to primitive value")}},53887:(e,t,n)=>{var r=n(35005),s=n(1702),o=n(8006),i=n(25181),a=n(19670),l=s([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?l(t,n(e)):t}},97651:(e,t,n)=>{var r=n(46916),s=n(19670),o=n(60614),i=n(84326),a=n(22261),l=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var c=r(n,e,t);return null!==c&&s(c),c}if("RegExp"===i(e))return r(a,e,t);throw l("RegExp#exec called on incompatible receiver")}},22261:(e,t,n)=>{"use strict";var r,s,o=n(46916),i=n(1702),a=n(41340),l=n(67066),c=n(52999),u=n(72309),h=n(70030),d=n(29909).get,p=n(9441),f=n(38173),m=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,_=i("".charAt),y=i("".indexOf),b=i("".replace),w=i("".slice),x=(s=/b*/g,o(g,r=/a/,"a"),o(g,s,"a"),0!==r.lastIndex||0!==s.lastIndex),T=c.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(x||E||T||p||f)&&(v=function(e){var t,n,r,s,i,c,u,p=this,f=d(p),S=a(e),k=f.raw;if(k)return k.lastIndex=p.lastIndex,t=o(v,k,S),p.lastIndex=k.lastIndex,t;var C=f.groups,A=T&&p.sticky,I=o(l,p),R=p.source,M=0,O=S;if(A&&(I=b(I,"y",""),-1===y(I,"g")&&(I+="g"),O=w(S,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==_(S,p.lastIndex-1))&&(R="(?: "+R+")",O=" "+O,M++),n=new RegExp("^(?:"+R+")",I)),E&&(n=new RegExp("^"+R+"$(?!\\s)",I)),x&&(r=p.lastIndex),s=o(g,A?n:p,O),A?s?(s.input=w(s.input,M),s[0]=w(s[0],M),s.index=p.lastIndex,p.lastIndex+=s[0].length):p.lastIndex=0:x&&s&&(p.lastIndex=p.global?s.index+s[0].length:r),E&&s&&s.length>1&&o(m,s[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(s[i]=void 0)})),s&&C)for(s.groups=c=h(null),i=0;i<C.length;i++)c[(u=C[i])[0]]=s[u[1]];return s}),e.exports=v},67066:(e,t,n)=>{"use strict";var r=n(19670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},34706:(e,t,n)=>{var r=n(46916),s=n(92597),o=n(47976),i=n(67066),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||s(e,"flags")||!o(a,e)?t:r(i,e)}},52999:(e,t,n)=>{var r=n(47293),s=n(17854).RegExp,o=r((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),i=o||r((function(){return!s("a","y").sticky})),a=o||r((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:i,UNSUPPORTED_Y:o}},9441:(e,t,n)=>{var r=n(47293),s=n(17854).RegExp;e.exports=r((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},38173:(e,t,n)=>{var r=n(47293),s=n(17854).RegExp;e.exports=r((function(){var e=s("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},84488:(e,t,n)=>{var r=n(68554),s=TypeError;e.exports=function(e){if(r(e))throw s("Can't call method on "+e);return e}},6200:(e,t,n)=>{var r=n(72309),s=n(69711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=s(e))}},5465:(e,t,n)=>{var r=n(17854),s=n(13072),o="__core-js_shared__",i=r[o]||s(o,{});e.exports=i},72309:(e,t,n)=>{var r=n(31913),s=n(5465);(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.0/LICENSE",source:"https://github.com/zloirock/core-js"})},28710:(e,t,n)=>{var r=n(1702),s=n(19303),o=n(41340),i=n(84488),a=r("".charAt),l=r("".charCodeAt),c=r("".slice),u=function(e){return function(t,n){var r,u,h=o(i(t)),d=s(n),p=h.length;return d<0||d>=p?e?"":void 0:(r=l(h,d))<55296||r>56319||d+1===p||(u=l(h,d+1))<56320||u>57343?e?a(h,d):r:e?c(h,d,d+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},36293:(e,t,n)=>{var r=n(7392),s=n(47293),o=n(17854).String;e.exports=!!Object.getOwnPropertySymbols&&!s((function(){var e=Symbol();return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},51400:(e,t,n)=>{var r=n(19303),s=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?s(n+t,0):o(n,t)}},45656:(e,t,n)=>{var r=n(68361),s=n(84488);e.exports=function(e){return r(s(e))}},19303:(e,t,n)=>{var r=n(74758);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},17466:(e,t,n)=>{var r=n(19303),s=Math.min;e.exports=function(e){return e>0?s(r(e),9007199254740991):0}},47908:(e,t,n)=>{var r=n(84488),s=Object;e.exports=function(e){return s(r(e))}},57593:(e,t,n)=>{var r=n(46916),s=n(70111),o=n(52190),i=n(58173),a=n(92140),l=n(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!s(e)||o(e))return e;var n,l=i(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!s(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},34948:(e,t,n)=>{var r=n(57593),s=n(52190);e.exports=function(e){var t=r(e,"string");return s(t)?t:t+""}},51694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},41340:(e,t,n)=>{var r=n(70648),s=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},66330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},69711:(e,t,n)=>{var r=n(1702),s=0,o=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++s+o,36)}},43307:(e,t,n)=>{var r=n(36293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(19781),s=n(47293);e.exports=r&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},94811:(e,t,n)=>{var r=n(17854),s=n(60614),o=r.WeakMap;e.exports=s(o)&&/native code/.test(String(o))},5112:(e,t,n)=>{var r=n(17854),s=n(72309),o=n(92597),i=n(69711),a=n(36293),l=n(43307),c=r.Symbol,u=s("wks"),h=l?c.for||c:c&&c.withoutSetter||i;e.exports=function(e){return o(u,e)||(u[e]=a&&o(c,e)?c[e]:h("Symbol."+e)),u[e]}},82772:(e,t,n)=>{"use strict";var r=n(82109),s=n(21470),o=n(41318).indexOf,i=n(9341),a=s([].indexOf),l=!!a&&1/a([1],1,-0)<0;r({target:"Array",proto:!0,forced:l||!i("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?a(this,e,t)||0:o(this,e,t)}})},19601:(e,t,n)=>{var r=n(82109),s=n(21574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},69070:(e,t,n)=>{var r=n(82109),s=n(19781),o=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!s},{defineProperty:o})},41539:(e,t,n)=>{var r=n(51694),s=n(98052),o=n(90288);r||s(Object.prototype,"toString",o,{unsafe:!0})},74916:(e,t,n)=>{"use strict";var r=n(82109),s=n(22261);r({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},39714:(e,t,n)=>{"use strict";var r=n(76530).PROPER,s=n(98052),o=n(19670),i=n(41340),a=n(47293),l=n(34706),c="toString",u=RegExp.prototype[c],h=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=r&&u.name!=c;(h||d)&&s(RegExp.prototype,c,(function(){var e=o(this);return"/"+i(e.source)+"/"+i(l(e))}),{unsafe:!0})},15306:(e,t,n)=>{"use strict";var r=n(22104),s=n(46916),o=n(1702),i=n(27007),a=n(47293),l=n(19670),c=n(60614),u=n(68554),h=n(19303),d=n(17466),p=n(41340),f=n(84488),m=n(31530),g=n(58173),v=n(10647),_=n(97651),y=n(5112)("replace"),b=Math.max,w=Math.min,x=o([].concat),T=o([].push),E=o("".indexOf),S=o("".slice),k="$0"==="a".replace(/./,"$0"),C=!!/./[y]&&""===/./[y]("a","$0");i("replace",(function(e,t,n){var o=C?"$":"$0";return[function(e,n){var r=f(this),o=u(e)?void 0:g(e,y);return o?s(o,e,r,n):s(t,p(r),e,n)},function(e,s){var i=l(this),a=p(e);if("string"==typeof s&&-1===E(s,o)&&-1===E(s,"$<")){var u=n(t,i,a,s);if(u.done)return u.value}var f=c(s);f||(s=p(s));var g=i.global;if(g){var y=i.unicode;i.lastIndex=0}for(var k=[];;){var C=_(i,a);if(null===C)break;if(T(k,C),!g)break;""===p(C[0])&&(i.lastIndex=m(a,d(i.lastIndex),y))}for(var A,I="",R=0,M=0;M<k.length;M++){for(var O=p((C=k[M])[0]),L=b(w(h(C.index),a.length),0),N=[],P=1;P<C.length;P++)T(N,void 0===(A=C[P])?A:String(A));var D=C.groups;if(f){var j=x([O],N,L,a);void 0!==D&&T(j,D);var F=p(r(s,void 0,j))}else F=v(O,a,L,N,D,s);L>=R&&(I+=S(a,R,L)+F,R=L+O.length)}return I+S(a,R)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!k||C)},74501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(87537),s=n.n(r),o=n(23645),i=n.n(o),a=n(61667),l=n.n(a),c=new URL(n(9021),n.b),u=new URL(n(25062),n.b),h=new URL(n(3005),n.b),d=i()(s()),p=l()(c),f=l()(u),m=l()(h);d.push([e.id,`.window-container[data-v-079602ba]{width:100%}.window-mobile form[data-v-079602ba]{padding:0 10px 10px}form[data-v-079602ba]{padding-bottom:20px}input[data-v-079602ba]{padding:5px;width:140px;height:21px;border-radius:4px;border:1px solid #d2d6da;outline:none;font-size:14px;vertical-align:middle}input[data-v-079602ba]::placeholder{color:#9ca6af}button[data-v-079602ba]{background:#1976d2;color:#fff;outline:none;cursor:pointer;border-radius:4px;padding:8px 12px;margin-left:10px;border:none;font-size:14px;transition:.3s;vertical-align:middle}button[data-v-079602ba]:hover{opacity:.8}button[data-v-079602ba]:active{opacity:.6}button[data-v-079602ba]:disabled{cursor:initial;background:#c6c9cc;opacity:.6}.button-cancel[data-v-079602ba]{color:#a8aeb3;background:none;margin-left:5px}.button-image-close[data-v-079602ba]{background:url(${p}) no-repeat;width:50px}.button-image-ok[data-v-079602ba]{background:url(${f}) no-repeat;width:50px}.button-data[data-v-079602ba]{background:url(${m}) no-repeat;width:50px}select[data-v-079602ba]{vertical-align:middle;height:33px;width:152px;font-size:13px;margin:0 !important}`,"",{version:3,sources:["webpack://./src/components/ViewApp/ChatContainer1.vue"],names:[],mappings:"AAEA,mCACI,UAAA,CAIA,qCACI,mBAAA,CAIR,sBACI,mBAAA,CAGJ,uBACI,WAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,wBAAA,CACA,YAAA,CACA,cAAA,CACA,qBAAA,CACA,oCACI,aAAA,CAIR,wBACI,kBAAA,CACA,UAAA,CACA,YAAA,CACA,cAAA,CACA,iBAAA,CACA,gBAAA,CACA,gBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CACA,qBAAA,CACA,8BACI,UAAA,CAEJ,+BACI,UAAA,CAEJ,iCACI,cAAA,CACA,kBAAA,CACA,UAAA,CAIR,gCACI,aAAA,CACA,eAAA,CACA,eAAA,CAGJ,qCACI,4DAAA,CACA,UAAA,CAGJ,kCACI,4DAAA,CACA,UAAA,CAGJ,8BACI,4DAAA,CACA,UAAA,CAGJ,wBACI,qBAAA,CACA,WAAA,CACA,WAAA,CACA,cAAA,CACA,mBAAA",sourcesContent:["\n\n.window-container {\n    width: 100%;\n}\n\n.window-mobile {\n    form {\n        padding: 0 10px 10px;\n    }\n}\n\nform {\n    padding-bottom: 20px;\n}\n\ninput {\n    padding: 5px;\n    width: 140px;\n    height: 21px;\n    border-radius: 4px;\n    border: 1px solid #d2d6da;\n    outline: none;\n    font-size: 14px;\n    vertical-align: middle;\n    &::placeholder {\n        color: #9ca6af;\n    }\n}\n\nbutton {\n    background: #1976d2;\n    color: #fff;\n    outline: none;\n    cursor: pointer;\n    border-radius: 4px;\n    padding: 8px 12px;\n    margin-left: 10px;\n    border: none;\n    font-size: 14px;\n    transition: 0.3s;\n    vertical-align: middle;\n    &:hover {\n        opacity: 0.8;\n    }\n    &:active {\n        opacity: 0.6;\n    }\n    &:disabled {\n        cursor: initial;\n        background: #c6c9cc;\n        opacity: 0.6;\n    }\n}\n\n.button-cancel {\n    color: #a8aeb3;\n    background: none;\n    margin-left: 5px;\n}\n\n.button-image-close {\n    background:url(@mdi/svg/svg/close-circle-outline.svg) no-repeat;\n    width:50px;\n}\n\n.button-image-ok {\n    background:url(@mdi/svg/svg/check-circle-outline.svg) no-repeat;\n    width:50px;\n}\n\n.button-data {\n    background:url(@mdi/svg/svg/database.svg) no-repeat;\n    width:50px;\n}\n\nselect {\n    vertical-align: middle;\n    height: 33px;\n    width: 152px;\n    font-size: 13px;\n    margin: 0 !important;\n}\n"],sourceRoot:""}]);const g=d},38660:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(87537),s=n.n(r),o=n(23645),i=n.n(o)()(s());i.push([e.id,"#content{border-radius:0}","",{version:3,sources:["webpack://./src/components/ViewApp/ChatView1.vue"],names:[],mappings:"AAEA,SACE,eAAA",sourcesContent:["\n\n#content {\n  border-radius: 0;\n}\n"],sourceRoot:""}]);const a=i},84295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(87537),s=n.n(r),o=n(23645),i=n.n(o)()(s());i.push([e.id,'#content[class*=app-] *[data-v-4adca3f8]{width:100%}#llama-chat-app body[data-v-4adca3f8]{font-family:"Quicksand",sans-serif}',"",{version:3,sources:["webpack://./src/components/ViewApp/ChatView1.vue"],names:[],mappings:"AAEA,yCACE,UAAA,CAIA,sCACI,kCAAA",sourcesContent:["\n\n#content[class*='app-'] * {\n  width:100%;\n}\n\n#llama-chat-app {\n  body {\n      font-family: 'Quicksand', sans-serif;\n  }\n}\n"],sourceRoot:""}]);const a=i},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),s&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=s):u[4]="".concat(s)),t.push(u))}},t}},61667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},87537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(s," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},27856:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,s,o){return r=n()?Reflect.construct:function(e,n,r){var s=[null];s.push.apply(s,n);var o=new(Function.bind.apply(e,s));return r&&t(o,r.prototype),o},r.apply(null,arguments)}function s(e){return o(e)||i(e)||a(e)||c()}function o(e){if(Array.isArray(e))return l(e)}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.hasOwnProperty,h=Object.setPrototypeOf,d=Object.isFrozen,p=Object.getPrototypeOf,f=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,v=Object.create,_="undefined"!=typeof Reflect&&Reflect,y=_.apply,b=_.construct;y||(y=function(e,t,n){return e.apply(t,n)}),m||(m=function(e){return e}),g||(g=function(e){return e}),b||(b=function(e,t){return r(e,s(t))});var w=O(Array.prototype.forEach),x=O(Array.prototype.pop),T=O(Array.prototype.push),E=O(String.prototype.toLowerCase),S=O(String.prototype.toString),k=O(String.prototype.match),C=O(String.prototype.replace),A=O(String.prototype.indexOf),I=O(String.prototype.trim),R=O(RegExp.prototype.test),M=L(TypeError);function O(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return y(e,t,r)}}function L(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(e,n)}}function N(e,t,n){n=n||E,h&&h(e,null);for(var r=t.length;r--;){var s=t[r];if("string"==typeof s){var o=n(s);o!==s&&(d(t)||(t[r]=o),s=o)}e[s]=!0}return e}function P(e){var t,n=v(null);for(t in e)!0===y(u,e,[t])&&(n[t]=e[t]);return n}function D(e,t){for(;null!==e;){var n=f(e,t);if(n){if(n.get)return O(n.get);if("function"==typeof n.value)return O(n.value)}e=p(e)}function r(e){return console.warn("fallback value for",e),null}return r}var j=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),V=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=m(["#text"]),z=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),q=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),W=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=g(/<%[\w\W]*|[\w\W]*%>/gm),X=g(/\${[\w\W]*}/gm),Q=g(/^data-[\-\w.\u00B7-\uFFFF]/),Z=g(/^aria-[\-\w]+$/),J=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=g(/^(?:\w+script|data):/i),te=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=g(/^html$/i),re=function(){return"undefined"==typeof window?null:window},se=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,s="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(s)&&(r=n.currentScript.getAttribute(s));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function oe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re(),n=function(e){return oe(e)};if(n.version="2.4.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,l=t.Node,c=t.Element,u=t.NodeFilter,h=t.NamedNodeMap,d=void 0===h?t.NamedNodeMap||t.MozNamedAttrMap:h,p=t.HTMLFormElement,f=t.DOMParser,g=t.trustedTypes,v=c.prototype,_=D(v,"cloneNode"),y=D(v,"nextSibling"),b=D(v,"childNodes"),O=D(v,"parentNode");if("function"==typeof a){var L=o.createElement("template");L.content&&L.content.ownerDocument&&(o=L.content.ownerDocument)}var ie=se(g,r),ae=ie?ie.createHTML(""):"",le=o,ce=le.implementation,ue=le.createNodeIterator,he=le.createDocumentFragment,de=le.getElementsByTagName,pe=r.importNode,fe={};try{fe=P(o).documentMode?o.documentMode:{}}catch(e){}var me={};n.isSupported="function"==typeof O&&ce&&void 0!==ce.createHTMLDocument&&9!==fe;var ge,ve,_e=K,ye=Y,be=X,we=Q,xe=Z,Te=ee,Ee=te,Se=J,ke=null,Ce=N({},[].concat(s(j),s(F),s(U),s($),s(H))),Ae=null,Ie=N({},[].concat(s(z),s(q),s(G),s(W))),Re=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Me=null,Oe=null,Le=!0,Ne=!0,Pe=!1,De=!0,je=!1,Fe=!1,Ue=!1,Be=!1,$e=!1,Ve=!1,He=!1,ze=!0,qe=!1,Ge="user-content-",We=!0,Ke=!1,Ye={},Xe=null,Qe=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ze=null,Je=N({},["audio","video","img","source","image","track"]),et=null,tt=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nt="http://www.w3.org/1998/Math/MathML",rt="http://www.w3.org/2000/svg",st="http://www.w3.org/1999/xhtml",ot=st,it=!1,at=null,lt=N({},[nt,rt,st],S),ct=["application/xhtml+xml","text/html"],ut="text/html",ht=null,dt=o.createElement("form"),pt=function(e){return e instanceof RegExp||e instanceof Function},ft=function(t){ht&&ht===t||(t&&"object"===e(t)||(t={}),t=P(t),ge=ge=-1===ct.indexOf(t.PARSER_MEDIA_TYPE)?ut:t.PARSER_MEDIA_TYPE,ve="application/xhtml+xml"===ge?S:E,ke="ALLOWED_TAGS"in t?N({},t.ALLOWED_TAGS,ve):Ce,Ae="ALLOWED_ATTR"in t?N({},t.ALLOWED_ATTR,ve):Ie,at="ALLOWED_NAMESPACES"in t?N({},t.ALLOWED_NAMESPACES,S):lt,et="ADD_URI_SAFE_ATTR"in t?N(P(tt),t.ADD_URI_SAFE_ATTR,ve):tt,Ze="ADD_DATA_URI_TAGS"in t?N(P(Je),t.ADD_DATA_URI_TAGS,ve):Je,Xe="FORBID_CONTENTS"in t?N({},t.FORBID_CONTENTS,ve):Qe,Me="FORBID_TAGS"in t?N({},t.FORBID_TAGS,ve):{},Oe="FORBID_ATTR"in t?N({},t.FORBID_ATTR,ve):{},Ye="USE_PROFILES"in t&&t.USE_PROFILES,Le=!1!==t.ALLOW_ARIA_ATTR,Ne=!1!==t.ALLOW_DATA_ATTR,Pe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,De=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,je=t.SAFE_FOR_TEMPLATES||!1,Fe=t.WHOLE_DOCUMENT||!1,$e=t.RETURN_DOM||!1,Ve=t.RETURN_DOM_FRAGMENT||!1,He=t.RETURN_TRUSTED_TYPE||!1,Be=t.FORCE_BODY||!1,ze=!1!==t.SANITIZE_DOM,qe=t.SANITIZE_NAMED_PROPS||!1,We=!1!==t.KEEP_CONTENT,Ke=t.IN_PLACE||!1,Se=t.ALLOWED_URI_REGEXP||Se,ot=t.NAMESPACE||st,Re=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&pt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Re.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&pt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Re.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Re.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),je&&(Ne=!1),Ve&&($e=!0),Ye&&(ke=N({},s(H)),Ae=[],!0===Ye.html&&(N(ke,j),N(Ae,z)),!0===Ye.svg&&(N(ke,F),N(Ae,q),N(Ae,W)),!0===Ye.svgFilters&&(N(ke,U),N(Ae,q),N(Ae,W)),!0===Ye.mathMl&&(N(ke,$),N(Ae,G),N(Ae,W))),t.ADD_TAGS&&(ke===Ce&&(ke=P(ke)),N(ke,t.ADD_TAGS,ve)),t.ADD_ATTR&&(Ae===Ie&&(Ae=P(Ae)),N(Ae,t.ADD_ATTR,ve)),t.ADD_URI_SAFE_ATTR&&N(et,t.ADD_URI_SAFE_ATTR,ve),t.FORBID_CONTENTS&&(Xe===Qe&&(Xe=P(Xe)),N(Xe,t.FORBID_CONTENTS,ve)),We&&(ke["#text"]=!0),Fe&&N(ke,["html","head","body"]),ke.table&&(N(ke,["tbody"]),delete Me.tbody),m&&m(t),ht=t)},mt=N({},["mi","mo","mn","ms","mtext"]),gt=N({},["foreignobject","desc","title","annotation-xml"]),vt=N({},["title","style","font","a","script"]),_t=N({},F);N(_t,U),N(_t,B);var yt=N({},$);N(yt,V);var bt=function(e){var t=O(e);t&&t.tagName||(t={namespaceURI:ot,tagName:"template"});var n=E(e.tagName),r=E(t.tagName);return!!at[e.namespaceURI]&&(e.namespaceURI===rt?t.namespaceURI===st?"svg"===n:t.namespaceURI===nt?"svg"===n&&("annotation-xml"===r||mt[r]):Boolean(_t[n]):e.namespaceURI===nt?t.namespaceURI===st?"math"===n:t.namespaceURI===rt?"math"===n&&gt[r]:Boolean(yt[n]):e.namespaceURI===st?!(t.namespaceURI===rt&&!gt[r])&&!(t.namespaceURI===nt&&!mt[r])&&!yt[n]&&(vt[n]||!_t[n]):!("application/xhtml+xml"!==ge||!at[e.namespaceURI]))},wt=function(e){T(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ae}catch(t){e.remove()}}},xt=function(e,t){try{T(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){T(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ae[e])if($e||Ve)try{wt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Tt=function(e){var t,n;if(Be)e="<remove></remove>"+e;else{var r=k(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ge&&ot===st&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var s=ie?ie.createHTML(e):e;if(ot===st)try{t=(new f).parseFromString(s,ge)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(ot,"template",null);try{t.documentElement.innerHTML=it?ae:s}catch(e){}}var i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),ot===st?de.call(t,Fe?"html":"body")[0]:Fe?t.documentElement:i},Et=function(e){return ue.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},St=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},kt=function(t){return"object"===e(l)?t instanceof l:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Ct=function(e,t,r){me[e]&&w(me[e],(function(e){e.call(n,t,r,ht)}))},At=function(e){var t;if(Ct("beforeSanitizeElements",e,null),St(e))return wt(e),!0;if(R(/[\u0080-\uFFFF]/,e.nodeName))return wt(e),!0;var r=ve(e.nodeName);if(Ct("uponSanitizeElement",e,{tagName:r,allowedTags:ke}),e.hasChildNodes()&&!kt(e.firstElementChild)&&(!kt(e.content)||!kt(e.content.firstElementChild))&&R(/<[/\w]/g,e.innerHTML)&&R(/<[/\w]/g,e.textContent))return wt(e),!0;if("select"===r&&R(/<template/i,e.innerHTML))return wt(e),!0;if(!ke[r]||Me[r]){if(!Me[r]&&Rt(r)){if(Re.tagNameCheck instanceof RegExp&&R(Re.tagNameCheck,r))return!1;if(Re.tagNameCheck instanceof Function&&Re.tagNameCheck(r))return!1}if(We&&!Xe[r]){var s=O(e)||e.parentNode,o=b(e)||e.childNodes;if(o&&s)for(var i=o.length-1;i>=0;--i)s.insertBefore(_(o[i],!0),y(e))}return wt(e),!0}return e instanceof c&&!bt(e)?(wt(e),!0):"noscript"!==r&&"noembed"!==r||!R(/<\/no(script|embed)/i,e.innerHTML)?(je&&3===e.nodeType&&(t=e.textContent,t=C(t,_e," "),t=C(t,ye," "),t=C(t,be," "),e.textContent!==t&&(T(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ct("afterSanitizeElements",e,null),!1):(wt(e),!0)},It=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in o||n in dt))return!1;if(Ne&&!Oe[t]&&R(we,t));else if(Le&&R(xe,t));else if(!Ae[t]||Oe[t]){if(!(Rt(e)&&(Re.tagNameCheck instanceof RegExp&&R(Re.tagNameCheck,e)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(e))&&(Re.attributeNameCheck instanceof RegExp&&R(Re.attributeNameCheck,t)||Re.attributeNameCheck instanceof Function&&Re.attributeNameCheck(t))||"is"===t&&Re.allowCustomizedBuiltInElements&&(Re.tagNameCheck instanceof RegExp&&R(Re.tagNameCheck,n)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(n))))return!1}else if(et[t]);else if(R(Se,C(n,Ee,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==A(n,"data:")||!Ze[e])if(Pe&&!R(Te,C(n,Ee,"")));else if(n)return!1;return!0},Rt=function(e){return e.indexOf("-")>0},Mt=function(t){var r,s,o,i;Ct("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ae};for(i=a.length;i--;){var c=r=a[i],u=c.name,h=c.namespaceURI;if(s="value"===u?r.value:I(r.value),o=ve(u),l.attrName=o,l.attrValue=s,l.keepAttr=!0,l.forceKeepAttr=void 0,Ct("uponSanitizeAttribute",t,l),s=l.attrValue,!l.forceKeepAttr&&(xt(u,t),l.keepAttr))if(De||!R(/\/>/i,s)){je&&(s=C(s,_e," "),s=C(s,ye," "),s=C(s,be," "));var d=ve(t.nodeName);if(It(d,o,s)){if(!qe||"id"!==o&&"name"!==o||(xt(u,t),s=Ge+s),ie&&"object"===e(g)&&"function"==typeof g.getAttributeType)if(h);else switch(g.getAttributeType(d,o)){case"TrustedHTML":s=ie.createHTML(s);break;case"TrustedScriptURL":s=ie.createScriptURL(s)}try{h?t.setAttributeNS(h,u,s):t.setAttribute(u,s),x(n.removed)}catch(e){}}}else xt(u,t)}Ct("afterSanitizeAttributes",t,null)}},Ot=function e(t){var n,r=Et(t);for(Ct("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Ct("uponSanitizeShadowNode",n,null),At(n)||(n.content instanceof i&&e(n.content),Mt(n));Ct("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(s){var o,a,c,u,h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((it=!s)&&(s="\x3c!--\x3e"),"string"!=typeof s&&!kt(s)){if("function"!=typeof s.toString)throw M("toString is not a function");if("string"!=typeof(s=s.toString()))throw M("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof s)return t.toStaticHTML(s);if(kt(s))return t.toStaticHTML(s.outerHTML)}return s}if(Ue||ft(d),n.removed=[],"string"==typeof s&&(Ke=!1),Ke){if(s.nodeName){var p=ve(s.nodeName);if(!ke[p]||Me[p])throw M("root node is forbidden and cannot be sanitized in-place")}}else if(s instanceof l)1===(a=(o=Tt("\x3c!----\x3e")).ownerDocument.importNode(s,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!$e&&!je&&!Fe&&-1===s.indexOf("<"))return ie&&He?ie.createHTML(s):s;if(!(o=Tt(s)))return $e?null:He?ae:""}o&&Be&&wt(o.firstChild);for(var f=Et(Ke?s:o);c=f.nextNode();)3===c.nodeType&&c===u||At(c)||(c.content instanceof i&&Ot(c.content),Mt(c),u=c);if(u=null,Ke)return s;if($e){if(Ve)for(h=he.call(o.ownerDocument);o.firstChild;)h.appendChild(o.firstChild);else h=o;return(Ae.shadowroot||Ae.shadowrootmod)&&(h=pe.call(r,h,!0)),h}var m=Fe?o.outerHTML:o.innerHTML;return Fe&&ke["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&R(ne,o.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+m),je&&(m=C(m,_e," "),m=C(m,ye," "),m=C(m,be," ")),ie&&He?ie.createHTML(m):m},n.setConfig=function(e){ft(e),Ue=!0},n.clearConfig=function(){ht=null,Ue=!1},n.isValidAttribute=function(e,t,n){ht||ft({});var r=ve(e),s=ve(t);return It(r,s,n)},n.addHook=function(e,t){"function"==typeof t&&(me[e]=me[e]||[],T(me[e],t))},n.removeHook=function(e){if(me[e])return x(me[e])},n.removeHooks=function(e){me[e]&&(me[e]=[])},n.removeAllHooks=function(){me={}},n}return oe()}()},95573:e=>{"use strict";var t=/["'&<>]/;e.exports=function(e){var n,r=""+e,s=t.exec(r);if(!s)return r;var o="",i=0,a=0;for(i=s.index;i<r.length;i++){switch(r.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}a!==i&&(o+=r.substring(a,i)),a=i+1,o+=n}return a!==i?o+r.substring(a,i):o}},18552:(e,t,n)=>{var r=n(10852)(n(55639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(51789),s=n(80401),o=n(57667),i=n(21327),a=n(81866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=s,l.prototype.get=o,l.prototype.has=i,l.prototype.set=a,e.exports=l},38407:(e,t,n)=>{var r=n(27040),s=n(14125),o=n(82117),i=n(67518),a=n(13399);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=s,l.prototype.get=o,l.prototype.has=i,l.prototype.set=a,e.exports=l},57071:(e,t,n)=>{var r=n(10852)(n(55639),"Map");e.exports=r},83369:(e,t,n)=>{var r=n(24785),s=n(11285),o=n(96e3),i=n(49916),a=n(95265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=s,l.prototype.get=o,l.prototype.has=i,l.prototype.set=a,e.exports=l},53818:(e,t,n)=>{var r=n(10852)(n(55639),"Promise");e.exports=r},58525:(e,t,n)=>{var r=n(10852)(n(55639),"Set");e.exports=r},88668:(e,t,n)=>{var r=n(83369),s=n(90619),o=n(72385);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=s,i.prototype.has=o,e.exports=i},46384:(e,t,n)=>{var r=n(38407),s=n(37465),o=n(63779),i=n(67599),a=n(44758),l=n(34309);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=s,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=l,e.exports=c},62705:(e,t,n)=>{var r=n(55639).Symbol;e.exports=r},11149:(e,t,n)=>{var r=n(55639).Uint8Array;e.exports=r},70577:(e,t,n)=>{var r=n(10852)(n(55639),"WeakMap");e.exports=r},96874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},34963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[s++]=i)}return o}},14636:(e,t,n)=>{var r=n(22545),s=n(35694),o=n(1469),i=n(44144),a=n(65776),l=n(36719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&s(e),h=!n&&!u&&i(e),d=!n&&!u&&!h&&l(e),p=n||u||h||d,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},62488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}},82908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},86556:(e,t,n)=>{var r=n(89465),s=n(77813);e.exports=function(e,t,n){(void 0!==n&&!s(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},34865:(e,t,n)=>{var r=n(89465),s=n(77813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&s(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},18470:(e,t,n)=>{var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},89465:(e,t,n)=>{var r=n(38777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},3118:(e,t,n)=>{var r=n(13218),s=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(s)return s(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},28483:(e,t,n)=>{var r=n(25063)();e.exports=r},68866:(e,t,n)=>{var r=n(62488),s=n(1469);e.exports=function(e,t,n){var o=t(e);return s(e)?o:r(o,n(e))}},44239:(e,t,n)=>{var r=n(62705),s=n(89607),o=n(2333),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?s(e):o(e)}},9454:(e,t,n)=>{var r=n(44239),s=n(37005);e.exports=function(e){return s(e)&&"[object Arguments]"==r(e)}},90939:(e,t,n)=>{var r=n(2492),s=n(37005);e.exports=function e(t,n,o,i,a){return t===n||(null==t||null==n||!s(t)&&!s(n)?t!=t&&n!=n:r(t,n,o,i,e,a))}},2492:(e,t,n)=>{var r=n(46384),s=n(67114),o=n(18351),i=n(16096),a=n(64160),l=n(1469),c=n(44144),u=n(36719),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var _=l(e),y=l(t),b=_?d:a(e),w=y?d:a(t),x=(b=b==h?p:b)==p,T=(w=w==h?p:w)==p,E=b==w;if(E&&c(e)){if(!c(t))return!1;_=!0,x=!1}if(E&&!x)return v||(v=new r),_||u(e)?s(e,t,n,m,g,v):o(e,t,b,n,m,g,v);if(!(1&n)){var S=x&&f.call(e,"__wrapped__"),k=T&&f.call(t,"__wrapped__");if(S||k){var C=S?e.value():e,A=k?t.value():t;return v||(v=new r),g(C,A,n,m,v)}}return!!E&&(v||(v=new r),i(e,t,n,m,g,v))}},28458:(e,t,n)=>{var r=n(23560),s=n(15346),o=n(13218),i=n(80346),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||s(e))&&(r(e)?d:a).test(i(e))}},38749:(e,t,n)=>{var r=n(44239),s=n(41780),o=n(37005),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&s(e.length)&&!!i[r(e)]}},280:(e,t,n)=>{var r=n(25726),s=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},10313:(e,t,n)=>{var r=n(13218),s=n(25726),o=n(33498),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=s(e),n=[];for(var a in e)("constructor"!=a||!t&&i.call(e,a))&&n.push(a);return n}},42980:(e,t,n)=>{var r=n(46384),s=n(86556),o=n(28483),i=n(59783),a=n(13218),l=n(81704),c=n(36390);e.exports=function e(t,n,u,h,d){t!==n&&o(n,(function(o,l){if(d||(d=new r),a(o))i(t,n,l,u,e,h,d);else{var p=h?h(c(t,l),o,l+"",t,n,d):void 0;void 0===p&&(p=o),s(t,l,p)}}),l)}},59783:(e,t,n)=>{var r=n(86556),s=n(64626),o=n(77133),i=n(278),a=n(38517),l=n(35694),c=n(1469),u=n(29246),h=n(44144),d=n(23560),p=n(13218),f=n(68630),m=n(36719),g=n(36390),v=n(59881);e.exports=function(e,t,n,_,y,b,w){var x=g(e,n),T=g(t,n),E=w.get(T);if(E)r(e,n,E);else{var S=b?b(x,T,n+"",e,t,w):void 0,k=void 0===S;if(k){var C=c(T),A=!C&&h(T),I=!C&&!A&&m(T);S=T,C||A||I?c(x)?S=x:u(x)?S=i(x):A?(k=!1,S=s(T,!0)):I?(k=!1,S=o(T,!0)):S=[]:f(T)||l(T)?(S=x,l(x)?S=v(x):p(x)&&!d(x)||(S=a(T))):k=!1}k&&(w.set(T,S),y(S,T,_,b,w),w.delete(T)),r(e,n,S)}}},5976:(e,t,n)=>{var r=n(6557),s=n(45357),o=n(30061);e.exports=function(e,t){return o(s(e,t,r),e+"")}},56560:(e,t,n)=>{var r=n(75703),s=n(38777),o=n(6557),i=s?function(e,t){return s(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},22545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},74757:e=>{e.exports=function(e,t){return e.has(t)}},74318:(e,t,n)=>{var r=n(11149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64626:(e,t,n)=>{e=n.nmd(e);var r=n(55639),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,i=o&&o.exports===s?r.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},77133:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},98363:(e,t,n)=>{var r=n(34865),s=n(89465);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),i?s(n,c,u):r(n,c,u)}return n}},14429:(e,t,n)=>{var r=n(55639)["__core-js_shared__"];e.exports=r},21463:(e,t,n)=>{var r=n(5976),s=n(16612);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&s(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t}))}},25063:e=>{e.exports=function(e){return function(t,n,r){for(var s=-1,o=Object(t),i=r(t),a=i.length;a--;){var l=i[e?a:++s];if(!1===n(o[l],l,o))break}return t}}},38777:(e,t,n)=>{var r=n(10852),s=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=s},67114:(e,t,n)=>{var r=n(88668),s=n(82908),o=n(74757);e.exports=function(e,t,n,i,a,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],_=t[f];if(i)var y=c?i(_,v,f,t,e,l):i(v,_,f,e,t,l);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!s(t,(function(e,t){if(!o(g,t)&&(v===e||a(v,e,n,i,l)))return g.push(t)}))){m=!1;break}}else if(v!==_&&!a(v,_,n,i,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},18351:(e,t,n)=>{var r=n(62705),s=n(11149),o=n(77813),i=n(67114),a=n(68776),l=n(21814),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new s(e),new s(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var g=i(p(e),p(t),r,c,h,d);return d.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},16096:(e,t,n)=>{var r=n(58234),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,a){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in t:s.call(t,d)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++h<u;){var v=e[d=c[h]],_=t[d];if(o)var y=l?o(_,v,d,t,e,a):o(v,_,d,e,t,a);if(!(void 0===y?v===_||i(v,_,n,o,a):y)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return a.delete(e),a.delete(t),m}},31957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},58234:(e,t,n)=>{var r=n(68866),s=n(99551),o=n(3674);e.exports=function(e){return r(e,o,s)}},45050:(e,t,n)=>{var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},10852:(e,t,n)=>{var r=n(28458),s=n(47801);e.exports=function(e,t){var n=s(e,t);return r(n)?n:void 0}},85924:(e,t,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);e.exports=r},89607:(e,t,n)=>{var r=n(62705),s=Object.prototype,o=s.hasOwnProperty,i=s.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var s=i.call(e);return r&&(t?e[a]=n:delete e[a]),s}},99551:(e,t,n)=>{var r=n(34963),s=n(70479),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:s;e.exports=a},64160:(e,t,n)=>{var r=n(18552),s=n(57071),o=n(53818),i=n(58525),a=n(70577),l=n(44239),c=n(80346),u="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(s),v=c(o),_=c(i),y=c(a),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||s&&b(new s)!=u||o&&b(o.resolve())!=h||i&&b(new i)!=d||a&&b(new a)!=p)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case v:return h;case _:return d;case y:return p}return t}),e.exports=b},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},51789:(e,t,n)=>{var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,n)=>{var r=n(94536),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return s.call(t,e)?t[e]:void 0}},21327:(e,t,n)=>{var r=n(94536),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}},81866:(e,t,n)=>{var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},38517:(e,t,n)=>{var r=n(3118),s=n(85924),o=n(25726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(s(e))}},65776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},16612:(e,t,n)=>{var r=n(77813),s=n(98612),o=n(65776),i=n(13218);e.exports=function(e,t,n){if(!i(n))return!1;var a=typeof t;return!!("number"==a?s(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,n)=>{var r,s=n(14429),o=(r=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,n)=>{var r=n(18470),s=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():s.call(t,n,1),--this.size,!0)}},82117:(e,t,n)=>{var r=n(18470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},67518:(e,t,n)=>{var r=n(18470);e.exports=function(e){return r(this.__data__,e)>-1}},13399:(e,t,n)=>{var r=n(18470);e.exports=function(e,t){var n=this.__data__,s=r(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}},24785:(e,t,n)=>{var r=n(1989),s=n(38407),o=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||s),string:new r}}},11285:(e,t,n)=>{var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:(e,t,n)=>{var r=n(45050);e.exports=function(e,t){var n=r(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}},68776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},94536:(e,t,n)=>{var r=n(10852)(Object,"create");e.exports=r},86916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},33498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},31167:(e,t,n)=>{e=n.nmd(e);var r=n(31957),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,i=o&&o.exports===s&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},45357:(e,t,n)=>{var r=n(96874),s=Math.max;e.exports=function(e,t,n){return t=s(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=s(o.length-t,0),l=Array(a);++i<a;)l[i]=o[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=o[i];return c[t]=n(l),r(e,this,c)}}},55639:(e,t,n)=>{var r=n(31957),s="object"==typeof self&&self&&self.Object===Object&&self,o=r||s||Function("return this")();e.exports=o},36390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},21814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},30061:(e,t,n)=>{var r=n(56560),s=n(21275)(r);e.exports=s},21275:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var s=t(),o=16-(s-r);if(r=s,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},37465:(e,t,n)=>{var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,n)=>{var r=n(38407),s=n(57071),o=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!s||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},75703:e=>{e.exports=function(e){return function(){return e}}},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6557:e=>{e.exports=function(e){return e}},35694:(e,t,n)=>{var r=n(9454),s=n(37005),o=Object.prototype,i=o.hasOwnProperty,a=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return s(e)&&i.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,n)=>{var r=n(23560),s=n(41780);e.exports=function(e){return null!=e&&s(e.length)&&!r(e)}},29246:(e,t,n)=>{var r=n(98612),s=n(37005);e.exports=function(e){return s(e)&&r(e)}},44144:(e,t,n)=>{e=n.nmd(e);var r=n(55639),s=n(95062),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||s;e.exports=l},18446:(e,t,n)=>{var r=n(90939);e.exports=function(e,t){return r(e,t)}},23560:(e,t,n)=>{var r=n(44239),s=n(13218);e.exports=function(e){if(!s(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},68630:(e,t,n)=>{var r=n(44239),s=n(85924),o=n(37005),i=Function.prototype,a=Object.prototype,l=i.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=s(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},36719:(e,t,n)=>{var r=n(38749),s=n(7518),o=n(31167),i=o&&o.isTypedArray,a=i?s(i):r;e.exports=a},3674:(e,t,n)=>{var r=n(14636),s=n(280),o=n(98612);e.exports=function(e){return o(e)?r(e):s(e)}},81704:(e,t,n)=>{var r=n(14636),s=n(10313),o=n(98612);e.exports=function(e){return o(e)?r(e,!0):s(e)}},82492:(e,t,n)=>{var r=n(42980),s=n(21463)((function(e,t,n){r(e,t,n)}));e.exports=s},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},59881:(e,t,n)=>{var r=n(98363),s=n(81704);e.exports=function(e){return r(e,s(e))}},34155:e=>{var t,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,l=[],c=!1,u=-1;function h(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&d())}function d(){if(!c){var e=i(h);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||i(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},93379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],a=0;a<e.length;a++){var l=e[a],c=r.base?l[0]+r.base:l[0],u=o[c]||0,h="".concat(c," ").concat(u);o[c]=u+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=s(p,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:f,references:1})}i.push(h)}return i}function s(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var o=r(e=e||[],s=s||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var a=n(o[i]);t[a].references--}for(var l=r(e,s),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},90569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},19216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,s&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},44589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},48588:function(e){var t,n;t=this,n=function(e){var t=function(e){return new t.lib.init(e)};function n(e,t){return t.offset[e]?isNaN(t.offset[e])?t.offset[e]:t.offset[e]+"px":"0px"}function r(e,t){return!(!e||"string"!=typeof t||!(e.className&&e.className.trim().split(/\s+/gi).indexOf(t)>-1))}return t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:"1.12.0",constructor:t,init:function(e){return e||(e={}),this.options={},this.toastElement=null,this.options.text=e.text||t.defaults.text,this.options.node=e.node||t.defaults.node,this.options.duration=0===e.duration?0:e.duration||t.defaults.duration,this.options.selector=e.selector||t.defaults.selector,this.options.callback=e.callback||t.defaults.callback,this.options.destination=e.destination||t.defaults.destination,this.options.newWindow=e.newWindow||t.defaults.newWindow,this.options.close=e.close||t.defaults.close,this.options.gravity="bottom"===e.gravity?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=e.positionLeft||t.defaults.positionLeft,this.options.position=e.position||t.defaults.position,this.options.backgroundColor=e.backgroundColor||t.defaults.backgroundColor,this.options.avatar=e.avatar||t.defaults.avatar,this.options.className=e.className||t.defaults.className,this.options.stopOnFocus=void 0===e.stopOnFocus?t.defaults.stopOnFocus:e.stopOnFocus,this.options.onClick=e.onClick||t.defaults.onClick,this.options.offset=e.offset||t.defaults.offset,this.options.escapeMarkup=void 0!==e.escapeMarkup?e.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=e.ariaLive||t.defaults.ariaLive,this.options.style=e.style||t.defaults.style,e.backgroundColor&&(this.options.style.background=e.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var e=document.createElement("div");for(var t in e.className="toastify on "+this.options.className,this.options.position?e.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(e.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):e.className+=" toastify-right",e.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)e.style[t]=this.options.style[t];if(this.options.ariaLive&&e.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)e.appendChild(this.options.node);else if(this.options.escapeMarkup?e.innerText=this.options.text:e.innerHTML=this.options.text,""!==this.options.avatar){var r=document.createElement("img");r.src=this.options.avatar,r.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?e.appendChild(r):e.insertAdjacentElement("afterbegin",r)}if(!0===this.options.close){var s=document.createElement("button");s.type="button",s.setAttribute("aria-label","Close"),s.className="toast-close",s.innerHTML="&#10006;",s.addEventListener("click",function(e){e.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var o=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&o>360?e.insertAdjacentElement("afterbegin",s):e.appendChild(s)}if(this.options.stopOnFocus&&this.options.duration>0){var i=this;e.addEventListener("mouseover",(function(t){window.clearTimeout(e.timeOutValue)})),e.addEventListener("mouseleave",(function(){e.timeOutValue=window.setTimeout((function(){i.removeElement(e)}),i.options.duration)}))}if(void 0!==this.options.destination&&e.addEventListener("click",function(e){e.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&e.addEventListener("click",function(e){e.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var a=n("x",this.options),l=n("y",this.options),c="left"==this.options.position?a:"-"+a,u="toastify-top"==this.options.gravity?l:"-"+l;e.style.transform="translate("+c+","+u+")"}return e},showToast:function(){var e;if(this.toastElement=this.buildToast(),!(e="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=t.defaults.oldestFirst?e.firstChild:e.lastChild;return e.insertBefore(this.toastElement,n),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(e){e.className=e.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),e.parentNode&&e.parentNode.removeChild(e),this.options.callback.call(e),t.reposition()}.bind(this),400)}},t.reposition=function(){for(var e,t={top:15,bottom:15},n={top:15,bottom:15},s={top:15,bottom:15},o=document.getElementsByClassName("toastify"),i=0;i<o.length;i++){e=!0===r(o[i],"toastify-top")?"toastify-top":"toastify-bottom";var a=o[i].offsetHeight;e=e.substr(9,e.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(o[i].style[e]=s[e]+"px",s[e]+=a+15):!0===r(o[i],"toastify-left")?(o[i].style[e]=t[e]+"px",t[e]+=a+15):(o[i].style[e]=n[e]+"px",n[e]+=a+15)}return this},t.lib.init.prototype=t.lib,t},e.exports?e.exports=n():t.Toastify=n()},25062:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJtZGktY2hlY2stY2lyY2xlLW91dGxpbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyIDJDNi41IDIgMiA2LjUgMiAxMlM2LjUgMjIgMTIgMjIgMjIgMTcuNSAyMiAxMiAxNy41IDIgMTIgMk0xMiAyMEM3LjU5IDIwIDQgMTYuNDEgNCAxMlM3LjU5IDQgMTIgNCAyMCA3LjU5IDIwIDEyIDE2LjQxIDIwIDEyIDIwTTE2LjU5IDcuNThMMTAgMTQuMTdMNy40MSAxMS41OUw2IDEzTDEwIDE3TDE4IDlMMTYuNTkgNy41OFoiIC8+PC9zdmc+"},9021:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJtZGktY2xvc2UtY2lyY2xlLW91dGxpbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyLDIwQzcuNTksMjAgNCwxNi40MSA0LDEyQzQsNy41OSA3LjU5LDQgMTIsNEMxNi40MSw0IDIwLDcuNTkgMjAsMTJDMjAsMTYuNDEgMTYuNDEsMjAgMTIsMjBNMTIsMkM2LjQ3LDIgMiw2LjQ3IDIsMTJDMiwxNy41MyA2LjQ3LDIyIDEyLDIyQzE3LjUzLDIyIDIyLDE3LjUzIDIyLDEyQzIyLDYuNDcgMTcuNTMsMiAxMiwyTTE0LjU5LDhMMTIsMTAuNTlMOS40MSw4TDgsOS40MUwxMC41OSwxMkw4LDE0LjU5TDkuNDEsMTZMMTIsMTMuNDFMMTQuNTksMTZMMTYsMTQuNTlMMTMuNDEsMTJMMTYsOS40MUwxNC41OSw4WiIgLz48L3N2Zz4="},3005:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJtZGktZGF0YWJhc2UiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyLDNDNy41OCwzIDQsNC43OSA0LDdDNCw5LjIxIDcuNTgsMTEgMTIsMTFDMTYuNDIsMTEgMjAsOS4yMSAyMCw3QzIwLDQuNzkgMTYuNDIsMyAxMiwzTTQsOVYxMkM0LDE0LjIxIDcuNTgsMTYgMTIsMTZDMTYuNDIsMTYgMjAsMTQuMjEgMjAsMTJWOUMyMCwxMS4yMSAxNi40MiwxMyAxMiwxM0M3LjU4LDEzIDQsMTEuMjEgNCw5TTQsMTRWMTdDNCwxOS4yMSA3LjU4LDIxIDEyLDIxQzE2LjQyLDIxIDIwLDE5LjIxIDIwLDE3VjE0QzIwLDE2LjIxIDE2LjQyLDE4IDEyLDE4QzcuNTgsMTggNCwxNi4yMSA0LDE0WiIgLz48L3N2Zz4="}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/apps/llamavirtualuser/js/",n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=Object.freeze({}),t=Array.isArray;function r(e){return null==e}function s(e){return null!=e}function o(e){return!0===e}function i(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function a(e){return"function"==typeof e}function l(e){return null!==e&&"object"==typeof e}var c=Object.prototype.toString;function u(e){return"[object Object]"===c.call(e)}function h(e){return"[object RegExp]"===c.call(e)}function d(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return s(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function f(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var n=Object.create(null),r=e.split(","),s=0;s<r.length;s++)n[r[s]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}g("slot,component",!0);var v=g("key,ref,slot,slot-scope,is");function _(e,t){var n=e.length;if(n){if(t===e[n-1])return void(e.length=n-1);var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var y=Object.prototype.hasOwnProperty;function b(e,t){return y.call(e,t)}function w(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var x=/-(\w)/g,T=w((function(e){return e.replace(x,(function(e,t){return t?t.toUpperCase():""}))})),E=w((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),S=/\B([A-Z])/g,k=w((function(e){return e.replace(S,"-$1").toLowerCase()}));var C=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function A(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function I(e,t){for(var n in t)e[n]=t[n];return e}function R(e){for(var t={},n=0;n<e.length;n++)e[n]&&I(t,e[n]);return t}function M(e,t,n){}var O=function(e,t,n){return!1},L=function(e){return e};function N(e,t){if(e===t)return!0;var n=l(e),r=l(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var s=Array.isArray(e),o=Array.isArray(t);if(s&&o)return e.length===t.length&&e.every((function(e,n){return N(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(s||o)return!1;var i=Object.keys(e),a=Object.keys(t);return i.length===a.length&&i.every((function(n){return N(e[n],t[n])}))}catch(e){return!1}}function P(e,t){for(var n=0;n<e.length;n++)if(N(e[n],t))return n;return-1}function D(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function j(e,t){return e===t?0===e&&1/e!=1/t:e==e||t==t}var F="data-server-rendered",U=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:M,parsePlatformTagName:L,mustUseProp:O,async:!0,_lifecycleHooks:B},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function z(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var q=new RegExp("[^".concat(V.source,".$_\\d]"));var G="__proto__"in{},W="undefined"!=typeof window,K=W&&window.navigator.userAgent.toLowerCase(),Y=K&&/msie|trident/.test(K),X=K&&K.indexOf("msie 9.0")>0,Q=K&&K.indexOf("edge/")>0;K&&K.indexOf("android");var Z=K&&/iphone|ipad|ipod|ios/.test(K);K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K);var J,ee=K&&K.match(/firefox\/(\d+)/),te={}.watch,ne=!1;if(W)try{var re={};Object.defineProperty(re,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,re)}catch(e){}var se=function(){return void 0===J&&(J=!W&&void 0!==n.g&&(n.g.process&&"server"===n.g.process.env.VUE_ENV)),J},oe=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ie(e){return"function"==typeof e&&/native code/.test(e.toString())}var ae,le="undefined"!=typeof Symbol&&ie(Symbol)&&"undefined"!=typeof Reflect&&ie(Reflect.ownKeys);ae="undefined"!=typeof Set&&ie(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ce=null;function ue(e){void 0===e&&(e=null),e||ce&&ce._scope.off(),ce=e,e&&e._scope.on()}var he=function(){function e(e,t,n,r,s,o,i,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=s,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=i,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),de=function(e){void 0===e&&(e="");var t=new he;return t.text=e,t.isComment=!0,t};function pe(e){return new he(void 0,void 0,void 0,String(e))}function fe(e){var t=new he(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var me=0,ge=[],ve=function(){for(var e=0;e<ge.length;e++){var t=ge[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}ge.length=0},_e=function(){function e(){this._pending=!1,this.id=me++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,ge.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){var t=this.subs.filter((function(e){return e}));for(var n=0,r=t.length;n<r;n++){0,t[n].update()}},e}();_e.target=null;var ye=[];function be(e){ye.push(e),_e.target=e}function we(){ye.pop(),_e.target=ye[ye.length-1]}var xe=Array.prototype,Te=Object.create(xe);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=xe[e];z(Te,e,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s,o=t.apply(this,n),i=this.__ob__;switch(e){case"push":case"unshift":s=n;break;case"splice":s=n.slice(2)}return s&&i.observeArray(s),i.dep.notify(),o}))}));var Ee=Object.getOwnPropertyNames(Te),Se={},ke=!0;function Ce(e){ke=e}var Ae={notify:M,depend:M,addSub:M,removeSub:M},Ie=function(){function e(e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),this.value=e,this.shallow=n,this.mock=r,this.dep=r?Ae:new _e,this.vmCount=0,z(e,"__ob__",this),t(e)){if(!r)if(G)e.__proto__=Te;else for(var s=0,o=Ee.length;s<o;s++){z(e,a=Ee[s],Te[a])}n||this.observeArray(e)}else{var i=Object.keys(e);for(s=0;s<i.length;s++){var a;Me(e,a=i[s],Se,void 0,n,r)}}}return e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Re(e[t],!1,this.mock)},e}();function Re(e,n,r){return e&&b(e,"__ob__")&&e.__ob__ instanceof Ie?e.__ob__:!ke||!r&&se()||!t(e)&&!u(e)||!Object.isExtensible(e)||e.__v_skip||He(e)||e instanceof he?void 0:new Ie(e,n,r)}function Me(e,n,r,s,o,i){var a=new _e,l=Object.getOwnPropertyDescriptor(e,n);if(!l||!1!==l.configurable){var c=l&&l.get,u=l&&l.set;c&&!u||r!==Se&&2!==arguments.length||(r=e[n]);var h=!o&&Re(r,!1,i);return Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var n=c?c.call(e):r;return _e.target&&(a.depend(),h&&(h.dep.depend(),t(n)&&Ne(n))),He(n)&&!o?n.value:n},set:function(t){var n=c?c.call(e):r;if(j(n,t)){if(u)u.call(e,t);else{if(c)return;if(!o&&He(n)&&!He(t))return void(n.value=t);r=t}h=!o&&Re(t,!1,i),a.notify()}}}),a}}function Oe(e,n,r){if(!Ue(e)){var s=e.__ob__;return t(e)&&d(n)?(e.length=Math.max(e.length,n),e.splice(n,1,r),s&&!s.shallow&&s.mock&&Re(r,!1,!0),r):n in e&&!(n in Object.prototype)?(e[n]=r,r):e._isVue||s&&s.vmCount?r:s?(Me(s.value,n,r,void 0,s.shallow,s.mock),s.dep.notify(),r):(e[n]=r,r)}}function Le(e,n){if(t(e)&&d(n))e.splice(n,1);else{var r=e.__ob__;e._isVue||r&&r.vmCount||Ue(e)||b(e,n)&&(delete e[n],r&&r.dep.notify())}}function Ne(e){for(var n=void 0,r=0,s=e.length;r<s;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),t(n)&&Ne(n)}function Pe(e){return De(e,!0),z(e,"__v_isShallow",!0),e}function De(e,t){if(!Ue(e)){Re(e,t,se());0}}function je(e){return Ue(e)?je(e.__v_raw):!(!e||!e.__ob__)}function Fe(e){return!(!e||!e.__v_isShallow)}function Ue(e){return!(!e||!e.__v_isReadonly)}function Be(e){var t=e&&e.__v_raw;return t?Be(t):e}function $e(e){return Object.isExtensible(e)&&z(e,"__v_skip",!0),e}var Ve="__v_isRef";function He(e){return!(!e||!0!==e.__v_isRef)}function ze(e){return qe(e,!1)}function qe(e,t){if(He(e))return e;var n={};return z(n,Ve,!0),z(n,"__v_isShallow",t),z(n,"dep",Me(n,"value",e,null,t,se())),n}function Ge(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];if(He(e))return e.value;var r=e&&e.__ob__;return r&&r.dep.depend(),e},set:function(e){var r=t[n];He(r)&&!He(e)?r.value=e:t[n]=e}})}function We(e,t,n){var r=e[t];if(He(r))return r;var s={get value(){var r=e[t];return void 0===r?n:r},set value(n){e[t]=n}};return z(s,Ve,!0),s}var Ke="watcher",Ye="".concat(Ke," callback"),Xe="".concat(Ke," getter"),Qe="".concat(Ke," cleanup");var Ze,Je={};function et(e,t,n){return tt(e,t,n)}function tt(n,r,s){var o=void 0===s?e:s,i=o.immediate,l=o.deep,c=o.flush,u=void 0===c?"pre":c;o.onTrack,o.onTrigger;var h,d,p=ce,f=function(e,t,n){return void 0===n&&(n=null),Gt(e,null,n,p,t)},m=!1,g=!1;if(He(n)?(h=function(){return n.value},m=Fe(n)):je(n)?(h=function(){return n.__ob__.dep.depend(),n},l=!0):t(n)?(g=!0,m=n.some((function(e){return je(e)||Fe(e)})),h=function(){return n.map((function(e){return He(e)?e.value:je(e)?ln(e):a(e)?f(e,Xe):void 0}))}):h=a(n)?r?function(){return f(n,Xe)}:function(){if(!p||!p._isDestroyed)return d&&d(),f(n,Ke,[_])}:M,r&&l){var v=h;h=function(){return ln(v())}}var _=function(e){d=y.onStop=function(){f(e,Qe)}};if(se())return _=M,r?i&&f(r,Ye,[h(),g?[]:void 0,_]):h(),M;var y=new dn(ce,h,M,{lazy:!0});y.noRecurse=!r;var b=g?[]:Je;return y.run=function(){if(y.active)if(r){var e=y.get();(l||m||(g?e.some((function(e,t){return j(e,b[t])})):j(e,b)))&&(d&&d(),f(r,Ye,[e,b===Je?void 0:b,_]),b=e)}else y.get()},"sync"===u?y.update=y.run:"post"===u?(y.post=!0,y.update=function(){return Nn(y)}):y.update=function(){if(p&&p===ce&&!p._isMounted){var e=p._preWatchers||(p._preWatchers=[]);e.indexOf(y)<0&&e.push(y)}else Nn(y)},r?i?y.run():b=y.get():"post"===u&&p?p.$once("hook:mounted",(function(){return y.get()})):y.get(),function(){y.teardown()}}var nt=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ze,!e&&Ze&&(this.index=(Ze.scopes||(Ze.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=Ze;try{return Ze=this,e()}finally{Ze=t}}else 0},e.prototype.on=function(){Ze=this},e.prototype.off=function(){Ze=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},e}();function rt(e){return new nt(e)}function st(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}var ot=w((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}}));function it(e,n){function r(){var e=r.fns;if(!t(e))return Gt(e,null,arguments,n,"v-on handler");for(var s=e.slice(),o=0;o<s.length;o++)Gt(s[o],null,arguments,n,"v-on handler")}return r.fns=e,r}function at(e,t,n,s,i,a){var l,c,u,h;for(l in e)c=e[l],u=t[l],h=ot(l),r(c)||(r(u)?(r(c.fns)&&(c=e[l]=it(c,a)),o(h.once)&&(c=e[l]=i(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,e[l]=u));for(l in t)r(e[l])&&s((h=ot(l)).name,t[l],h.capture)}function lt(e,t,n){var i;e instanceof he&&(e=e.data.hook||(e.data.hook={}));var a=e[t];function l(){n.apply(this,arguments),_(i.fns,l)}r(a)?i=it([l]):s(a.fns)&&o(a.merged)?(i=a).fns.push(l):i=it([a,l]),i.merged=!0,e[t]=i}function ct(e,t,n,r,o){if(s(t)){if(b(t,n))return e[n]=t[n],o||delete t[n],!0;if(b(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function ut(e){return i(e)?[pe(e)]:t(e)?dt(e):void 0}function ht(e){return s(e)&&s(e.text)&&function(e){return!1===e}(e.isComment)}function dt(e,n){var a,l,c,u,h=[];for(a=0;a<e.length;a++)r(l=e[a])||"boolean"==typeof l||(u=h[c=h.length-1],t(l)?l.length>0&&(ht((l=dt(l,"".concat(n||"","_").concat(a)))[0])&&ht(u)&&(h[c]=pe(u.text+l[0].text),l.shift()),h.push.apply(h,l)):i(l)?ht(u)?h[c]=pe(u.text+l):""!==l&&h.push(pe(l)):ht(l)&&ht(u)?h[c]=pe(u.text+l.text):(o(e._isVList)&&s(l.tag)&&r(l.key)&&s(n)&&(l.key="__vlist".concat(n,"_").concat(a,"__")),h.push(l)));return h}function pt(e,n){var r,o,i,a,c=null;if(t(e)||"string"==typeof e)for(c=new Array(e.length),r=0,o=e.length;r<o;r++)c[r]=n(e[r],r);else if("number"==typeof e)for(c=new Array(e),r=0;r<e;r++)c[r]=n(r+1,r);else if(l(e))if(le&&e[Symbol.iterator]){c=[];for(var u=e[Symbol.iterator](),h=u.next();!h.done;)c.push(n(h.value,c.length)),h=u.next()}else for(i=Object.keys(e),c=new Array(i.length),r=0,o=i.length;r<o;r++)a=i[r],c[r]=n(e[a],a,r);return s(c)||(c=[]),c._isVList=!0,c}function ft(e,t,n,r){var s,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=I(I({},r),n)),s=o(n)||(a(t)?t():t)):s=this.$slots[e]||(a(t)?t():t);var i=n&&n.slot;return i?this.$createElement("template",{slot:i},s):s}function mt(e){return Zn(this.$options,"filters",e,!0)||L}function gt(e,n){return t(e)?-1===e.indexOf(n):e!==n}function vt(e,t,n,r,s){var o=$.keyCodes[t]||n;return s&&r&&!$.keyCodes[t]?gt(s,r):o?gt(o,e):r?k(r)!==t:void 0===e}function _t(e,n,r,s,o){if(r)if(l(r)){t(r)&&(r=R(r));var i=void 0,a=function(t){if("class"===t||"style"===t||v(t))i=e;else{var a=e.attrs&&e.attrs.type;i=s||$.mustUseProp(n,a,t)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=T(t),c=k(t);l in i||c in i||(i[t]=r[t],o&&((e.on||(e.on={}))["update:".concat(t)]=function(e){r[t]=e}))};for(var c in r)a(c)}else;return e}function yt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||wt(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),r}function bt(e,t,n){return wt(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function wt(e,n,r){if(t(e))for(var s=0;s<e.length;s++)e[s]&&"string"!=typeof e[s]&&xt(e[s],"".concat(n,"_").concat(s),r);else xt(e,n,r)}function xt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Tt(e,t){if(t)if(u(t)){var n=e.on=e.on?I({},e.on):{};for(var r in t){var s=n[r],o=t[r];n[r]=s?[].concat(s,o):o}}else;return e}function Et(e,n,r,s){n=n||{$stable:!r};for(var o=0;o<e.length;o++){var i=e[o];t(i)?Et(i,n,r):i&&(i.proxy&&(i.fn.proxy=!0),n[i.key]=i.fn)}return s&&(n.$key=s),n}function St(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function kt(e,t){return"string"==typeof e?t+e:e}function Ct(e){e._o=bt,e._n=m,e._s=f,e._l=pt,e._t=ft,e._q=N,e._i=P,e._m=yt,e._f=mt,e._k=vt,e._b=_t,e._v=pe,e._e=de,e._u=Et,e._g=Tt,e._d=St,e._p=kt}function At(e,t){if(!e||!e.length)return{};for(var n={},r=0,s=e.length;r<s;r++){var o=e[r],i=o.data;if(i&&i.attrs&&i.attrs.slot&&delete i.attrs.slot,o.context!==t&&o.fnContext!==t||!i||null==i.slot)(n.default||(n.default=[])).push(o);else{var a=i.slot,l=n[a]||(n[a]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(It)&&delete n[c];return n}function It(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Rt(e){return e.isComment&&e.asyncFactory}function Mt(t,n,r,s){var o,i=Object.keys(r).length>0,a=n?!!n.$stable:!i,l=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(a&&s&&s!==e&&l===s.$key&&!i&&!s.$hasNormal)return s;for(var c in o={},n)n[c]&&"$"!==c[0]&&(o[c]=Ot(t,r,c,n[c]))}else o={};for(var u in r)u in o||(o[u]=Lt(r,u));return n&&Object.isExtensible(n)&&(n._normalized=o),z(o,"$stable",a),z(o,"$key",l),z(o,"$hasNormal",i),o}function Ot(e,n,r,s){var o=function(){var n=ce;ue(e);var r=arguments.length?s.apply(null,arguments):s({}),o=(r=r&&"object"==typeof r&&!t(r)?[r]:ut(r))&&r[0];return ue(n),r&&(!o||1===r.length&&o.isComment&&!Rt(o))?void 0:r};return s.proxy&&Object.defineProperty(n,r,{get:o,enumerable:!0,configurable:!0}),o}function Lt(e,t){return function(){return e[t]}}function Nt(t){return{get attrs(){if(!t._attrsProxy){var n=t._attrsProxy={};z(n,"_v_attr_proxy",!0),Pt(n,t.$attrs,e,t,"$attrs")}return t._attrsProxy},get listeners(){t._listenersProxy||Pt(t._listenersProxy={},t.$listeners,e,t,"$listeners");return t._listenersProxy},get slots(){return function(e){e._slotsProxy||jt(e._slotsProxy={},e.$scopedSlots);return e._slotsProxy}(t)},emit:C(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return Ge(t,e,n)}))}}}function Pt(e,t,n,r,s){var o=!1;for(var i in t)i in e?t[i]!==n[i]&&(o=!0):(o=!0,Dt(e,i,r,s));for(var i in e)i in t||(o=!0,delete e[i]);return o}function Dt(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[r][t]}})}function jt(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}var Ft=null;function Ut(e,t){return(e.__esModule||le&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?t.extend(e):e}function Bt(e){if(t(e))for(var n=0;n<e.length;n++){var r=e[n];if(s(r)&&(s(r.componentOptions)||Rt(r)))return r}}var $t=1,Vt=2;function Ht(e,n,r,c,u,h){return(t(r)||i(r))&&(u=c,c=r,r=void 0),o(h)&&(u=Vt),function(e,n,r,o,i){if(s(r)&&s(r.__ob__))return de();s(r)&&s(r.is)&&(n=r.is);if(!n)return de();0;t(o)&&a(o[0])&&((r=r||{}).scopedSlots={default:o[0]},o.length=0);i===Vt?o=ut(o):i===$t&&(o=function(e){for(var n=0;n<e.length;n++)if(t(e[n]))return Array.prototype.concat.apply([],e);return e}(o));var c,u;if("string"==typeof n){var h=void 0;u=e.$vnode&&e.$vnode.ns||$.getTagNamespace(n),c=$.isReservedTag(n)?new he($.parsePlatformTagName(n),r,o,void 0,void 0,e):r&&r.pre||!s(h=Zn(e.$options,"components",n))?new he(n,r,o,void 0,void 0,e):Vn(h,r,e,o,n)}else c=Vn(n,r,e,o);return t(c)?c:s(c)?(s(u)&&zt(c,u),s(r)&&function(e){l(e.style)&&ln(e.style);l(e.class)&&ln(e.class)}(r),c):de()}(e,n,r,c,u)}function zt(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),s(e.children))for(var i=0,a=e.children.length;i<a;i++){var l=e.children[i];s(l.tag)&&(r(l.ns)||o(n)&&"svg"!==l.tag)&&zt(l,t,n)}}function qt(e,t,n){be();try{if(t)for(var r=t;r=r.$parent;){var s=r.$options.errorCaptured;if(s)for(var o=0;o<s.length;o++)try{if(!1===s[o].call(r,e,t,n))return}catch(e){Wt(e,r,"errorCaptured hook")}}Wt(e,t,n)}finally{we()}}function Gt(e,t,n,r,s){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(e){return qt(e,r,s+" (Promise/async)")})),o._handled=!0)}catch(e){qt(e,r,s)}return o}function Wt(e,t,n){if($.errorHandler)try{return $.errorHandler.call(null,e,t,n)}catch(t){t!==e&&Kt(t,null,"config.errorHandler")}Kt(e,t,n)}function Kt(e,t,n){if(!W||"undefined"==typeof console)throw e;console.error(e)}var Yt,Xt=!1,Qt=[],Zt=!1;function Jt(){Zt=!1;var e=Qt.slice(0);Qt.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&ie(Promise)){var en=Promise.resolve();Yt=function(){en.then(Jt),Z&&setTimeout(M)},Xt=!0}else if(Y||"undefined"==typeof MutationObserver||!ie(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Yt="undefined"!=typeof setImmediate&&ie(setImmediate)?function(){setImmediate(Jt)}:function(){setTimeout(Jt,0)};else{var tn=1,nn=new MutationObserver(Jt),rn=document.createTextNode(String(tn));nn.observe(rn,{characterData:!0}),Yt=function(){tn=(tn+1)%2,rn.data=String(tn)},Xt=!0}function sn(e,t){var n;if(Qt.push((function(){if(e)try{e.call(t)}catch(e){qt(e,t,"nextTick")}else n&&n(t)})),Zt||(Zt=!0,Yt()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}function on(e){return function(t,n){if(void 0===n&&(n=ce),n)return function(e,t,n){var r=e.$options;r[t]=Kn(r[t],n)}(n,e,t)}}on("beforeMount"),on("mounted"),on("beforeUpdate"),on("updated"),on("beforeDestroy"),on("destroyed"),on("activated"),on("deactivated"),on("serverPrefetch"),on("renderTracked"),on("renderTriggered"),on("errorCaptured");var an=new ae;function ln(e){return cn(e,an),an.clear(),e}function cn(e,n){var r,s,o=t(e);if(!(!o&&!l(e)||e.__v_skip||Object.isFrozen(e)||e instanceof he)){if(e.__ob__){var i=e.__ob__.dep.id;if(n.has(i))return;n.add(i)}if(o)for(r=e.length;r--;)cn(e[r],n);else if(He(e))cn(e.value,n);else for(r=(s=Object.keys(e)).length;r--;)cn(e[s[r]],n)}}var un,hn=0,dn=function(){function e(e,t,n,r,s){var o,i;o=this,void 0===(i=Ze&&!Ze._vm?Ze:e?e._scope:void 0)&&(i=Ze),i&&i.active&&i.effects.push(o),(this.vm=e)&&s&&(e._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++hn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ae,this.newDepIds=new ae,this.expression="",a(t)?this.getter=t:(this.getter=function(e){if(!q.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=M)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;be(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;qt(e,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&ln(e),we(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Nn(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');Gt(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&_(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function pn(e,t){un.$on(e,t)}function fn(e,t){un.$off(e,t)}function mn(e,t){var n=un;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function gn(e,t,n){un=e,at(t,n||{},pn,fn,mn,e),un=void 0}var vn=null;function _n(e){var t=vn;return vn=e,function(){vn=t}}function yn(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function bn(e,t){if(t){if(e._directInactive=!1,yn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)bn(e.$children[n]);xn(e,"activated")}}function wn(e,t){if(!(t&&(e._directInactive=!0,yn(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)wn(e.$children[n]);xn(e,"deactivated")}}function xn(e,t,n,r){void 0===r&&(r=!0),be();var s=ce;r&&ue(e);var o=e.$options[t],i="".concat(t," hook");if(o)for(var a=0,l=o.length;a<l;a++)Gt(o[a],e,n||null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),r&&ue(s),we()}var Tn=[],En=[],Sn={},kn=!1,Cn=!1,An=0;var In=0,Rn=Date.now;if(W&&!Y){var Mn=window.performance;Mn&&"function"==typeof Mn.now&&Rn()>document.createEvent("Event").timeStamp&&(Rn=function(){return Mn.now()})}var On=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Ln(){var e,t;for(In=Rn(),Cn=!0,Tn.sort(On),An=0;An<Tn.length;An++)(e=Tn[An]).before&&e.before(),t=e.id,Sn[t]=null,e.run();var n=En.slice(),r=Tn.slice();An=Tn.length=En.length=0,Sn={},kn=Cn=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,bn(e[t],!0)}(n),function(e){var t=e.length;for(;t--;){var n=e[t],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&xn(r,"updated")}}(r),ve(),oe&&$.devtools&&oe.emit("flush")}function Nn(e){var t=e.id;if(null==Sn[t]&&(e!==_e.target||!e.noRecurse)){if(Sn[t]=!0,Cn){for(var n=Tn.length-1;n>An&&Tn[n].id>e.id;)n--;Tn.splice(n+1,0,e)}else Tn.push(e);kn||(kn=!0,sn(Ln))}}function Pn(e,t){if(e){for(var n=Object.create(null),r=le?Reflect.ownKeys(e):Object.keys(e),s=0;s<r.length;s++){var o=r[s];if("__ob__"!==o){var i=e[o].from;if(i in t._provided)n[o]=t._provided[i];else if("default"in e[o]){var l=e[o].default;n[o]=a(l)?l.call(t):l}else 0}}return n}}function Dn(n,r,s,i,a){var l,c=this,u=a.options;b(i,"_uid")?(l=Object.create(i))._original=i:(l=i,i=i._original);var h=o(u._compiled),d=!h;this.data=n,this.props=r,this.children=s,this.parent=i,this.listeners=n.on||e,this.injections=Pn(u.inject,i),this.slots=function(){return c.$slots||Mt(i,n.scopedSlots,c.$slots=At(s,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Mt(i,n.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Mt(i,n.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,n,r,s){var o=Ht(l,e,n,r,s,d);return o&&!t(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,r){return Ht(l,e,t,n,r,d)}}function jn(e,t,n,r,s){var o=fe(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Fn(e,t){for(var n in t)e[T(n)]=t[n]}function Un(e){return e.name||e.__name||e._componentTag}Ct(Dn.prototype);var Bn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Bn.prepatch(n,n)}else{var r=e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;s(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new e.componentOptions.Ctor(n)}(e,vn);r.$mount(t?e.elm:void 0,t)}},prepatch:function(t,n){var r=n.componentOptions;!function(t,n,r,s,o){var i=s.data.scopedSlots,a=t.$scopedSlots,l=!!(i&&!i.$stable||a!==e&&!a.$stable||i&&t.$scopedSlots.$key!==i.$key||!i&&t.$scopedSlots.$key),c=!!(o||t.$options._renderChildren||l),u=t.$vnode;t.$options._parentVnode=s,t.$vnode=s,t._vnode&&(t._vnode.parent=s),t.$options._renderChildren=o;var h=s.data.attrs||e;t._attrsProxy&&Pt(t._attrsProxy,h,u.data&&u.data.attrs||e,t,"$attrs")&&(c=!0),t.$attrs=h,r=r||e;var d=t.$options._parentListeners;if(t._listenersProxy&&Pt(t._listenersProxy,r,d||e,t,"$listeners"),t.$listeners=t.$options._parentListeners=r,gn(t,r,d),n&&t.$options.props){Ce(!1);for(var p=t._props,f=t.$options._propKeys||[],m=0;m<f.length;m++){var g=f[m],v=t.$options.props;p[g]=Jn(g,v,n,t)}Ce(!0),t.$options.propsData=n}c&&(t.$slots=At(o,s.context),t.$forceUpdate())}(n.componentInstance=t.componentInstance,r.propsData,r.listeners,n,r.children)},insert:function(e){var t,n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,xn(r,"mounted")),e.data.keepAlive&&(n._isMounted?((t=r)._inactive=!1,En.push(t)):bn(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?wn(t,!0):t.$destroy())}},$n=Object.keys(Bn);function Vn(n,i,a,c,u){if(!r(n)){var h=a.$options._base;if(l(n)&&(n=h.extend(n)),"function"==typeof n){var d;if(r(n.cid)&&(n=function(e,t){if(o(e.error)&&s(e.errorComp))return e.errorComp;if(s(e.resolved))return e.resolved;var n=Ft;if(n&&s(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&s(e.loadingComp))return e.loadingComp;if(n&&!s(e.owners)){var i=e.owners=[n],a=!0,c=null,u=null;n.$on("hook:destroyed",(function(){return _(i,n)}));var h=function(e){for(var t=0,n=i.length;t<n;t++)i[t].$forceUpdate();e&&(i.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},d=D((function(n){e.resolved=Ut(n,t),a?i.length=0:h(!0)})),f=D((function(t){s(e.errorComp)&&(e.error=!0,h(!0))})),m=e(d,f);return l(m)&&(p(m)?r(e.resolved)&&m.then(d,f):p(m.component)&&(m.component.then(d,f),s(m.error)&&(e.errorComp=Ut(m.error,t)),s(m.loading)&&(e.loadingComp=Ut(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout((function(){c=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,h(!1))}),m.delay||200)),s(m.timeout)&&(u=setTimeout((function(){u=null,r(e.resolved)&&f(null)}),m.timeout)))),a=!1,e.loading?e.loadingComp:e.resolved}}(d=n,h),void 0===n))return function(e,t,n,r,s){var o=de();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:s},o}(d,i,a,c,u);i=i||{},pr(n),s(i.model)&&function(e,n){var r=e.model&&e.model.prop||"value",o=e.model&&e.model.event||"input";(n.attrs||(n.attrs={}))[r]=n.model.value;var i=n.on||(n.on={}),a=i[o],l=n.model.callback;s(a)?(t(a)?-1===a.indexOf(l):a!==l)&&(i[o]=[l].concat(a)):i[o]=l}(n.options,i);var f=function(e,t,n){var o=t.options.props;if(!r(o)){var i={},a=e.attrs,l=e.props;if(s(a)||s(l))for(var c in o){var u=k(c);ct(i,l,c,u,!0)||ct(i,a,c,u,!1)}return i}}(i,n);if(o(n.options.functional))return function(n,r,o,i,a){var l=n.options,c={},u=l.props;if(s(u))for(var h in u)c[h]=Jn(h,u,r||e);else s(o.attrs)&&Fn(c,o.attrs),s(o.props)&&Fn(c,o.props);var d=new Dn(o,c,a,i,n),p=l.render.call(null,d._c,d);if(p instanceof he)return jn(p,o,d.parent,l);if(t(p)){for(var f=ut(p)||[],m=new Array(f.length),g=0;g<f.length;g++)m[g]=jn(f[g],o,d.parent,l);return m}}(n,f,i,a,c);var m=i.on;if(i.on=i.nativeOn,o(n.options.abstract)){var g=i.slot;i={},g&&(i.slot=g)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<$n.length;n++){var r=$n[n],s=t[r],o=Bn[r];s===o||s&&s._merged||(t[r]=s?Hn(o,s):o)}}(i);var v=Un(n.options)||u;return new he("vue-component-".concat(n.cid).concat(v?"-".concat(v):""),i,void 0,void 0,void 0,a,{Ctor:n,propsData:f,listeners:m,tag:u,children:c},d)}}}function Hn(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}var zn=M,qn=$.optionMergeStrategies;function Gn(e,t,n){if(void 0===n&&(n=!0),!t)return e;for(var r,s,o,i=le?Reflect.ownKeys(t):Object.keys(t),a=0;a<i.length;a++)"__ob__"!==(r=i[a])&&(s=e[r],o=t[r],n&&b(e,r)?s!==o&&u(s)&&u(o)&&Gn(s,o):Oe(e,r,o));return e}function Wn(e,t,n){return n?function(){var r=a(t)?t.call(n,n):t,s=a(e)?e.call(n,n):e;return r?Gn(r,s):s}:t?e?function(){return Gn(a(t)?t.call(this,this):t,a(e)?e.call(this,this):e)}:t:e}function Kn(e,n){var r=n?e?e.concat(n):t(n)?n:[n]:e;return r?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(r):r}function Yn(e,t,n,r){var s=Object.create(e||null);return t?I(s,t):s}qn.data=function(e,t,n){return n?Wn(e,t,n):t&&"function"!=typeof t?e:Wn(e,t)},B.forEach((function(e){qn[e]=Kn})),U.forEach((function(e){qn[e+"s"]=Yn})),qn.watch=function(e,n,r,s){if(e===te&&(e=void 0),n===te&&(n=void 0),!n)return Object.create(e||null);if(!e)return n;var o={};for(var i in I(o,e),n){var a=o[i],l=n[i];a&&!t(a)&&(a=[a]),o[i]=a?a.concat(l):t(l)?l:[l]}return o},qn.props=qn.methods=qn.inject=qn.computed=function(e,t,n,r){if(!e)return t;var s=Object.create(null);return I(s,e),t&&I(s,t),s},qn.provide=function(e,t){return e?function(){var n=Object.create(null);return Gn(n,a(e)?e.call(this):e),t&&Gn(n,a(t)?t.call(this):t,!1),n}:t};var Xn=function(e,t){return void 0===t?e:t};function Qn(e,n,r){if(a(n)&&(n=n.options),function(e,n){var r=e.props;if(r){var s,o,i={};if(t(r))for(s=r.length;s--;)"string"==typeof(o=r[s])&&(i[T(o)]={type:null});else if(u(r))for(var a in r)o=r[a],i[T(a)]=u(o)?o:{type:o};e.props=i}}(n),function(e,n){var r=e.inject;if(r){var s=e.inject={};if(t(r))for(var o=0;o<r.length;o++)s[r[o]]={from:r[o]};else if(u(r))for(var i in r){var a=r[i];s[i]=u(a)?I({from:i},a):{from:a}}}}(n),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];a(r)&&(t[n]={bind:r,update:r})}}(n),!n._base&&(n.extends&&(e=Qn(e,n.extends,r)),n.mixins))for(var s=0,o=n.mixins.length;s<o;s++)e=Qn(e,n.mixins[s],r);var i,l={};for(i in e)c(i);for(i in n)b(e,i)||c(i);function c(t){var s=qn[t]||Xn;l[t]=s(e[t],n[t],r,t)}return l}function Zn(e,t,n,r){if("string"==typeof n){var s=e[t];if(b(s,n))return s[n];var o=T(n);if(b(s,o))return s[o];var i=E(o);return b(s,i)?s[i]:s[n]||s[o]||s[i]}}function Jn(e,t,n,r){var s=t[e],o=!b(n,e),i=n[e],l=rr(Boolean,s.type);if(l>-1)if(o&&!b(s,"default"))i=!1;else if(""===i||i===k(e)){var c=rr(String,s.type);(c<0||l<c)&&(i=!0)}if(void 0===i){i=function(e,t,n){if(!b(t,"default"))return;var r=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return a(r)&&"Function"!==tr(t.type)?r.call(e):r}(r,s,e);var u=ke;Ce(!0),Re(i),Ce(u)}return i}var er=/^\s*function (\w+)/;function tr(e){var t=e&&e.toString().match(er);return t?t[1]:""}function nr(e,t){return tr(e)===tr(t)}function rr(e,n){if(!t(n))return nr(n,e)?0:-1;for(var r=0,s=n.length;r<s;r++)if(nr(n[r],e))return r;return-1}var sr={enumerable:!0,configurable:!0,get:M,set:M};function or(e,t,n){sr.get=function(){return this[t][n]},sr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,sr)}function ir(e){var n=e.$options;if(n.props&&function(e,t){var n=e.$options.propsData||{},r=e._props=Pe({}),s=e.$options._propKeys=[],o=!e.$parent;o||Ce(!1);var i=function(o){s.push(o);var i=Jn(o,t,n,e);Me(r,o,i),o in e||or(e,"_props",o)};for(var a in t)i(a);Ce(!0)}(e,n.props),function(e){var t=e.$options,n=t.setup;if(n){var r=e._setupContext=Nt(e);ue(e),be();var s=Gt(n,null,[e._props||Pe({}),r],e,"setup");if(we(),ue(),a(s))t.render=s;else if(l(s))if(e._setupState=s,s.__sfc){var o=e._setupProxy={};for(var i in s)"__sfc"!==i&&Ge(o,s,i)}else for(var i in s)H(i)||Ge(e,s,i)}}(e),n.methods&&function(e,t){e.$options.props;for(var n in t)e[n]="function"!=typeof t[n]?M:C(t[n],e)}(e,n.methods),n.data)!function(e){var t=e.$options.data;t=e._data=a(t)?function(e,t){be();try{return e.call(t,t)}catch(e){return qt(e,t,"data()"),{}}finally{we()}}(t,e):t||{},u(t)||(t={});var n=Object.keys(t),r=e.$options.props,s=(e.$options.methods,n.length);for(;s--;){var o=n[s];0,r&&b(r,o)||H(o)||or(e,"_data",o)}var i=Re(t);i&&i.vmCount++}(e);else{var r=Re(e._data={});r&&r.vmCount++}n.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=se();for(var s in t){var o=t[s],i=a(o)?o:o.get;0,r||(n[s]=new dn(e,i||M,M,ar)),s in e||lr(e,s,o)}}(e,n.computed),n.watch&&n.watch!==te&&function(e,n){for(var r in n){var s=n[r];if(t(s))for(var o=0;o<s.length;o++)hr(e,r,s[o]);else hr(e,r,s)}}(e,n.watch)}var ar={lazy:!0};function lr(e,t,n){var r=!se();a(n)?(sr.get=r?cr(t):ur(n),sr.set=M):(sr.get=n.get?r&&!1!==n.cache?cr(t):ur(n.get):M,sr.set=n.set||M),Object.defineProperty(e,t,sr)}function cr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),_e.target&&t.depend(),t.value}}function ur(e){return function(){return e.call(this,this)}}function hr(e,t,n,r){return u(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}var dr=0;function pr(e){var t=e.options;if(e.super){var n=pr(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.sealedOptions;for(var s in n)n[s]!==r[s]&&(t||(t={}),t[s]=n[s]);return t}(e);r&&I(e.extendOptions,r),(t=e.options=Qn(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function fr(e){this._init(e)}function mr(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,s=e._Ctor||(e._Ctor={});if(s[r])return s[r];var o=Un(e)||Un(n.options);var i=function(e){this._init(e)};return(i.prototype=Object.create(n.prototype)).constructor=i,i.cid=t++,i.options=Qn(n.options,e),i.super=n,i.options.props&&function(e){var t=e.options.props;for(var n in t)or(e.prototype,"_props",n)}(i),i.options.computed&&function(e){var t=e.options.computed;for(var n in t)lr(e.prototype,n,t[n])}(i),i.extend=n.extend,i.mixin=n.mixin,i.use=n.use,U.forEach((function(e){i[e]=n[e]})),o&&(i.options.components[o]=i),i.superOptions=n.options,i.extendOptions=e,i.sealedOptions=I({},i.options),s[r]=i,i}}function gr(e){return e&&(Un(e.Ctor.options)||e.tag)}function vr(e,n){return t(e)?e.indexOf(n)>-1:"string"==typeof e?e.split(",").indexOf(n)>-1:!!h(e)&&e.test(n)}function _r(e,t){var n=e.cache,r=e.keys,s=e._vnode;for(var o in n){var i=n[o];if(i){var a=i.name;a&&!t(a)&&yr(n,o,r,s)}}}function yr(e,t,n,r){var s=e[t];!s||r&&s.tag===r.tag||s.componentInstance.$destroy(),e[t]=null,_(n,t)}!function(t){t.prototype._init=function(t){var n=this;n._uid=dr++,n._isVue=!0,n.__v_skip=!0,n._scope=new nt(!0),n._scope._vm=!0,t&&t._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var s=r.componentOptions;n.propsData=s.propsData,n._parentListeners=s.listeners,n._renderChildren=s.children,n._componentTag=s.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(n,t):n.$options=Qn(pr(n.constructor),t||{},n),n._renderProxy=n,n._self=n,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._provided=n?n._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&gn(e,t)}(n),function(t){t._vnode=null,t._staticTrees=null;var n=t.$options,r=t.$vnode=n._parentVnode,s=r&&r.context;t.$slots=At(n._renderChildren,s),t.$scopedSlots=r?Mt(t.$parent,r.data.scopedSlots,t.$slots):e,t._c=function(e,n,r,s){return Ht(t,e,n,r,s,!1)},t.$createElement=function(e,n,r,s){return Ht(t,e,n,r,s,!0)};var o=r&&r.data;Me(t,"$attrs",o&&o.attrs||e,null,!0),Me(t,"$listeners",n._parentListeners||e,null,!0)}(n),xn(n,"beforeCreate",void 0,!1),function(e){var t=Pn(e.$options.inject,e);t&&(Ce(!1),Object.keys(t).forEach((function(n){Me(e,n,t[n])})),Ce(!0))}(n),ir(n),function(e){var t=e.$options.provide;if(t){var n=a(t)?t.call(e):t;if(!l(n))return;for(var r=st(e),s=le?Reflect.ownKeys(n):Object.keys(n),o=0;o<s.length;o++){var i=s[o];Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))}}}(n),xn(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(fr),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Oe,e.prototype.$delete=Le,e.prototype.$watch=function(e,t,n){var r=this;if(u(t))return hr(r,e,t,n);(n=n||{}).user=!0;var s=new dn(r,e,t,n);if(n.immediate){var o='callback for immediate watcher "'.concat(s.expression,'"');be(),Gt(t,r,[s.value],r,o),we()}return function(){s.teardown()}}}(fr),function(e){var n=/^hook:/;e.prototype.$on=function(e,r){var s=this;if(t(e))for(var o=0,i=e.length;o<i;o++)s.$on(e[o],r);else(s._events[e]||(s._events[e]=[])).push(r),n.test(e)&&(s._hasHookEvent=!0);return s},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,n){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(t(e)){for(var s=0,o=e.length;s<o;s++)r.$off(e[s],n);return r}var i,a=r._events[e];if(!a)return r;if(!n)return r._events[e]=null,r;for(var l=a.length;l--;)if((i=a[l])===n||i.fn===n){a.splice(l,1);break}return r},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?A(n):n;for(var r=A(arguments,1),s='event handler for "'.concat(e,'"'),o=0,i=n.length;o<i;o++)Gt(n[o],t,r,t,s)}return t}}(fr),function(e){e.prototype._update=function(e,t){var n=this,r=n.$el,s=n._vnode,o=_n(n);n._vnode=e,n.$el=s?n.__patch__(s,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var i=n;i&&i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode;)i.$parent.$el=i.$el,i=i.$parent},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){xn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||_(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),xn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(fr),function(e){Ct(e.prototype),e.prototype.$nextTick=function(e){return sn(e,this)},e.prototype._render=function(){var e,n=this,r=n.$options,s=r.render,o=r._parentVnode;o&&n._isMounted&&(n.$scopedSlots=Mt(n.$parent,o.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&jt(n._slotsProxy,n.$scopedSlots)),n.$vnode=o;try{ue(n),Ft=n,e=s.call(n._renderProxy,n.$createElement)}catch(t){qt(t,n,"render"),e=n._vnode}finally{Ft=null,ue()}return t(e)&&1===e.length&&(e=e[0]),e instanceof he||(e=de()),e.parent=o,e}}(fr);var br=[String,RegExp,Array],wr={name:"keep-alive",abstract:!0,props:{include:br,exclude:br,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,r=e.vnodeToCache,s=e.keyToCache;if(r){var o=r.tag,i=r.componentInstance,a=r.componentOptions;t[s]={name:gr(a),tag:o,componentInstance:i},n.push(s),this.max&&n.length>parseInt(this.max)&&yr(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)yr(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){_r(e,(function(e){return vr(t,e)}))})),this.$watch("exclude",(function(t){_r(e,(function(e){return!vr(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Bt(e),n=t&&t.componentOptions;if(n){var r=gr(n),s=this.include,o=this.exclude;if(s&&(!r||!vr(s,r))||o&&r&&vr(o,r))return t;var i=this.cache,a=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;i[l]?(t.componentInstance=i[l].componentInstance,_(a,l),a.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||e&&e[0]}},xr={KeepAlive:wr};!function(e){var t={get:function(){return $}};Object.defineProperty(e,"config",t),e.util={warn:zn,extend:I,mergeOptions:Qn,defineReactive:Me},e.set=Oe,e.delete=Le,e.nextTick=sn,e.observable=function(e){return Re(e),e},e.options=Object.create(null),U.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,I(e.options.components,xr),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=A(arguments,1);return n.unshift(this),a(e.install)?e.install.apply(e,n):a(e)&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Qn(this.options,e),this}}(e),mr(e),function(e){U.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&u(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&a(n)&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(fr),Object.defineProperty(fr.prototype,"$isServer",{get:se}),Object.defineProperty(fr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(fr,"FunctionalRenderContext",{value:Dn}),fr.version="2.7.14";var Tr=g("style,class"),Er=g("input,textarea,option,select,progress"),Sr=g("contenteditable,draggable,spellcheck"),kr=g("events,caret,typing,plaintext-only"),Cr=function(e,t){return Or(t)||"false"===t?"false":"contenteditable"===e&&kr(t)?t:"true"},Ar=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Ir="http://www.w3.org/1999/xlink",Rr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Mr=function(e){return Rr(e)?e.slice(6,e.length):""},Or=function(e){return null==e||!1===e};function Lr(e){for(var t=e.data,n=e,r=e;s(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=Nr(r.data,t));for(;s(n=n.parent);)n&&n.data&&(t=Nr(t,n.data));return function(e,t){if(s(e)||s(t))return Pr(e,Dr(t));return""}(t.staticClass,t.class)}function Nr(e,t){return{staticClass:Pr(e.staticClass,t.staticClass),class:s(e.class)?[e.class,t.class]:t.class}}function Pr(e,t){return e?t?e+" "+t:e:t||""}function Dr(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,o=e.length;r<o;r++)s(t=Dr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):l(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var jr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Fr=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ur=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Br=function(e){return Fr(e)||Ur(e)};var $r=Object.create(null);var Vr=g("text,number,password,search,email,tel,url");var Hr=Object.freeze({__proto__:null,createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(jr[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),zr={create:function(e,t){qr(t)},update:function(e,t){e.data.ref!==t.data.ref&&(qr(e,!0),qr(t))},destroy:function(e){qr(e,!0)}};function qr(e,n){var r=e.data.ref;if(s(r)){var o=e.context,i=e.componentInstance||e.elm,l=n?null:i,c=n?void 0:i;if(a(r))Gt(r,o,[l],o,"template ref function");else{var u=e.data.refInFor,h="string"==typeof r||"number"==typeof r,d=He(r),p=o.$refs;if(h||d)if(u){var f=h?p[r]:r.value;n?t(f)&&_(f,i):t(f)?f.includes(i)||f.push(i):h?(p[r]=[i],Gr(o,r,p[r])):r.value=[i]}else if(h){if(n&&p[r]!==i)return;p[r]=c,Gr(o,r,l)}else if(d){if(n&&r.value!==i)return;r.value=l}else 0}}}function Gr(e,t,n){var r=e._setupState;r&&b(r,t)&&(He(r[t])?r[t].value=n:r[t]=n)}var Wr=new he("",{},[]),Kr=["create","activate","update","remove","destroy"];function Yr(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&s(e.data)===s(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=s(n=e.data)&&s(n=n.attrs)&&n.type,o=s(n=t.data)&&s(n=n.attrs)&&n.type;return r===o||Vr(r)&&Vr(o)}(e,t)||o(e.isAsyncPlaceholder)&&r(t.asyncFactory.error))}function Xr(e,t,n){var r,o,i={};for(r=t;r<=n;++r)s(o=e[r].key)&&(i[o]=r);return i}var Qr={create:Zr,update:Zr,destroy:function(e){Zr(e,Wr)}};function Zr(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,s,o=e===Wr,i=t===Wr,a=es(e.data.directives,e.context),l=es(t.data.directives,t.context),c=[],u=[];for(n in l)r=a[n],s=l[n],r?(s.oldValue=r.value,s.oldArg=r.arg,ns(s,"update",t,e),s.def&&s.def.componentUpdated&&u.push(s)):(ns(s,"bind",t,e),s.def&&s.def.inserted&&c.push(s));if(c.length){var h=function(){for(var n=0;n<c.length;n++)ns(c[n],"inserted",t,e)};o?lt(t,"insert",h):h()}u.length&&lt(t,"postpatch",(function(){for(var n=0;n<u.length;n++)ns(u[n],"componentUpdated",t,e)}));if(!o)for(n in a)l[n]||ns(a[n],"unbind",e,e,i)}(e,t)}var Jr=Object.create(null);function es(e,t){var n,r,s=Object.create(null);if(!e)return s;for(n=0;n<e.length;n++){if((r=e[n]).modifiers||(r.modifiers=Jr),s[ts(r)]=r,t._setupState&&t._setupState.__sfc){var o=r.def||Zn(t,"_setupState","v-"+r.name);r.def="function"==typeof o?{bind:o,update:o}:o}r.def=r.def||Zn(t.$options,"directives",r.name)}return s}function ts(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function ns(e,t,n,r,s){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,s)}catch(r){qt(r,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var rs=[zr,Qr];function ss(e,t){var n=t.componentOptions;if(!(s(n)&&!1===n.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var i,a,l=t.elm,c=e.data.attrs||{},u=t.data.attrs||{};for(i in(s(u.__ob__)||o(u._v_attr_proxy))&&(u=t.data.attrs=I({},u)),u)a=u[i],c[i]!==a&&os(l,i,a,t.data.pre);for(i in(Y||Q)&&u.value!==c.value&&os(l,"value",u.value),c)r(u[i])&&(Rr(i)?l.removeAttributeNS(Ir,Mr(i)):Sr(i)||l.removeAttribute(i))}}function os(e,t,n,r){r||e.tagName.indexOf("-")>-1?is(e,t,n):Ar(t)?Or(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Sr(t)?e.setAttribute(t,Cr(t,n)):Rr(t)?Or(n)?e.removeAttributeNS(Ir,Mr(t)):e.setAttributeNS(Ir,t,n):is(e,t,n)}function is(e,t,n){if(Or(n))e.removeAttribute(t);else{if(Y&&!X&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var as={create:ss,update:ss};function ls(e,t){var n=t.elm,o=t.data,i=e.data;if(!(r(o.staticClass)&&r(o.class)&&(r(i)||r(i.staticClass)&&r(i.class)))){var a=Lr(t),l=n._transitionClasses;s(l)&&(a=Pr(a,Dr(l))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var cs,us={create:ls,update:ls},hs="__r",ds="__c";function ps(e,t,n){var r=cs;return function s(){null!==t.apply(null,arguments)&&gs(e,s,n,r)}}var fs=Xt&&!(ee&&Number(ee[1])<=53);function ms(e,t,n,r){if(fs){var s=In,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=s||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}cs.addEventListener(e,t,ne?{capture:n,passive:r}:n)}function gs(e,t,n,r){(r||cs).removeEventListener(e,t._wrapper||t,n)}function vs(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},o=e.data.on||{};cs=t.elm||e.elm,function(e){if(s(e[hs])){var t=Y?"change":"input";e[t]=[].concat(e[hs],e[t]||[]),delete e[hs]}s(e[ds])&&(e.change=[].concat(e[ds],e.change||[]),delete e[ds])}(n),at(n,o,ms,gs,ps,t.context),cs=void 0}}var _s,ys={create:vs,update:vs,destroy:function(e){return vs(e,Wr)}};function bs(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,i,a=t.elm,l=e.data.domProps||{},c=t.data.domProps||{};for(n in(s(c.__ob__)||o(c._v_attr_proxy))&&(c=t.data.domProps=I({},c)),l)n in c||(a[n]="");for(n in c){if(i=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===l[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=i;var u=r(i)?"":String(i);ws(a,u)&&(a.value=u)}else if("innerHTML"===n&&Ur(a.tagName)&&r(a.innerHTML)){(_s=_s||document.createElement("div")).innerHTML="<svg>".concat(i,"</svg>");for(var h=_s.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;h.firstChild;)a.appendChild(h.firstChild)}else if(i!==l[n])try{a[n]=i}catch(e){}}}}function ws(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,r=e._vModifiers;if(s(r)){if(r.number)return m(n)!==m(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var xs={create:bs,update:bs},Ts=w((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}));function Es(e){var t=Ss(e.style);return e.staticStyle?I(e.staticStyle,t):t}function Ss(e){return Array.isArray(e)?R(e):"string"==typeof e?Ts(e):e}var ks,Cs=/^--/,As=/\s*!important$/,Is=function(e,t,n){if(Cs.test(t))e.style.setProperty(t,n);else if(As.test(n))e.style.setProperty(k(t),n.replace(As,""),"important");else{var r=Ms(t);if(Array.isArray(n))for(var s=0,o=n.length;s<o;s++)e.style[r]=n[s];else e.style[r]=n}},Rs=["Webkit","Moz","ms"],Ms=w((function(e){if(ks=ks||document.createElement("div").style,"filter"!==(e=T(e))&&e in ks)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Rs.length;n++){var r=Rs[n]+t;if(r in ks)return r}}));function Os(e,t){var n=t.data,o=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var i,a,l=t.elm,c=o.staticStyle,u=o.normalizedStyle||o.style||{},h=c||u,d=Ss(t.data.style)||{};t.data.normalizedStyle=s(d.__ob__)?I({},d):d;var p=function(e,t){var n,r={};if(t)for(var s=e;s.componentInstance;)(s=s.componentInstance._vnode)&&s.data&&(n=Es(s.data))&&I(r,n);(n=Es(e.data))&&I(r,n);for(var o=e;o=o.parent;)o.data&&(n=Es(o.data))&&I(r,n);return r}(t,!0);for(a in h)r(p[a])&&Is(l,a,"");for(a in p)(i=p[a])!==h[a]&&Is(l,a,null==i?"":i)}}var Ls={create:Os,update:Os},Ns=/\s+/;function Ps(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ns).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Ds(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ns).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" ".concat(e.getAttribute("class")||""," "),r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function js(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&I(t,Fs(e.name||"v")),I(t,e),t}return"string"==typeof e?Fs(e):void 0}}var Fs=w((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),Us=W&&!X,Bs="transition",$s="animation",Vs="transition",Hs="transitionend",zs="animation",qs="animationend";Us&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Vs="WebkitTransition",Hs="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(zs="WebkitAnimation",qs="webkitAnimationEnd"));var Gs=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Ws(e){Gs((function(){Gs(e)}))}function Ks(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Ps(e,t))}function Ys(e,t){e._transitionClasses&&_(e._transitionClasses,t),Ds(e,t)}function Xs(e,t,n){var r=Zs(e,t),s=r.type,o=r.timeout,i=r.propCount;if(!s)return n();var a=s===Bs?Hs:qs,l=0,c=function(){e.removeEventListener(a,u),n()},u=function(t){t.target===e&&++l>=i&&c()};setTimeout((function(){l<i&&c()}),o+1),e.addEventListener(a,u)}var Qs=/\b(transform|all)(,|$)/;function Zs(e,t){var n,r=window.getComputedStyle(e),s=(r[Vs+"Delay"]||"").split(", "),o=(r[Vs+"Duration"]||"").split(", "),i=Js(s,o),a=(r[zs+"Delay"]||"").split(", "),l=(r[zs+"Duration"]||"").split(", "),c=Js(a,l),u=0,h=0;return t===Bs?i>0&&(n=Bs,u=i,h=o.length):t===$s?c>0&&(n=$s,u=c,h=l.length):h=(n=(u=Math.max(i,c))>0?i>c?Bs:$s:null)?n===Bs?o.length:l.length:0,{type:n,timeout:u,propCount:h,hasTransform:n===Bs&&Qs.test(r[Vs+"Property"])}}function Js(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return eo(t)+eo(e[n])})))}function eo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function to(e,t){var n=e.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=js(e.data.transition);if(!r(o)&&!s(n._enterCb)&&1===n.nodeType){for(var i=o.css,c=o.type,u=o.enterClass,h=o.enterToClass,d=o.enterActiveClass,p=o.appearClass,f=o.appearToClass,g=o.appearActiveClass,v=o.beforeEnter,_=o.enter,y=o.afterEnter,b=o.enterCancelled,w=o.beforeAppear,x=o.appear,T=o.afterAppear,E=o.appearCancelled,S=o.duration,k=vn,C=vn.$vnode;C&&C.parent;)k=C.context,C=C.parent;var A=!k._isMounted||!e.isRootInsert;if(!A||x||""===x){var I=A&&p?p:u,R=A&&g?g:d,M=A&&f?f:h,O=A&&w||v,L=A&&a(x)?x:_,N=A&&T||y,P=A&&E||b,j=m(l(S)?S.enter:S);0;var F=!1!==i&&!X,U=so(L),B=n._enterCb=D((function(){F&&(Ys(n,M),Ys(n,R)),B.cancelled?(F&&Ys(n,I),P&&P(n)):N&&N(n),n._enterCb=null}));e.data.show||lt(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),L&&L(n,B)})),O&&O(n),F&&(Ks(n,I),Ks(n,R),Ws((function(){Ys(n,I),B.cancelled||(Ks(n,M),U||(ro(j)?setTimeout(B,j):Xs(n,c,B)))}))),e.data.show&&(t&&t(),L&&L(n,B)),F||U||B()}}}function no(e,t){var n=e.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=js(e.data.transition);if(r(o)||1!==n.nodeType)return t();if(!s(n._leaveCb)){var i=o.css,a=o.type,c=o.leaveClass,u=o.leaveToClass,h=o.leaveActiveClass,d=o.beforeLeave,p=o.leave,f=o.afterLeave,g=o.leaveCancelled,v=o.delayLeave,_=o.duration,y=!1!==i&&!X,b=so(p),w=m(l(_)?_.leave:_);0;var x=n._leaveCb=D((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(Ys(n,u),Ys(n,h)),x.cancelled?(y&&Ys(n,c),g&&g(n)):(t(),f&&f(n)),n._leaveCb=null}));v?v(T):T()}function T(){x.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),d&&d(n),y&&(Ks(n,c),Ks(n,h),Ws((function(){Ys(n,c),x.cancelled||(Ks(n,u),b||(ro(w)?setTimeout(x,w):Xs(n,a,x)))}))),p&&p(n,x),y||b||x())}}function ro(e){return"number"==typeof e&&!isNaN(e)}function so(e){if(r(e))return!1;var t=e.fns;return s(t)?so(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function oo(e,t){!0!==t.data.show&&to(t)}var io=function(e){var n,a,l={},c=e.modules,u=e.nodeOps;for(n=0;n<Kr.length;++n)for(l[Kr[n]]=[],a=0;a<c.length;++a)s(c[a][Kr[n]])&&l[Kr[n]].push(c[a][Kr[n]]);function h(e){var t=u.parentNode(e);s(t)&&u.removeChild(t,e)}function d(e,t,n,r,i,a,c){if(s(e.elm)&&s(a)&&(e=a[c]=fe(e)),e.isRootInsert=!i,!function(e,t,n,r){var i=e.data;if(s(i)){var a=s(e.componentInstance)&&i.keepAlive;if(s(i=i.hook)&&s(i=i.init)&&i(e,!1),s(e.componentInstance))return p(e,t),f(n,e.elm,r),o(a)&&function(e,t,n,r){var o,i=e;for(;i.componentInstance;)if(s(o=(i=i.componentInstance._vnode).data)&&s(o=o.transition)){for(o=0;o<l.activate.length;++o)l.activate[o](Wr,i);t.push(i);break}f(n,e.elm,r)}(e,t,n,r),!0}}(e,t,n,r)){var h=e.data,d=e.children,g=e.tag;s(g)?(e.elm=e.ns?u.createElementNS(e.ns,g):u.createElement(g,e),y(e),m(e,d,t),s(h)&&_(e,t),f(n,e.elm,r)):o(e.isComment)?(e.elm=u.createComment(e.text),f(n,e.elm,r)):(e.elm=u.createTextNode(e.text),f(n,e.elm,r))}}function p(e,t){s(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,v(e)?(_(e,t),y(e)):(qr(e),t.push(e))}function f(e,t,n){s(e)&&(s(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function m(e,n,r){if(t(n)){0;for(var s=0;s<n.length;++s)d(n[s],r,e.elm,null,!0,n,s)}else i(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function v(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return s(e.tag)}function _(e,t){for(var r=0;r<l.create.length;++r)l.create[r](Wr,e);s(n=e.data.hook)&&(s(n.create)&&n.create(Wr,e),s(n.insert)&&t.push(e))}function y(e){var t;if(s(t=e.fnScopeId))u.setStyleScope(e.elm,t);else for(var n=e;n;)s(t=n.context)&&s(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent;s(t=vn)&&t!==e.context&&t!==e.fnContext&&s(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function b(e,t,n,r,s,o){for(;r<=s;++r)d(n[r],o,e,t,!1,n,r)}function w(e){var t,n,r=e.data;if(s(r))for(s(t=r.hook)&&s(t=t.destroy)&&t(e),t=0;t<l.destroy.length;++t)l.destroy[t](e);if(s(t=e.children))for(n=0;n<e.children.length;++n)w(e.children[n])}function x(e,t,n){for(;t<=n;++t){var r=e[t];s(r)&&(s(r.tag)?(T(r),w(r)):h(r.elm))}}function T(e,t){if(s(t)||s(e.data)){var n,r=l.remove.length+1;for(s(t)?t.listeners+=r:t=function(e,t){function n(){0==--n.listeners&&h(e)}return n.listeners=t,n}(e.elm,r),s(n=e.componentInstance)&&s(n=n._vnode)&&s(n.data)&&T(n,t),n=0;n<l.remove.length;++n)l.remove[n](e,t);s(n=e.data.hook)&&s(n=n.remove)?n(e,t):t()}else h(e.elm)}function E(e,t,n,r){for(var o=n;o<r;o++){var i=t[o];if(s(i)&&Yr(e,i))return o}}function S(e,t,n,i,a,c){if(e!==t){s(t.elm)&&s(i)&&(t=i[a]=fe(t));var h=t.elm=e.elm;if(o(e.isAsyncPlaceholder))s(t.asyncFactory.resolved)?A(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,f=t.data;s(f)&&s(p=f.hook)&&s(p=p.prepatch)&&p(e,t);var m=e.children,g=t.children;if(s(f)&&v(t)){for(p=0;p<l.update.length;++p)l.update[p](e,t);s(p=f.hook)&&s(p=p.update)&&p(e,t)}r(t.text)?s(m)&&s(g)?m!==g&&function(e,t,n,o,i){var a,l,c,h=0,p=0,f=t.length-1,m=t[0],g=t[f],v=n.length-1,_=n[0],y=n[v],w=!i;for(;h<=f&&p<=v;)r(m)?m=t[++h]:r(g)?g=t[--f]:Yr(m,_)?(S(m,_,o,n,p),m=t[++h],_=n[++p]):Yr(g,y)?(S(g,y,o,n,v),g=t[--f],y=n[--v]):Yr(m,y)?(S(m,y,o,n,v),w&&u.insertBefore(e,m.elm,u.nextSibling(g.elm)),m=t[++h],y=n[--v]):Yr(g,_)?(S(g,_,o,n,p),w&&u.insertBefore(e,g.elm,m.elm),g=t[--f],_=n[++p]):(r(a)&&(a=Xr(t,h,f)),r(l=s(_.key)?a[_.key]:E(_,t,h,f))?d(_,o,e,m.elm,!1,n,p):Yr(c=t[l],_)?(S(c,_,o,n,p),t[l]=void 0,w&&u.insertBefore(e,c.elm,m.elm)):d(_,o,e,m.elm,!1,n,p),_=n[++p]);h>f?b(e,r(n[v+1])?null:n[v+1].elm,n,p,v,o):p>v&&x(t,h,f)}(h,m,g,n,c):s(g)?(s(e.text)&&u.setTextContent(h,""),b(h,null,g,0,g.length-1,n)):s(m)?x(m,0,m.length-1):s(e.text)&&u.setTextContent(h,""):e.text!==t.text&&u.setTextContent(h,t.text),s(f)&&s(p=f.hook)&&s(p=p.postpatch)&&p(e,t)}}}function k(e,t,n){if(o(n)&&s(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var C=g("attrs,class,staticClass,staticStyle,key");function A(e,t,n,r){var i,a=t.tag,l=t.data,c=t.children;if(r=r||l&&l.pre,t.elm=e,o(t.isComment)&&s(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(s(l)&&(s(i=l.hook)&&s(i=i.init)&&i(t,!0),s(i=t.componentInstance)))return p(t,n),!0;if(s(a)){if(s(c))if(e.hasChildNodes())if(s(i=l)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==e.innerHTML)return!1}else{for(var u=!0,h=e.firstChild,d=0;d<c.length;d++){if(!h||!A(h,c[d],n,r)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else m(t,c,n);if(s(l)){var f=!1;for(var g in l)if(!C(g)){f=!0,_(t,n);break}!f&&l.class&&ln(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,i){if(!r(t)){var a,c=!1,h=[];if(r(e))c=!0,d(t,h);else{var p=s(e.nodeType);if(!p&&Yr(e,t))S(e,t,h,null,null,i);else{if(p){if(1===e.nodeType&&e.hasAttribute(F)&&(e.removeAttribute(F),n=!0),o(n)&&A(e,t,h))return k(t,h,!0),e;a=e,e=new he(u.tagName(a).toLowerCase(),{},[],void 0,a)}var f=e.elm,m=u.parentNode(f);if(d(t,h,f._leaveCb?null:m,u.nextSibling(f)),s(t.parent))for(var g=t.parent,_=v(t);g;){for(var y=0;y<l.destroy.length;++y)l.destroy[y](g);if(g.elm=t.elm,_){for(var b=0;b<l.create.length;++b)l.create[b](Wr,g);var T=g.data.hook.insert;if(T.merged)for(var E=1;E<T.fns.length;E++)T.fns[E]()}else qr(g);g=g.parent}s(m)?x([e],0,0):s(e.tag)&&w(e)}}return k(t,h,c),t.elm}s(e)&&w(e)}}({nodeOps:Hr,modules:[as,us,ys,xs,Ls,W?{create:oo,activate:oo,remove:function(e,t){!0!==e.data.show?no(e,t):t()}}:{}].concat(rs)});X&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&mo(e,"input")}));var ao={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?lt(n,"postpatch",(function(){ao.componentUpdated(e,t,n)})):lo(e,t,n.context),e._vOptions=[].map.call(e.options,ho)):("textarea"===n.tag||Vr(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",po),e.addEventListener("compositionend",fo),e.addEventListener("change",fo),X&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){lo(e,t,n.context);var r=e._vOptions,s=e._vOptions=[].map.call(e.options,ho);if(s.some((function(e,t){return!N(e,r[t])}))){var o=e.multiple?t.value.some((function(e){return uo(e,s)})):t.value!==t.oldValue&&uo(t.value,s);o&&mo(e,"change")}}}};function lo(e,t,n){co(e,t,n),(Y||Q)&&setTimeout((function(){co(e,t,n)}),0)}function co(e,t,n){var r=t.value,s=e.multiple;if(!s||Array.isArray(r)){for(var o,i,a=0,l=e.options.length;a<l;a++)if(i=e.options[a],s)o=P(r,ho(i))>-1,i.selected!==o&&(i.selected=o);else if(N(ho(i),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));s||(e.selectedIndex=-1)}}function uo(e,t){return t.every((function(t){return!N(t,e)}))}function ho(e){return"_value"in e?e._value:e.value}function po(e){e.target.composing=!0}function fo(e){e.target.composing&&(e.target.composing=!1,mo(e.target,"input"))}function mo(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function go(e){return!e.componentInstance||e.data&&e.data.transition?e:go(e.componentInstance._vnode)}var vo={bind:function(e,t,n){var r=t.value,s=(n=go(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&s?(n.data.show=!0,to(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=go(n)).data&&n.data.transition?(n.data.show=!0,r?to(n,(function(){e.style.display=e.__vOriginalDisplay})):no(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,s){s||(e.style.display=e.__vOriginalDisplay)}},_o={model:ao,show:vo},yo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function bo(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?bo(Bt(t.children)):e}function wo(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var s=n._parentListeners;for(var r in s)t[T(r)]=s[r];return t}function xo(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var To=function(e){return e.tag||Rt(e)},Eo=function(e){return"show"===e.name},So={name:"transition",props:yo,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(To)).length){0;var r=this.mode;0;var s=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return s;var o=bo(s);if(!o)return s;if(this._leaving)return xo(e,s);var a="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?a+"comment":a+o.tag:i(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=wo(this),c=this._vnode,u=bo(c);if(o.data.directives&&o.data.directives.some(Eo)&&(o.data.show=!0),u&&u.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,u)&&!Rt(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=I({},l);if("out-in"===r)return this._leaving=!0,lt(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),xo(e,s);if("in-out"===r){if(Rt(o))return c;var d,p=function(){d()};lt(l,"afterEnter",p),lt(l,"enterCancelled",p),lt(h,"delayLeave",(function(e){d=e}))}}return s}}},ko=I({tag:String,moveClass:String},yo);delete ko.mode;var Co={props:ko,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var s=_n(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,s(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,s=this.$slots.default||[],o=this.children=[],i=wo(this),a=0;a<s.length;a++){if((u=s[a]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=i;else;}if(r){var l=[],c=[];for(a=0;a<r.length;a++){var u;(u=r[a]).data.transition=i,u.data.pos=u.elm.getBoundingClientRect(),n[u.key]?l.push(u):c.push(u)}this.kept=e(t,null,l),this.removed=c}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Ao),e.forEach(Io),e.forEach(Ro),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;Ks(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Hs,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Hs,e),n._moveCb=null,Ys(n,t))})}})))},methods:{hasMove:function(e,t){if(!Us)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Ds(n,e)})),Ps(n,t),n.style.display="none",this.$el.appendChild(n);var r=Zs(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function Ao(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Io(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ro(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,s=t.top-n.top;if(r||s){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(s,"px)"),o.transitionDuration="0s"}}var Mo={Transition:So,TransitionGroup:Co};fr.config.mustUseProp=function(e,t,n){return"value"===n&&Er(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},fr.config.isReservedTag=Br,fr.config.isReservedAttr=Tr,fr.config.getTagNamespace=function(e){return Ur(e)?"svg":"math"===e?"math":void 0},fr.config.isUnknownElement=function(e){if(!W)return!0;if(Br(e))return!1;if(e=e.toLowerCase(),null!=$r[e])return $r[e];var t=document.createElement(e);return e.indexOf("-")>-1?$r[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:$r[e]=/HTMLUnknownElement/.test(t.toString())},I(fr.options.directives,_o),I(fr.options.components,Mo),fr.prototype.__patch__=W?io:M,fr.prototype.$mount=function(e,t){return function(e,t,n){var r;e.$el=t,e.$options.render||(e.$options.render=de),xn(e,"beforeMount"),r=function(){e._update(e._render(),n)},new dn(e,r,M,{before:function(){e._isMounted&&!e._isDestroyed&&xn(e,"beforeUpdate")}},!0),n=!1;var s=e._preWatchers;if(s)for(var o=0;o<s.length;o++)s[o].run();return null==e.$vnode&&(e._isMounted=!0,xn(e,"mounted")),e}(this,e=e&&W?function(e){if("string"==typeof e){return document.querySelector(e)||document.createElement("div")}return e}(e):void 0,t)},W&&setTimeout((function(){$.devtools&&oe&&oe.emit("init",fr)}),0);var Oo=n(79753),Lo=n(27856),No=n(95573);function Po(e){var t,n,r,s;return{translations:null!==(n=null===(t=window._oc_l10n_registry_translations)||void 0===t?void 0:t[e])&&void 0!==n?n:{},pluralFunction:null!==(s=null===(r=window._oc_l10n_registry_plural_functions)||void 0===r?void 0:r[e])&&void 0!==s?s:e=>e}}function Do(e,t,n,r,s){const o=Object.assign({},{escape:!0,sanitize:!0},s||{}),i=e=>e,a=o.sanitize?Lo.sanitize:i,l=o.escape?No:i;let c=Po(e).translations[t]||t;return c=Array.isArray(c)?c[0]:c,a("object"==typeof n||void 0!==r?((e,t,n)=>e.replace(/%n/g,""+n).replace(/{([^{}]*)}/g,((e,n)=>{if(void 0===t||!(n in t))return a(e);const r=t[n];return a("string"==typeof r||"number"==typeof r?l(r):e)})))(c,n,r):c)}fr.prototype.t=Do,fr.prototype.n=function(e,t,n,r,s,o){const i="_"+t+"_::_"+n+"_",a=Po(e),l=a.translations[i];if(void 0!==l){const t=l;if(Array.isArray(t)){return Do(e,t[a.pluralFunction(r)],s,r,o)}}return Do(e,1===r?t:n,s,r,o)},fr.prototype.OC=window.OC,fr.prototype.OCA=window.OCA,n.p=(0,Oo.generateFilePath)("llamavirtualuser","","js/");function jo(e,t,n){const r=document.querySelector(`#initial-state-${e}-${t}`);if(null===r){if(void 0!==n)return n;throw new Error(`Could not find initial state ${t} of ${e}`)}try{return JSON.parse(atob(r.value))}catch(n){throw new Error(`Could not parse initial state ${t} of ${e}`)}}var Fo=n(9669),Uo=n.n(Fo),Bo=n(77907),$o=n(92426);class Vo{bus;constructor(e){"function"==typeof e.getVersion&&Bo(e.getVersion())?$o(e.getVersion())!==$o(this.getVersion())&&console.warn("Proxying an event bus of version "+e.getVersion()+" with "+this.getVersion()):console.warn("Proxying an event bus with an unknown or invalid version"),this.bus=e}getVersion(){return"3.1.0"}subscribe(e,t){this.bus.subscribe(e,t)}unsubscribe(e,t){this.bus.unsubscribe(e,t)}emit(e,t){this.bus.emit(e,t)}}class Ho{handlers=new Map;getVersion(){return"3.1.0"}subscribe(e,t){this.handlers.set(e,(this.handlers.get(e)||[]).concat(t))}unsubscribe(e,t){this.handlers.set(e,(this.handlers.get(e)||[]).filter((e=>e!=t)))}emit(e,t){(this.handlers.get(e)||[]).forEach((e=>{try{e(t)}catch(e){console.error("could not invoke event listener",e)}}))}}let zo,qo=null;function Go(){return null!==qo?qo:"undefined"==typeof window?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(void 0!==window.OC&&window.OC._eventBus&&void 0===window._nc_event_bus&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),qo=void 0!==window?._nc_event_bus?new Vo(window._nc_event_bus):window._nc_event_bus=new Ho,qo)}const Wo=[];var Ko,Yo;Ko="csrf-token-update",Yo=e=>{zo=e.token,Wo.forEach((t=>{try{t(e.token)}catch(e){console.error("error updating CSRF token observer",e)}}))},Go().subscribe(Ko,Yo);const Xo=Symbol("csrf-retry"),Qo=Symbol("retryDelay"),Zo=Uo().create({headers:{requesttoken:function(){if(void 0===zo){const e=document?.getElementsByTagName("head")[0];zo=e?e.getAttribute("data-requesttoken"):null}return zo}()??""}}),Jo=Object.assign(Zo,{CancelToken:Uo().CancelToken,isCancel:Uo().isCancel});Jo.interceptors.response.use((e=>e),(e=>async t=>{const{config:n,response:r,request:s}=t,o=s?.responseURL,i=r?.status;if(412===i&&"CSRF check failed"===r?.data?.message&&void 0===n[Xo]){console.warn(`Request to ${o} failed because of a CSRF mismatch. Fetching a new token`);const{data:{token:t}}=await e.get((0,Oo.generateUrl)("/csrftoken"));return console.debug(`New request token ${t} fetched`),e.defaults.headers.requesttoken=t,e({...n,headers:{...n.headers,requesttoken:t},[Xo]:!0})}return Promise.reject(t)})(Jo)),Jo.interceptors.response.use((e=>e),(e=>async t=>{const{config:n,response:r,request:s}=t,o=s?.responseURL,i=r?.status,a=r?.headers;if(503===i&&"1"===a["x-nextcloud-maintenance-mode"]&&n.retryIfMaintenanceMode&&(!n[Qo]||n[Qo]<=32)){const t=2*(n[Qo]??1);return console.warn(`Request to ${o} failed because of maintenance mode. Retrying in ${t}s`),await new Promise(((e,n)=>{setTimeout(e,1e3*t)})),e({...n,[Qo]:t})}return Promise.reject(t)})(Jo)),Jo.interceptors.response.use((e=>e),(async e=>{const{config:t,response:n,request:r}=e,s=r?.responseURL,o=n?.status;return 401===o&&"Current user is not logged in"===n?.data?.message&&t.reloadExpiredSession&&window?.location&&(console.error(`Request to ${s} failed because the user session expired. Reloading the page …`),window.location.reload()),Promise.reject(e)})),function(e){Wo.push(e)}((e=>Zo.defaults.headers.requesttoken=e));var ei=!0;fr.util.warn;function ti(){return!(!ce||0)}function ni(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==n.g?n.g:{}}const ri="function"==typeof Proxy,si="devtools-plugin:setup";let oi,ii,ai;function li(){return function(){var e;return void 0!==oi||("undefined"!=typeof window&&window.performance?(oi=!0,ii=window.performance):void 0!==n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(oi=!0,ii=n.g.perf_hooks.performance):oi=!1),oi}()?ii.now():Date.now()}class ci{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const r=e.settings[t];n[t]=r.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(s,t)}catch(e){}this.fallbacks={getSettings:()=>s,setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(e){}s=e},now:()=>li()},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function ui(e,t){const n=e,r=ni(),s=ni().__VUE_DEVTOOLS_GLOBAL_HOOK__,o=ri&&n.enableEarlyProxy;if(!s||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const e=o?new ci(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else s.emit(si,e,t)}const hi=e=>ai=e,di=Symbol();function pi(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var fi;!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(fi||(fi={}));const mi="undefined"!=typeof window,gi="undefined"!=typeof __VUE_PROD_DEVTOOLS__&&__VUE_PROD_DEVTOOLS__&&mi,vi=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function _i(e,t,n){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Ti(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function yi(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function bi(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const wi="object"==typeof navigator?navigator:{userAgent:""},xi=(()=>/Macintosh/.test(wi.userAgent)&&/AppleWebKit/.test(wi.userAgent)&&!/Safari/.test(wi.userAgent))(),Ti=mi?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!xi?function(e,t="download",n){const r=document.createElement("a");r.download=t,r.rel="noopener","string"==typeof e?(r.href=e,r.origin!==location.origin?yi(r.href)?_i(e,t,n):(r.target="_blank",bi(r)):bi(r)):(r.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(r.href)}),4e4),setTimeout((function(){bi(r)}),0))}:"msSaveOrOpenBlob"in wi?function(e,t="download",n){if("string"==typeof e)if(yi(e))_i(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){bi(t)}))}else navigator.msSaveOrOpenBlob(function(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){(r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading...");if("string"==typeof e)return _i(e,t,n);const s="application/octet-stream"===e.type,o=/constructor/i.test(String(vi.HTMLElement))||"safari"in vi,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&o||xi)&&"undefined"!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw r=null,new Error("Wrong reader.result type");e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}:()=>{};function Ei(e,t){const n="🍍 "+e;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,t):"error"===t?console.error(n):"warn"===t?console.warn(n):console.log(n)}function Si(e){return"_a"in e&&"install"in e}function ki(){if(!("clipboard"in navigator))return Ei("Your browser doesn't support the Clipboard API","error"),!0}function Ci(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(Ei('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}let Ai;async function Ii(e){try{const t=await(Ai||(Ai=document.createElement("input"),Ai.type="file",Ai.accept=".json"),function(){return new Promise(((e,t)=>{Ai.onchange=async()=>{const t=Ai.files;if(!t)return e(null);const n=t.item(0);return e(n?{text:await n.text(),file:n}:null)},Ai.oncancel=()=>e(null),Ai.onerror=t,Ai.click()}))}),n=await t();if(!n)return;const{text:r,file:s}=n;e.state.value=JSON.parse(r),Ei(`Global state imported from "${s.name}".`)}catch(e){Ei("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}function Ri(e){return{_custom:{display:e}}}const Mi="🍍 Pinia (root)",Oi="_root";function Li(e){return Si(e)?{id:Oi,label:Mi}:{id:e.$id,label:e.$id}}function Ni(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Ri(e.type),key:Ri(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function Pi(e){switch(e){case fi.direct:return"mutation";case fi.patchFunction:case fi.patchObject:return"$patch";default:return"unknown"}}let Di=!0;const ji=[],Fi="pinia:mutations",Ui="pinia",{assign:Bi}=Object,$i=e=>"🍍 "+e;function Vi(e,t){ui({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ji,app:e},(n=>{"function"!=typeof n.now&&Ei("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Fi,label:"Pinia 🍍",color:15064968}),n.addInspector({id:Ui,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{!async function(e){if(!ki())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),Ei("Global state copied to clipboard.")}catch(e){if(Ci(e))return;Ei("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await async function(e){if(!ki())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),Ei("Global state pasted from clipboard.")}catch(e){if(Ci(e))return;Ei("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}(t),n.sendInspectorTree(Ui),n.sendInspectorState(Ui)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{!async function(e){try{Ti(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){Ei("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Ii(t),n.sendInspectorTree(Ui),n.sendInspectorState(Ui)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:e=>{const n=t._s.get(e);n?"function"!=typeof n.$reset?Ei(`Cannot reset "${e}" store because it doesn't have a "$reset" method implemented.`,"warn"):(n.$reset(),Ei(`Store "${e}" reset.`)):Ei(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((e,t)=>{const n=e.componentInstance&&e.componentInstance.proxy;if(n&&n._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:$i(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:Be(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,n)=>(e[n]=t.$state[n],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:$i(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,n)=>{try{e[n]=t[n]}catch(t){e[n]=t}return e}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===e&&n.inspectorId===Ui){let e=[t];e=e.concat(Array.from(t._s.values())),n.rootNodes=(n.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(n.filter.toLowerCase()):Mi.toLowerCase().includes(n.filter.toLowerCase()))):e).map(Li)}})),n.on.getInspectorState((n=>{if(n.app===e&&n.inspectorId===Ui){const e=n.nodeId===Oi?t:t._s.get(n.nodeId);if(!e)return;e&&(n.state=function(e){if(Si(e)){const t=Array.from(e._s.keys()),n=e._s,r={state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>n.get(e)._getters)).map((e=>{const t=n.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,n)=>(e[n]=t[n],e)),{})}}))};return r}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}(e))}})),n.on.editInspectorState(((n,r)=>{if(n.app===e&&n.inspectorId===Ui){const e=n.nodeId===Oi?t:t._s.get(n.nodeId);if(!e)return Ei(`store "${n.nodeId}" not found`,"error");const{path:r}=n;Si(e)?r.unshift("state"):1===r.length&&e._customProperties.has(r[0])&&!(r[0]in e.$state)||r.unshift("$state"),Di=!1,n.set(e,r,n.state.value),Di=!0}})),n.on.editComponentState((e=>{if(e.type.startsWith("🍍")){const n=e.type.replace(/^🍍\s*/,""),r=t._s.get(n);if(!r)return Ei(`store "${n}" not found`,"error");const{path:s}=e;if("state"!==s[0])return Ei(`Invalid path for store "${n}":\n${s}\nOnly state can be modified.`);s[0]="$state",Di=!1,e.set(r,s,e.state.value),Di=!0}}))}))}function Hi(e,t){ji.includes($i(t.$id))||ji.push($i(t.$id)),ui({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ji,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const n="function"==typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:r,onError:s,name:o,args:i})=>{const a=qi++;e.addTimelineEvent({layerId:Fi,event:{time:n(),title:"🛫 "+o,subtitle:"start",data:{store:Ri(t.$id),action:Ri(o),args:i},groupId:a}}),r((r=>{zi=void 0,e.addTimelineEvent({layerId:Fi,event:{time:n(),title:"🛬 "+o,subtitle:"end",data:{store:Ri(t.$id),action:Ri(o),args:i,result:r},groupId:a}})})),s((r=>{zi=void 0,e.addTimelineEvent({layerId:Fi,event:{time:n(),logType:"error",title:"💥 "+o,subtitle:"end",data:{store:Ri(t.$id),action:Ri(o),args:i,error:r},groupId:a}})}))}),!0),t._customProperties.forEach((r=>{et((()=>function(e){return He(e)?e.value:e}(t[r])),((t,s)=>{e.notifyComponentUpdate(),e.sendInspectorState(Ui),Di&&e.addTimelineEvent({layerId:Fi,event:{time:n(),title:"Change",subtitle:r,data:{newValue:t,oldValue:s},groupId:zi}})}),{deep:!0})})),t.$subscribe((({events:r,type:s},o)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(Ui),!Di)return;const i={time:n(),title:Pi(s),data:Bi({store:Ri(t.$id)},Ni(r)),groupId:zi};s===fi.patchFunction?i.subtitle="⤵️":s===fi.patchObject?i.subtitle="🧩":r&&!Array.isArray(r)&&(i.subtitle=r.type),r&&(i.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),e.addTimelineEvent({layerId:Fi,event:i})}),{detached:!0,flush:"sync"});const r=t._hotUpdate;t._hotUpdate=$e((s=>{r(s),e.addTimelineEvent({layerId:Fi,event:{time:n(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:Ri(t.$id),info:Ri("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(Ui),e.sendInspectorState(Ui)}));const{$dispose:s}=t;t.$dispose=()=>{s(),e.notifyComponentUpdate(),e.sendInspectorTree(Ui),e.sendInspectorState(Ui),e.getSettings().logStoreChanges&&Ei(`Disposed "${t.$id}" store 🗑`)},e.notifyComponentUpdate(),e.sendInspectorTree(Ui),e.sendInspectorState(Ui),e.getSettings().logStoreChanges&&Ei(`"${t.$id}" store installed 🆕`)}))}let zi,qi=0;function Gi(e,t,n){const r=t.reduce(((t,n)=>(t[n]=Be(e)[n],t)),{});for(const t in r)e[t]=function(){const s=qi,o=n?new Proxy(e,{get:(...e)=>(zi=s,Reflect.get(...e)),set:(...e)=>(zi=s,Reflect.set(...e))}):e;zi=s;const i=r[t].apply(o,arguments);return zi=void 0,i}}function Wi({app:e,store:t,options:n}){if(t.$id.startsWith("__hot:"))return;t._isOptionsAPI=!!n.state,Gi(t,Object.keys(n.actions),t._isOptionsAPI);const r=t._hotUpdate;Be(t)._hotUpdate=function(e){r.apply(this,arguments),Gi(t,Object.keys(e._hmrPayload.actions),!!t._isOptionsAPI)},Hi(e,t)}const Ki=()=>{};function Yi(e,t,n,r=Ki){e.push(t);const s=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!n&&Ze&&function(e){Ze&&Ze.cleanups.push(e)}(s),s}function Xi(e,...t){e.slice().forEach((e=>{e(...t)}))}const Qi=e=>e();function Zi(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,n)=>e.set(n,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];pi(s)&&pi(r)&&e.hasOwnProperty(n)&&!He(r)&&!je(r)?e[n]=Zi(s,r):e[n]=r}return e}const Ji=Symbol(),ea=new WeakMap;const{assign:ta}=Object;function na(e,n,r,s){const{state:o,actions:i,getters:l}=n,c=r.state.value[e];let u;return u=ra(e,(function(){c||(ei?Oe(r.state.value,e,o?o():{}):r.state.value[e]=o?o():{});const n=function(e){var n=t(e)?new Array(e.length):{};for(var r in e)n[r]=We(e,r);return n}(r.state.value[e]);return ta(n,i,Object.keys(l||{}).reduce(((t,n)=>(t[n]=$e(function(e,t){var n,r,s=a(e);s?(n=e,r=M):(n=e.get,r=e.set);var o=se()?null:new dn(ce,n,M,{lazy:!0}),i={effect:o,get value(){return o?(o.dirty&&o.evaluate(),_e.target&&o.depend(),o.value):n()},set value(e){r(e)}};return z(i,Ve,!0),z(i,"__v_isReadonly",s),i}((()=>{hi(r);const t=r._s.get(e);if(!ei||t._r)return l[n].call(t,t)}))),t)),{}))}),n,r,s,!0),u}function ra(e,t,n={},r,s,o){let i;const a=ta({actions:{}},n);const l={deep:!0};let c,u;let h,d=[],p=[];const f=r.state.value[e];o||f||(ei?Oe(r.state.value,e,{}):r.state.value[e]={});const m=ze({});let g;function v(t){let n;c=u=!1,"function"==typeof t?(t(r.state.value[e]),n={type:fi.patchFunction,storeId:e,events:h}):(Zi(r.state.value[e],t),n={type:fi.patchObject,payload:t,storeId:e,events:h});const s=g=Symbol();sn().then((()=>{g===s&&(c=!0)})),u=!0,Xi(d,n,r.state.value[e])}const _=o?function(){const{state:e}=n,t=e?e():{};this.$patch((e=>{ta(e,t)}))}:Ki;function y(t,n){return function(){hi(r);const s=Array.from(arguments),o=[],i=[];let a;Xi(p,{args:s,name:t,store:x,after:function(e){o.push(e)},onError:function(e){i.push(e)}});try{a=n.apply(this&&this.$id===e?this:x,s)}catch(e){throw Xi(i,e),e}return a instanceof Promise?a.then((e=>(Xi(o,e),e))).catch((e=>(Xi(i,e),Promise.reject(e)))):(Xi(o,a),a)}}const b=$e({actions:{},getters:{},state:[],hotState:m}),w={_p:r,$id:e,$onAction:Yi.bind(null,p),$patch:v,$reset:_,$subscribe(t,n={}){const s=Yi(d,t,n.detached,(()=>o())),o=i.run((()=>et((()=>r.state.value[e]),(r=>{("sync"===n.flush?u:c)&&t({storeId:e,type:fi.direct,events:h},r)}),ta({},l,n))));return s},$dispose:function(){i.stop(),d=[],p=[],r._s.delete(e)}};ei&&(w._r=!1);const x=function(e){return De(e,!1),e}(gi?ta({_hmrPayload:b,_customProperties:$e(new Set)},w):w);r._s.set(e,x);const T=r._a&&r._a.runWithContext||Qi,E=r._e.run((()=>(i=rt(),T((()=>i.run(t))))));for(const t in E){const n=E[t];if(He(n)&&(!He(k=n)||!k.effect)||je(n))o||(!f||(S=n,ei?ea.has(S):pi(S)&&S.hasOwnProperty(Ji))||(He(n)?n.value=f[t]:Zi(n,f[t])),ei?Oe(r.state.value[e],t,n):r.state.value[e][t]=n);else if("function"==typeof n){const e=y(t,n);ei?Oe(E,t,e):E[t]=e,a.actions[t]=n}else 0}var S,k;if(ei?Object.keys(E).forEach((e=>{Oe(x,e,E[e])})):(ta(x,E),ta(Be(x),E)),Object.defineProperty(x,"$state",{get:()=>r.state.value[e],set:e=>{v((t=>{ta(t,e)}))}}),gi){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((t=>{Object.defineProperty(x,t,ta({value:x[t]},e))}))}return ei&&(x._r=!0),r._p.forEach((e=>{if(gi){const t=i.run((()=>e({store:x,app:r._a,pinia:r,options:a})));Object.keys(t||{}).forEach((e=>x._customProperties.add(e))),ta(x,t)}else ta(x,i.run((()=>e({store:x,app:r._a,pinia:r,options:a}))))})),f&&o&&n.hydrate&&n.hydrate(x.$state,f),c=!0,u=!0,x}const sa=function(e,t,n){let r,s;const o="function"==typeof t;function i(e,n){const i=ti();e=e||(i?function(e,t,n){void 0===n&&(n=!1);var r=ce;if(r){var s=r.$parent&&r.$parent._provided;if(s&&e in s)return s[e];if(arguments.length>1)return n&&a(t)?t.call(r):t}}(di,null):null),e&&hi(e),(e=ai)._s.has(r)||(o?ra(r,t,s,e):na(r,s,e));return e._s.get(r)}return"string"==typeof e?(r=e,s=o?n:t):(s=e,r=e.id),i.$id=r,i}("roomStore",{state:()=>({rooms:[]}),getters:{roomsQuery:e=>(e,t,n)=>({userId:e,roomsPerPage:t,startRoom:n}),getRooms:e=>e=>{const t={request:e},n=(0,Oo.generateUrl)("/apps/llamavirtualuser/room-find");return Jo.put(n,t).then((e=>e.data)).catch((e=>(console.error(e),{data:[],docs:[]})))},addRoom:e=>e=>{const t={room:e},n=(0,Oo.generateUrl)("/apps/llamavirtualuser/room-create");return Jo.put(n,t).then((e=>(console.log(e),e.data))).catch((e=>(console.error(e),null)))},updateRoom:e=>(e,t)=>(console.log("chatMsgService::updateRoom()",e,t),new Promise((e=>{setTimeout((()=>{console.log("chatMsgService::updateRoom()","Test 001"),e({id:0x343a8654336a38})}),2e3)}))),deleteRoom:e=>e=>{console.log("chatRoomService::deleteRoom()",e)}},actions:{updateRoomTypingUsers(e,t,n){console.log("chatRoomService::updateRoomTypingUsers()",e,t,n)}}}),oa=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,ia=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE;n>t-e+1&&(n=t-e+1);const r=[],s=Array.from({length:t-e+1},((t,n)=>n+e));for(;r.length<n;){const e=Math.floor(Math.random()*s.length),t=s[e];r.push(t),s.splice(e,1)}return r};var aa=n(34155);const la=!1,ca=!1,ua="${JSCORE_VERSION}",ha=function(e,t){if(!e)throw da(t)},da=function(e){return new Error("Firebase Database ("+ua+") INTERNAL ASSERT FAILED: "+e)},pa=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},fa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const s=e[t],o=t+1<e.length,i=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,c=s>>2,u=(3&s)<<4|i>>4;let h=(15&i)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pa(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&o)}else if(s>239&&s<365){const o=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const s=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const i=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==o||null==i||null==a)throw new ma;const l=s<<2|o>>4;if(r.push(l),64!==i){const e=o<<4&240|i>>2;if(r.push(e),64!==a){const e=i<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ma extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ga=function(e){const t=pa(e);return fa.encodeByteArray(t,!0)},va=function(e){return ga(e).replace(/\./g,"")},_a=function(e){try{return fa.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ya(e){return ba(void 0,e)}function ba(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ba(e[n],t[n]));return e}const wa=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,xa=()=>{try{return wa()||(()=>{if(void 0===aa||void 0===aa.env)return;const e=aa.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&_a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Ta=e=>{const t=(e=>{var t,n;return null===(n=null===(t=xa())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ea=()=>{var e;return null===(e=xa())||void 0===e?void 0:e.config};class Sa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ka(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[va(JSON.stringify({alg:"none",type:"JWT"})),va(JSON.stringify(o)),""].join(".")}function Ca(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Aa(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ca())}function Ia(){return!0===la||!0===ca}class Ra extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ma.prototype.create)}}class Ma{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function(e,t){return e.replace(Oa,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(s,n):"Error",i=`${this.serviceName}: ${o} (${r}).`;return new Ra(r,i,n)}}const Oa=/\{\$([^}]+)}/g;function La(e){return JSON.parse(e)}function Na(e){return JSON.stringify(e)}const Pa=function(e){let t={},n={},r={},s="";try{const o=e.split(".");t=La(_a(o[0])||""),n=La(_a(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:s}};function Da(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ja(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Fa(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ua(e,t,n){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=t.call(n,e[s],s,e));return r}function Ba(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],o=t[s];if($a(n)&&$a(o)){if(!Ba(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function $a(e){return null!==e&&"object"==typeof e}class Va{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,s,o=this.chain_[0],i=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=l^i&(a^l),s=1518500249):(r=i^a^l,s=1859775393):e<60?(r=i&a|l&(i|a),s=2400959708):(r=i^a^l,s=3395469782);const t=(o<<5|o>>>27)+r+c+s+n[e]&4294967295;c=l,l=a,a=4294967295&(i<<30|i>>>2),i=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<t;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function Ha(e,t){return`${e} failed: ${t} argument `}const za=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function qa(e){return e&&e._delegate?e._delegate:e}class Ga{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wa="[DEFAULT]";class Ka{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Sa;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Wa?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ya{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ka(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Xa=[];var Qa;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Qa||(Qa={}));const Za={debug:Qa.DEBUG,verbose:Qa.VERBOSE,info:Qa.INFO,warn:Qa.WARN,error:Qa.ERROR,silent:Qa.SILENT},Ja=Qa.INFO,el={[Qa.DEBUG]:"log",[Qa.VERBOSE]:"log",[Qa.INFO]:"info",[Qa.WARN]:"warn",[Qa.ERROR]:"error"},tl=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),s=el[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${r}]  ${e.name}:`,...n)};class nl{constructor(e){this.name=e,this._logLevel=Ja,this._logHandler=tl,this._userLogHandler=null,Xa.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qa))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Za[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qa.DEBUG,...e),this._logHandler(this,Qa.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qa.VERBOSE,...e),this._logHandler(this,Qa.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qa.INFO,...e),this._logHandler(this,Qa.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qa.WARN,...e),this._logHandler(this,Qa.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qa.ERROR,...e),this._logHandler(this,Qa.ERROR,...e)}}const rl=(e,t)=>t.some((t=>e instanceof t));let sl,ol;const il=new WeakMap,al=new WeakMap,ll=new WeakMap,cl=new WeakMap,ul=new WeakMap;let hl={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return al.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ll.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fl(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function dl(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ol||(ol=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(ml(this),t),fl(il.get(this))}:function(...t){return fl(e.apply(ml(this),t))}:function(t,...n){const r=e.call(ml(this),t,...n);return ll.set(r,t.sort?t.sort():[t]),fl(r)}}function pl(e){return"function"==typeof e?dl(e):(e instanceof IDBTransaction&&function(e){if(al.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)}));al.set(e,t)}(e),rl(e,sl||(sl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,hl):e)}function fl(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(fl(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&il.set(t,e)})).catch((()=>{})),ul.set(t,e),t}(e);if(cl.has(e))return cl.get(e);const t=pl(e);return t!==e&&(cl.set(e,t),ul.set(t,e)),t}const ml=e=>ul.get(e);const gl=["get","getKey","getAll","getAllKeys","count"],vl=["put","add","delete","clear"],_l=new Map;function yl(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(_l.get(t))return _l.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=vl.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!gl.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,s?"readwrite":"readonly");let i=o.store;return r&&(i=i.index(t.shift())),(await Promise.all([i[n](...t),s&&o.done]))[0]};return _l.set(t,o),o}var bl;bl=e=>({...e,get:(t,n,r)=>yl(t,n)||e.get(t,n,r),has:(t,n)=>!!yl(t,n)||e.has(t,n)}),hl=bl(hl);class wl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const xl="@firebase/app",Tl="0.9.13",El=new nl("@firebase/app"),Sl="[DEFAULT]",kl={[xl]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cl=new Map,Al=new Map;function Il(e,t){try{e.container.addComponent(t)}catch(n){El.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Rl(e){const t=e.name;if(Al.has(t))return El.debug(`There were multiple attempts to register component ${t}.`),!1;Al.set(t,e);for(const t of Cl.values())Il(t,e);return!0}function Ml(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Ol=new Ma("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ll{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ga("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ol.create("app-deleted",{appName:this._name})}}const Nl="9.23.0";function Pl(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:Sl,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!=typeof s||!s)throw Ol.create("bad-app-name",{appName:String(s)});if(n||(n=Ea()),!n)throw Ol.create("no-options");const o=Cl.get(s);if(o){if(Ba(n,o.options)&&Ba(r,o.config))return o;throw Ol.create("duplicate-app",{appName:s})}const i=new Ya(s);for(const e of Al.values())i.addComponent(e);const a=new Ll(n,r,i);return Cl.set(s,a),a}function Dl(e=Sl){const t=Cl.get(e);if(!t&&e===Sl&&Ea())return Pl();if(!t)throw Ol.create("no-app",{appName:e});return t}function jl(e,t,n){var r;let s=null!==(r=kl[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=t.match(/\s|\//);if(o||i){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void El.warn(e.join(" "))}Rl(new Ga(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const Fl="firebase-heartbeat-database",Ul=1,Bl="firebase-heartbeat-store";let $l=null;function Vl(){return $l||($l=function(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(e,t),a=fl(i);return r&&i.addEventListener("upgradeneeded",(e=>{r(fl(i.result),e.oldVersion,e.newVersion,fl(i.transaction),e)})),n&&i.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Fl,Ul,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Bl)}}).catch((e=>{throw Ol.create("idb-open",{originalErrorMessage:e.message})}))),$l}async function Hl(e,t){try{const n=(await Vl()).transaction(Bl,"readwrite"),r=n.objectStore(Bl);await r.put(t,zl(e)),await n.done}catch(e){if(e instanceof Ra)El.warn(e.message);else{const t=Ol.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});El.warn(t.message)}}}function zl(e){return`${e.name}!${e.options.appId}`}class ql{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Wl(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Gl();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Gl(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Kl(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Kl(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=va(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Gl(){return(new Date).toISOString().substring(0,10)}class Wl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Vl();return await t.transaction(Bl).objectStore(Bl).get(zl(e))}catch(e){if(e instanceof Ra)El.warn(e.message);else{const t=Ol.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});El.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Kl(e){return va(JSON.stringify({version:2,heartbeats:e})).length}var Yl;Yl="",Rl(new Ga("platform-logger",(e=>new wl(e)),"PRIVATE")),Rl(new Ga("heartbeat",(e=>new ql(e)),"PRIVATE")),jl(xl,Tl,Yl),jl(xl,Tl,"esm2017"),jl("fire-js","");jl("firebase","9.23.0","app");var Xl=n(34155);const Ql="@firebase/database",Zl="0.14.4";let Jl="";class ec{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Na(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:La(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class tc{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Da(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const nc=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ec(t)}}catch(e){}return new tc},rc=nc("localStorage"),sc=nc("sessionStorage"),oc=new nl("@firebase/database"),ic=function(){let e=1;return function(){return e++}}(),ac=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);if(s>=55296&&s<=56319){const t=s-55296;r++,ha(r<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(r)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t}(e),n=new Va;n.update(t);const r=n.digest();return fa.encodeByteArray(r)},lc=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=lc.apply(null,r):t+="object"==typeof r?Na(r):r,t+=" "}return t};let cc=null,uc=!0;const hc=function(e,t){ha(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(oc.logLevel=Qa.VERBOSE,cc=oc.log.bind(oc),t&&sc.set("logging_enabled",!0)):"function"==typeof e?cc=e:(cc=null,sc.remove("logging_enabled"))},dc=function(...e){if(!0===uc&&(uc=!1,null===cc&&!0===sc.get("logging_enabled")&&hc(!0)),cc){const t=lc.apply(null,e);cc(t)}},pc=function(e){return function(...t){dc(e,...t)}},fc=function(...e){const t="FIREBASE INTERNAL ERROR: "+lc(...e);oc.error(t)},mc=function(...e){const t=`FIREBASE FATAL ERROR: ${lc(...e)}`;throw oc.error(t),new Error(t)},gc=function(...e){const t="FIREBASE WARNING: "+lc(...e);oc.warn(t)},vc=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},_c="[MIN_NAME]",yc="[MAX_NAME]",bc=function(e,t){if(e===t)return 0;if(e===_c||t===yc)return-1;if(t===_c||e===yc)return 1;{const n=Ac(e),r=Ac(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},wc=function(e,t){return e===t?0:e<t?-1:1},xc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Na(t))},Tc=function(e){if("object"!=typeof e||null===e)return Na(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Na(t[r]),n+=":",n+=Tc(e[t[r]]);return n+="}",n},Ec=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let s=0;s<n;s+=t)s+t>n?r.push(e.substring(s,n)):r.push(e.substring(s,s+t));return r};function Sc(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const kc=function(e){ha(!vc(e),"Invalid JSON number");const t=1023;let n,r,s,o,i;0===e?(r=0,s=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,s=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,s=Math.round(e/Math.pow(2,-1074))));const a=[];for(i=52;i;i-=1)a.push(s%2?1:0),s=Math.floor(s/2);for(i=11;i;i-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(i=0;i<64;i+=8){let e=parseInt(l.substr(i,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Cc=new RegExp("^-?(0*)\\d{1,10}$"),Ac=function(e){if(Cc.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ic=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw gc("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Rc=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Mc{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){gc(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Oc{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(dc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gc(e)}}class Lc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Lc.OWNER="owner";const Nc="5",Pc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Dc="ac",jc="websocket",Fc="long_polling";class Uc{constructor(e,t,n,r,s=!1,o="",i=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=i,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Bc(e,t,n){let r;if(ha("string"==typeof t,"typeof type must == string"),ha("object"==typeof n,"typeof params must == object"),t===jc)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Fc)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const s=[];return Sc(n,((e,t)=>{s.push(e+"="+t)})),r+s.join("&")}class $c{constructor(){this.counters_={}}incrementCounter(e,t=1){Da(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ya(this.counters_)}}const Vc={},Hc={};function zc(e){const t=e.toString();return Vc[t]||(Vc[t]=new $c),Vc[t]}class qc{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Ic((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Gc="start";class Wc{constructor(e,t,n,r,s,o,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pc(e),this.stats_=zc(t),this.urlFn=e=>(this.appCheckToken&&(e[Dc]=this.appCheckToken),Bc(t,Fc,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new qc(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ia()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kc(((...e)=>{const[t,n,r,s,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Gc)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Gc]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Nc,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Dc]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Pc.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wc.forceAllow_=!0}static forceDisallow(){Wc.forceDisallow_=!0}static isAvailable(){return!Ia()&&(!!Wc.forceAllow_||!(Wc.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Na(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ga(t),r=Ec(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Ia())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Na(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Kc{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ia())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=ic(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Kc.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){dc("frame writing exception"),e.stack&&dc(e.stack),dc(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||dc("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Ia()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{dc("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let Yc=null;"undefined"!=typeof MozWebSocket?Yc=MozWebSocket:"undefined"!=typeof WebSocket&&(Yc=WebSocket);class Xc{constructor(e,t,n,r,s,o,i){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pc(this.connId),this.stats_=zc(t),this.connURL=Xc.connectionURL_(t,o,i,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,s){const o={};return o.v=Nc,!Ia()&&"undefined"!=typeof location&&location.hostname&&Pc.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Dc]=r),s&&(o.p=s),Bc(e,jc,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rc.set("previous_websocket_failure",!0);try{let e;if(Ia()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${Nc}/${Jl}/${Xl.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n=Xl.env,r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Yc(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Xc.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Yc&&!Xc.forceDisallow_}static previouslyFailed(){return rc.isInMemoryStorage||!0===rc.get("previous_websocket_failure")}markConnectionHealthy(){rc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=La(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ha(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Na(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ec(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xc.responsesRequiredToBeHealthy=2,Xc.healthyTimeout=3e4;class Qc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wc,Xc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Xc&&Xc.isAvailable();let n=t&&!Xc.previouslyFailed();if(e.webSocketOnly&&(t||gc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Xc];else{const e=this.transports_=[];for(const t of Qc.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Qc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qc.globalTransportInitialized_=!1;class Zc{constructor(e,t,n,r,s,o,i,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=i,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pc("c:"+this.id+":"),this.transportManager_=new Qc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Rc((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=xc("t",e),n=xc("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=xc("t",e),n=xc("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=xc("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?fc("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fc("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Nc!==n&&gc("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Rc((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rc((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jc{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class eu{constructor(e){this.allowedEvents_=e,this.listeners_={},ha(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){ha(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class tu extends eu{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Aa()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new tu}getInitialEvent(e){return ha("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const nu=32,ru=768;class su{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ou(){return new su("")}function iu(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function au(e){return e.pieces_.length-e.pieceNum_}function lu(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new su(e.pieces_,t)}function cu(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function uu(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function hu(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new su(t,0)}function du(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof su)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new su(n,0)}function pu(e){return e.pieceNum_>=e.pieces_.length}function fu(e,t){const n=iu(e),r=iu(t);if(null===n)return t;if(n===r)return fu(lu(e),lu(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function mu(e,t){if(au(e)!==au(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function gu(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(au(e)>au(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class vu{constructor(e,t){this.errorPrefix_=t,this.parts_=uu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=za(this.parts_[e]);_u(this)}}function _u(e){if(e.byteLength_>ru)throw new Error(e.errorPrefix_+"has a key path longer than "+ru+" bytes ("+e.byteLength_+").");if(e.parts_.length>nu)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nu+") or object contains a cycle "+yu(e))}function yu(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class bu extends eu{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new bu}getInitialEvent(e){return ha("visible"===e,"Unknown event type: "+e),[this.visible_]}}const wu=1e3;class xu extends Jc{constructor(e,t,n,r,s,o,i,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=i,this.authOverride_=a,this.id=xu.nextPersistentConnectionId_++,this.log_=pc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Ia())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bu.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&tu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,s={r,a:e,b:t};this.log_(Na(s)),ha(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Sa,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ha(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ha(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const i={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(s,i),this.connected_&&this.sendListen_(i)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const s={p:n};e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(s=>{const o=s.d,i=s.s;xu.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",s),"ok"!==i&&this.removeListen_(n,r),e.onComplete&&e.onComplete(i,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&Da(e,"w")){const n=ja(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();gc(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Pa(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Pa(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ha(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const s={p:e};r&&(s.q=n,s.t=r),this.sendRequest("n",s)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const s={p:t,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,s){this.initConnection_();const o={p:t,d:n};void 0!==s&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const i=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(i):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Na(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):fc("Unrecognized action received from server: "+Na(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ha(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=wu),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+xu.nextConnectionId_++,s=this.lastSessionId;let o=!1,i=null;const a=function(){i?i.close():(o=!0,n())},l=function(e){ha(i,"sendRequest call when we're not connected not allowed."),i.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?dc("getToken() completed but was canceled"):(dc("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,i=new Zc(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{gc(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),s))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&gc(e),a())}}}interrupt(e){dc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fa(this.interruptReasons_)&&(this.reconnectDelay_=wu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Tc(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new su(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){dc("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){dc("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Ia()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Jl.replace(/\./g,"-")]=1,Aa()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tu.getInstance().currentlyOnline();return Fa(this.interruptReasons_)&&e}}xu.nextPersistentConnectionId_=0,xu.nextConnectionId_=0;class Tu{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Tu(e,t)}}class Eu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Tu(_c,e),r=new Tu(_c,t);return 0!==this.compare(n,r)}minPost(){return Tu.MIN}}let Su;class ku extends Eu{static get __EMPTY_NODE(){return Su}static set __EMPTY_NODE(e){Su=e}compare(e,t){return bc(e.name,t.name)}isDefinedOn(e){throw da("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Tu.MIN}maxPost(){return new Tu(yc,Su)}makePost(e,t){return ha("string"==typeof e,"KeyIndex indexValue must always be a string."),new Tu(e,Su)}toString(){return".key"}}const Cu=new ku;class Au{constructor(e,t,n,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Iu{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Iu.RED,this.left=null!=r?r:Ru.EMPTY_NODE,this.right=null!=s?s:Ru.EMPTY_NODE}copy(e,t,n,r,s){return new Iu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ru.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ru.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Iu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Iu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Iu.RED=!0,Iu.BLACK=!1;class Ru{constructor(e,t=Ru.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ru(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Iu.BLACK,null,null))}remove(e){return new Ru(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Iu.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Au(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Au(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Au(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Au(this.root_,null,this.comparator_,!0,e)}}function Mu(e,t){return bc(e.name,t.name)}function Ou(e,t){return bc(e,t)}let Lu;Ru.EMPTY_NODE=new class{copy(e,t,n,r,s){return this}insert(e,t,n){return new Iu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Nu=function(e){return"number"==typeof e?"number:"+kc(e):"string:"+e},Pu=function(e){if(e.isLeafNode()){const t=e.val();ha("string"==typeof t||"number"==typeof t||"object"==typeof t&&Da(t,".sv"),"Priority must be a string or number.")}else ha(e===Lu||e.isEmpty(),"priority of unexpected type.");ha(e===Lu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Du,ju,Fu;class Uu{constructor(e,t=Uu.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ha(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Pu(this.priorityNode_)}static set __childrenNodeConstructor(e){Du=e}static get __childrenNodeConstructor(){return Du}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Uu(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Uu.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pu(e)?this:".priority"===iu(e)?this.priorityNode_:Uu.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Uu.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=iu(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ha(".priority"!==n||1===au(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Uu.__childrenNodeConstructor.EMPTY_NODE.updateChild(lu(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Nu(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?kc(this.value_):this.value_,this.lazyHash_=ac(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Uu.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Uu.__childrenNodeConstructor?-1:(ha(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Uu.VALUE_TYPE_ORDER.indexOf(t),s=Uu.VALUE_TYPE_ORDER.indexOf(n);return ha(r>=0,"Unknown leaf type: "+t),ha(s>=0,"Unknown leaf type: "+n),r===s?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Uu.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Bu=new class extends Eu{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),s=n.compareTo(r);return 0===s?bc(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Tu.MIN}maxPost(){return new Tu(yc,new Uu("[PRIORITY-POST]",Fu))}makePost(e,t){const n=ju(e);return new Tu(t,new Uu("[PRIORITY-POST]",n))}toString(){return".priority"}},$u=Math.log(2);class Vu{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/$u,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Hu=function(e,t,n,r){e.sort(t);const s=function(t,r){const o=r-t;let i,a;if(0===o)return null;if(1===o)return i=e[t],a=n?n(i):i,new Iu(a,i.node,Iu.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=s(t,l),u=s(l+1,r);return i=e[l],a=n?n(i):i,new Iu(a,i.node,Iu.BLACK,c,u)}},o=function(t){let r=null,o=null,i=e.length;const a=function(t,r){const o=i-t,a=i;i-=t;const c=s(o+1,a),u=e[o],h=n?n(u):u;l(new Iu(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Iu.BLACK):(a(r,Iu.BLACK),a(r,Iu.RED))}return o}(new Vu(e.length));return new Ru(r||t,o)};let zu;const qu={};class Gu{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ha(qu&&Bu,"ChildrenNode.ts has not been loaded"),zu=zu||new Gu({".priority":qu},{".priority":Bu}),zu}get(e){const t=ja(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ru?t:null}hasIndex(e){return Da(this.indexSet_,e.toString())}addIndex(e,t){ha(e!==Cu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const s=t.getIterator(Tu.Wrap);let o,i=s.getNext();for(;i;)r=r||e.isDefinedOn(i.node),n.push(i),i=s.getNext();o=r?Hu(n,e.getCompare()):qu;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new Gu(c,l)}addToIndexes(e,t){const n=Ua(this.indexes_,((n,r)=>{const s=ja(this.indexSet_,r);if(ha(s,"Missing index implementation for "+r),n===qu){if(s.isDefinedOn(e.node)){const n=[],r=t.getIterator(Tu.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Hu(n,s.getCompare())}return qu}{const r=t.get(e.name);let s=n;return r&&(s=s.remove(new Tu(e.name,r))),s.insert(e,e.node)}}));return new Gu(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ua(this.indexes_,(n=>{if(n===qu)return n;{const r=t.get(e.name);return r?n.remove(new Tu(e.name,r)):n}}));return new Gu(n,this.indexSet_)}}let Wu;class Ku{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Pu(this.priorityNode_),this.children_.isEmpty()&&ha(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wu||(Wu=new Ku(new Ru(Ou),null,Gu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wu}updatePriority(e){return this.children_.isEmpty()?this:new Ku(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Wu:t}}getChild(e){const t=iu(e);return null===t?this:this.getImmediateChild(t).getChild(lu(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ha(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Tu(e,t);let r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Wu:this.priorityNode_;return new Ku(r,o,s)}}updateChild(e,t){const n=iu(e);if(null===n)return t;{ha(".priority"!==iu(e)||1===au(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(lu(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,s=!0;if(this.forEachChild(Bu,((o,i)=>{t[o]=i.val(e),n++,s&&Ku.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1})),!e&&s&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Nu(this.getPriority().val())+":"),this.forEachChild(Bu,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ac(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Tu(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Tu(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Tu(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Tu.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Tu.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yu?-1:0}withIndex(e){if(e===Cu||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ku(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Cu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Bu),n=t.getIterator(Bu);let r=e.getNext(),s=n.getNext();for(;r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=e.getNext(),s=n.getNext()}return null===r&&null===s}return!1}return!1}}resolveIndex_(e){return e===Cu?null:this.indexMap_.get(e.toString())}}Ku.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Yu=new class extends Ku{constructor(){super(new Ru(Ou),Ku.EMPTY_NODE,Gu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ku.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Tu,{MIN:{value:new Tu(_c,Ku.EMPTY_NODE)},MAX:{value:new Tu(yc,Yu)}}),ku.__EMPTY_NODE=Ku.EMPTY_NODE,Uu.__childrenNodeConstructor=Ku,Lu=Yu,function(e){Fu=e}(Yu);const Xu=!0;function Qu(e,t=null){if(null===e)return Ku.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),ha(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new Uu(e,Qu(t))}if(e instanceof Array||!Xu){let n=Ku.EMPTY_NODE;return Sc(e,((t,r)=>{if(Da(e,t)&&"."!==t.substring(0,1)){const e=Qu(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Qu(t))}{const n=[];let r=!1;if(Sc(e,((e,t)=>{if("."!==e.substring(0,1)){const s=Qu(t);s.isEmpty()||(r=r||!s.getPriority().isEmpty(),n.push(new Tu(e,s)))}})),0===n.length)return Ku.EMPTY_NODE;const s=Hu(n,Mu,(e=>e.name),Ou);if(r){const e=Hu(n,Bu.getCompare());return new Ku(s,Qu(t),new Gu({".priority":e},{".priority":Bu}))}return new Ku(s,Qu(t),Gu.Default)}}!function(e){ju=e}(Qu);class Zu extends Eu{constructor(e){super(),this.indexPath_=e,ha(!pu(e)&&".priority"!==iu(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),s=n.compareTo(r);return 0===s?bc(e.name,t.name):s}makePost(e,t){const n=Qu(e),r=Ku.EMPTY_NODE.updateChild(this.indexPath_,n);return new Tu(t,r)}maxPost(){const e=Ku.EMPTY_NODE.updateChild(this.indexPath_,Yu);return new Tu(yc,e)}toString(){return uu(this.indexPath_,0).join("/")}}const Ju=new class extends Eu{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?bc(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Tu.MIN}maxPost(){return Tu.MAX}makePost(e,t){const n=Qu(e);return new Tu(t,n)}toString(){return".value"}};function eh(e){return{type:"value",snapshotNode:e}}function th(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function nh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function rh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class sh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bu}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ha(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ha(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_c}hasEnd(){return this.endSet_}getIndexEndValue(){return ha(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ha(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ha(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bu}copy(){const e=new sh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oh(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Bu?n="$priority":e.index_===Ju?n="$value":e.index_===Cu?n="$key":(ha(e.index_ instanceof Zu,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Na(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Na(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Na(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Na(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Na(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ih(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Bu&&(t.i=e.index_.toString()),t}class ah extends Jc{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=pc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ha(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ah.getListenId_(e,n),i={};this.listens_[o]=i;const a=oh(e._queryParams);this.restRequest_(s+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(s,a,!1,n),ja(this.listens_,o)===i){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ah.getListenId_(e,t);delete this.listens_[n]}get(e){const t=oh(e._queryParams),n=e._path.toString(),r=new Sa;return this.restRequest_(n+".json",t,((e,t)=>{let s=t;404===e&&(s=null,e=null),null===e?(this.onDataUpdate_(n,s,!1,null),r.resolve(s)):r.reject(new Error(s))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+o);const i=new XMLHttpRequest;i.onreadystatechange=()=>{if(n&&4===i.readyState){this.log_("REST Response for "+o+" received. status:",i.status,"response:",i.responseText);let e=null;if(i.status>=200&&i.status<300){try{e=La(i.responseText)}catch(e){gc("Failed to parse JSON response for "+o+": "+i.responseText)}n(null,e)}else 401!==i.status&&404!==i.status&&gc("Got unsuccessful REST response for "+o+" Status: "+i.status),n(i.status);n=null}},i.open("GET",o,!0),i.send()}))}}class lh{constructor(){this.rootNode_=Ku.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ch(){return{value:null,children:new Map}}function uh(e,t,n){if(pu(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=iu(t);e.children.has(r)||e.children.set(r,ch());uh(e.children.get(r),t=lu(t),n)}}function hh(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{hh(r,new su(t.toString()+"/"+e),n)}))}class dh{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Sc(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class ph{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new dh(e);const n=1e4+2e4*Math.random();Rc(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Sc(e,((e,r)=>{r>0&&Da(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Rc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fh;function mh(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(fh||(fh={}));class gh{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=fh.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(pu(this.path)){if(null!=this.affectedTree.value)return ha(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new su(e));return new gh(ou(),t,this.revert)}}return ha(iu(this.path)===e,"operationForChild called for unrelated child."),new gh(lu(this.path),this.affectedTree,this.revert)}}class vh{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=fh.OVERWRITE}operationForChild(e){return pu(this.path)?new vh(this.source,ou(),this.snap.getImmediateChild(e)):new vh(this.source,lu(this.path),this.snap)}}class _h{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=fh.MERGE}operationForChild(e){if(pu(this.path)){const t=this.children.subtree(new su(e));return t.isEmpty()?null:t.value?new vh(this.source,ou(),t.value):new _h(this.source,ou(),t)}return ha(iu(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _h(this.source,lu(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class yh{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pu(e))return this.isFullyInitialized()&&!this.filtered_;const t=iu(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function bh(e,t,n,r,s,o){const i=r.filter((e=>e.type===n));i.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw da("Should only compare child_ events.");const r=new Tu(t.childName,t.snapshotNode),s=new Tu(n.childName,n.snapshotNode);return e.index_.compare(r,s)}(e,t,n))),i.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);s.forEach((s=>{s.respondsTo(n.type)&&t.push(s.createEvent(r,e.query_))}))}))}function wh(e,t){return{eventCache:e,serverCache:t}}function xh(e,t,n,r){return wh(new yh(t,n,r),e.serverCache)}function Th(e,t,n,r){return wh(e.eventCache,new yh(t,n,r))}function Eh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Sh(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let kh;class Ch{constructor(e,t=(()=>(kh||(kh=new Ru(wc)),kh))()){this.value=e,this.children=t}static fromObject(e){let t=new Ch(null);return Sc(e,((e,n)=>{t=t.set(new su(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ou(),value:this.value};if(pu(e))return null;{const n=iu(e),r=this.children.get(n);if(null!==r){const s=r.findRootMostMatchingPathAndValue(lu(e),t);if(null!=s){return{path:du(new su(n),s.path),value:s.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(pu(e))return this;{const t=iu(e),n=this.children.get(t);return null!==n?n.subtree(lu(e)):new Ch(null)}}set(e,t){if(pu(e))return new Ch(t,this.children);{const n=iu(e),r=(this.children.get(n)||new Ch(null)).set(lu(e),t),s=this.children.insert(n,r);return new Ch(this.value,s)}}remove(e){if(pu(e))return this.children.isEmpty()?new Ch(null):new Ch(null,this.children);{const t=iu(e),n=this.children.get(t);if(n){const r=n.remove(lu(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Ch(null):new Ch(this.value,s)}return this}}get(e){if(pu(e))return this.value;{const t=iu(e),n=this.children.get(t);return n?n.get(lu(e)):null}}setTree(e,t){if(pu(e))return t;{const n=iu(e),r=(this.children.get(n)||new Ch(null)).setTree(lu(e),t);let s;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Ch(this.value,s)}}fold(e){return this.fold_(ou(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,s)=>{n[r]=s.fold_(du(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ou(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(pu(e))return null;{const r=iu(e),s=this.children.get(r);return s?s.findOnPath_(lu(e),du(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ou(),t)}foreachOnPath_(e,t,n){if(pu(e))return this;{this.value&&n(t,this.value);const r=iu(e),s=this.children.get(r);return s?s.foreachOnPath_(lu(e),du(t,r),n):new Ch(null)}}foreach(e){this.foreach_(ou(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(du(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Ah{constructor(e){this.writeTree_=e}static empty(){return new Ah(new Ch(null))}}function Ih(e,t,n){if(pu(t))return new Ah(new Ch(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const s=r.path;let o=r.value;const i=fu(s,t);return o=o.updateChild(i,n),new Ah(e.writeTree_.set(s,o))}{const r=new Ch(n),s=e.writeTree_.setTree(t,r);return new Ah(s)}}}function Rh(e,t,n){let r=e;return Sc(n,((e,n)=>{r=Ih(r,du(t,e),n)})),r}function Mh(e,t){if(pu(t))return Ah.empty();{const n=e.writeTree_.setTree(t,new Ch(null));return new Ah(n)}}function Oh(e,t){return null!=Lh(e,t)}function Lh(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(fu(n.path,t)):null}function Nh(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Bu,((e,n)=>{t.push(new Tu(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Tu(e,n.value))})),t}function Ph(e,t){if(pu(t))return e;{const n=Lh(e,t);return new Ah(null!=n?new Ch(n):e.writeTree_.subtree(t))}}function Dh(e){return e.writeTree_.isEmpty()}function jh(e,t){return Fh(ou(),e.writeTree_,t)}function Fh(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,s)=>{".priority"===t?(ha(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=Fh(du(e,t),s,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(du(e,".priority"),r)),n}}function Uh(e,t){return Zh(t,e)}function Bh(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));ha(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let s=r.visible,o=!1,i=e.allWrites.length-1;for(;s&&i>=0;){const t=e.allWrites[i];t.visible&&(i>=n&&$h(t,r.path)?s=!1:gu(r.path,t.path)&&(o=!0)),i--}if(s){if(o)return function(e){e.visibleWrites=Hh(e.allWrites,Vh,ou()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Mh(e.visibleWrites,r.path);else{Sc(r.children,(t=>{e.visibleWrites=Mh(e.visibleWrites,du(r.path,t))}))}return!0}return!1}function $h(e,t){if(e.snap)return gu(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&gu(du(e.path,n),t))return!0;return!1}function Vh(e){return e.visible}function Hh(e,t,n){let r=Ah.empty();for(let s=0;s<e.length;++s){const o=e[s];if(t(o)){const e=o.path;let t;if(o.snap)gu(n,e)?(t=fu(n,e),r=Ih(r,t,o.snap)):gu(e,n)&&(t=fu(e,n),r=Ih(r,ou(),o.snap.getChild(t)));else{if(!o.children)throw da("WriteRecord should have .snap or .children");if(gu(n,e))t=fu(n,e),r=Rh(r,t,o.children);else if(gu(e,n))if(t=fu(e,n),pu(t))r=Rh(r,ou(),o.children);else{const e=ja(o.children,iu(t));if(e){const n=e.getChild(lu(t));r=Ih(r,ou(),n)}}}}}return r}function zh(e,t,n,r,s){if(r||s){const o=Ph(e.visibleWrites,t);if(!s&&Dh(o))return n;if(s||null!=n||Oh(o,ou())){const o=function(e){return(e.visible||s)&&(!r||!~r.indexOf(e.writeId))&&(gu(e.path,t)||gu(t,e.path))};return jh(Hh(e.allWrites,o,t),n||Ku.EMPTY_NODE)}return null}{const r=Lh(e.visibleWrites,t);if(null!=r)return r;{const r=Ph(e.visibleWrites,t);if(Dh(r))return n;if(null!=n||Oh(r,ou())){return jh(r,n||Ku.EMPTY_NODE)}return null}}}function qh(e,t,n,r){return zh(e.writeTree,e.treePath,t,n,r)}function Gh(e,t){return function(e,t,n){let r=Ku.EMPTY_NODE;const s=Lh(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Bu,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const s=Ph(e.visibleWrites,t);return n.forEachChild(Bu,((e,t)=>{const n=jh(Ph(s,new su(e)),t);r=r.updateImmediateChild(e,n)})),Nh(s).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Nh(Ph(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Wh(e,t,n,r){return function(e,t,n,r,s){ha(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=du(t,n);if(Oh(e.visibleWrites,o))return null;{const t=Ph(e.visibleWrites,o);return Dh(t)?s.getChild(n):jh(t,s.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Kh(e,t){return function(e,t){return Lh(e.visibleWrites,t)}(e.writeTree,du(e.treePath,t))}function Yh(e,t,n,r,s,o){return function(e,t,n,r,s,o,i){let a;const l=Ph(e.visibleWrites,t),c=Lh(l,ou());if(null!=c)a=c;else{if(null==n)return[];a=jh(l,n)}if(a=a.withIndex(i),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=i.getCompare(),n=o?a.getReverseIteratorFrom(r,i):a.getIteratorFrom(r,i);let l=n.getNext();for(;l&&e.length<s;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,s,o)}function Xh(e,t,n){return function(e,t,n,r){const s=du(t,n),o=Lh(e.visibleWrites,s);if(null!=o)return o;if(r.isCompleteForChild(n))return jh(Ph(e.visibleWrites,s),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Qh(e,t){return Zh(du(e.treePath,t),e.writeTree)}function Zh(e,t){return{treePath:e,writeTree:t}}class Jh{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ha("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ha(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(n,rh(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(n,nh(n,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(n,th(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw da("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,rh(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const ed=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class td{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new yh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xh(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sh(this.viewCache_),s=Yh(this.writes_,r,t,1,n,e);return 0===s.length?null:s[0]}}function nd(e,t,n,r,s){const o=new Jh;let i,a;if(n.type===fh.OVERWRITE){const l=n;l.source.fromUser?i=od(e,t,l.path,l.snap,r,s,o):(ha(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!pu(l.path),i=sd(e,t,l.path,l.snap,r,s,a,o))}else if(n.type===fh.MERGE){const l=n;l.source.fromUser?i=function(e,t,n,r,s,o,i){let a=t;return r.foreach(((r,l)=>{const c=du(n,r);id(t,iu(c))&&(a=od(e,a,c,l,s,o,i))})),r.foreach(((r,l)=>{const c=du(n,r);id(t,iu(c))||(a=od(e,a,c,l,s,o,i))})),a}(e,t,l.path,l.children,r,s,o):(ha(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),i=ld(e,t,l.path,l.children,r,s,a,o))}else if(n.type===fh.ACK_USER_WRITE){const a=n;i=a.revert?function(e,t,n,r,s,o){let i;if(null!=Kh(r,n))return t;{const a=new td(r,t,s),l=t.eventCache.getNode();let c;if(pu(n)||".priority"===iu(n)){let n;if(t.serverCache.isFullyInitialized())n=qh(r,Sh(t));else{const e=t.serverCache.getNode();ha(e instanceof Ku,"serverChildren would be complete if leaf node"),n=Gh(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const s=iu(n);let u=Xh(r,s,t.serverCache);null==u&&t.serverCache.isCompleteForChild(s)&&(u=l.getImmediateChild(s)),c=null!=u?e.filter.updateChild(l,s,u,lu(n),a,o):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(l,s,Ku.EMPTY_NODE,lu(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(i=qh(r,Sh(t)),i.isLeafNode()&&(c=e.filter.updateFullNode(c,i,o)))}return i=t.serverCache.isFullyInitialized()||null!=Kh(r,ou()),xh(t,c,i,e.filter.filtersNodes())}}(e,t,a.path,r,s,o):function(e,t,n,r,s,o,i){if(null!=Kh(s,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(pu(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return sd(e,t,n,l.getNode().getChild(n),s,o,a,i);if(pu(n)){let r=new Ch(null);return l.getNode().forEachChild(Cu,((e,t)=>{r=r.set(new su(e),t)})),ld(e,t,n,r,s,o,a,i)}return t}{let c=new Ch(null);return r.foreach(((e,t)=>{const r=du(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),ld(e,t,n,c,s,o,a,i)}}(e,t,a.path,a.affectedTree,r,s,o)}else{if(n.type!==fh.LISTEN_COMPLETE)throw da("Unknown operation type: "+n.type);i=function(e,t,n,r,s){const o=t.serverCache,i=Th(t,o.getNode(),o.isFullyInitialized()||pu(n),o.isFiltered());return rd(e,i,n,r,ed,s)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Eh(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(eh(Eh(t)))}}(t,i,l),{viewCache:i,changes:l}}function rd(e,t,n,r,s,o){const i=t.eventCache;if(null!=Kh(r,n))return t;{let a,l;if(pu(n))if(ha(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Sh(t),s=Gh(r,n instanceof Ku?n:Ku.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),s,o)}else{const n=qh(r,Sh(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=iu(n);if(".priority"===c){ha(1===au(n),"Can't have a priority with additional path components");const s=i.getNode();l=t.serverCache.getNode();const o=Wh(r,n,s,l);a=null!=o?e.filter.updatePriority(s,o):i.getNode()}else{const u=lu(n);let h;if(i.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Wh(r,n,i.getNode(),l);h=null!=e?i.getNode().getImmediateChild(c).updateChild(u,e):i.getNode().getImmediateChild(c)}else h=Xh(r,c,t.serverCache);a=null!=h?e.filter.updateChild(i.getNode(),c,h,u,s,o):i.getNode()}}return xh(t,a,i.isFullyInitialized()||pu(n),e.filter.filtersNodes())}}function sd(e,t,n,r,s,o,i,a){const l=t.serverCache;let c;const u=i?e.filter:e.filter.getIndexedFilter();if(pu(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=iu(n);if(!l.isCompleteForPath(n)&&au(n)>1)return t;const s=lu(n),o=l.getNode().getImmediateChild(e).updateChild(s,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,s,ed,null)}const h=Th(t,c,l.isFullyInitialized()||pu(n),u.filtersNodes());return rd(e,h,n,s,new td(s,h,o),a)}function od(e,t,n,r,s,o,i){const a=t.eventCache;let l,c;const u=new td(s,t,o);if(pu(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,i),l=xh(t,c,!0,e.filter.filtersNodes());else{const s=iu(n);if(".priority"===s)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=xh(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=lu(n),c=a.getNode().getImmediateChild(s);let h;if(pu(o))h=r;else{const e=u.getCompleteChild(s);h=null!=e?".priority"===cu(o)&&e.getChild(hu(o)).isEmpty()?e:e.updateChild(o,r):Ku.EMPTY_NODE}if(c.equals(h))l=t;else{l=xh(t,e.filter.updateChild(a.getNode(),s,h,o,u,i),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function id(e,t){return e.eventCache.isCompleteForChild(t)}function ad(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function ld(e,t,n,r,s,o,i,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=pu(n)?r:new Ch(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=ad(0,t.serverCache.getNode().getImmediateChild(n),r);c=sd(e,c,new su(n),l,s,o,i,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=ad(0,t.serverCache.getNode().getImmediateChild(n),r);c=sd(e,c,new su(n),l,s,o,i,a)}})),c}function cd(e,t){const n=Sh(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!pu(t)&&!n.getImmediateChild(iu(t)).isEmpty())?n.getChild(t):null}function ud(e,t,n,r){t.type===fh.MERGE&&null!==t.source.queryId&&(ha(Sh(e.viewCache_),"We should always have a full cache before handling merges"),ha(Eh(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,o=nd(e.processor_,s,t,n,r);var i,a;return i=e.processor_,a=o.viewCache,ha(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ha(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ha(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,hd(e,o.changes,o.viewCache.eventCache.getNode(),null)}function hd(e,t,n,r){const s=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const s=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),bh(e,s,"child_removed",t,r,n),bh(e,s,"child_added",t,r,n),bh(e,s,"child_moved",o,r,n),bh(e,s,"child_changed",t,r,n),bh(e,s,"value",t,r,n),s}(e.eventGenerator_,t,n,s)}let dd,pd;function fd(e,t,n,r){const s=t.source.queryId;if(null!==s){const o=e.views.get(s);return ha(null!=o,"SyncTree gave us an op for an invalid query."),ud(o,t,n,r)}{let s=[];for(const o of e.views.values())s=s.concat(ud(o,t,n,r));return s}}function md(e,t){let n=null;for(const r of e.views.values())n=n||cd(r,t);return n}class gd{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ch(null),this.pendingWriteTree_={visibleWrites:Ah.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vd(e,t,n,r,s){return function(e,t,n,r,s){ha(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(e.visibleWrites=Ih(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,s),s?xd(e,new vh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function _d(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Bh(e.pendingWriteTree_,t)){let t=new Ch(null);return null!=r.snap?t=t.set(ou(),!0):Sc(r.children,(e=>{t=t.set(new su(e),!0)})),xd(e,new gh(r.path,t,n))}return[]}function yd(e,t,n){return xd(e,new vh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function bd(e,t,n,r){const s=Sd(e,r);if(null!=s){const r=kd(s),o=r.path,i=r.queryId,a=fu(o,t);return Cd(e,o,new vh(mh(i),a,n))}return[]}function wd(e,t,n){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=md(n,fu(e,t));if(r)return r}));return zh(r,t,s,n,!0)}function xd(e,t){return Td(t,e.syncPointTree_,null,Uh(e.pendingWriteTree_,ou()))}function Td(e,t,n,r){if(pu(e.path))return Ed(e,t,n,r);{const s=t.get(ou());null==n&&null!=s&&(n=md(s,ou()));let o=[];const i=iu(e.path),a=e.operationForChild(i),l=t.children.get(i);if(l&&a){const e=n?n.getImmediateChild(i):null,t=Qh(r,i);o=o.concat(Td(a,l,e,t))}return s&&(o=o.concat(fd(s,e,r,n))),o}}function Ed(e,t,n,r){const s=t.get(ou());null==n&&null!=s&&(n=md(s,ou()));let o=[];return t.children.inorderTraversal(((t,s)=>{const i=n?n.getImmediateChild(t):null,a=Qh(r,t),l=e.operationForChild(t);l&&(o=o.concat(Ed(l,s,i,a)))})),s&&(o=o.concat(fd(s,e,r,n))),o}function Sd(e,t){return e.tagToQueryMap.get(t)}function kd(e){const t=e.indexOf("$");return ha(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new su(e.substr(0,t))}}function Cd(e,t,n){const r=e.syncPointTree_.get(t);ha(r,"Missing sync point for query tag that we're tracking");return fd(r,n,Uh(e.pendingWriteTree_,t),null)}class Ad{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ad(t)}node(){return this.node_}}class Id{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=du(this.path_,e);return new Id(this.syncTree_,t)}node(){return wd(this.syncTree_,this.path_)}}const Rd=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Md=function(e,t,n){return e&&"object"==typeof e?(ha(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Od(e[".sv"],t,n):"object"==typeof e[".sv"]?Ld(e[".sv"],t):void ha(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Od=function(e,t,n){if("timestamp"===e)return n.timestamp;ha(!1,"Unexpected server value: "+e)},Ld=function(e,t,n){e.hasOwnProperty("increment")||ha(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&ha(!1,"Unexpected increment value: "+r);const s=t.node();if(ha(null!=s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return"number"!=typeof o?r:o+r},Nd=function(e,t,n,r){return Dd(t,new Id(n,e),r)},Pd=function(e,t,n){return Dd(e,new Ad(t),n)};function Dd(e,t,n){const r=e.getPriority().val(),s=Md(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Md(r.getValue(),t,n);return o!==r.getValue()||s!==r.getPriority().val()?new Uu(o,Qu(s)):e}{const r=e;return o=r,s!==r.getPriority().val()&&(o=o.updatePriority(new Uu(s))),r.forEachChild(Bu,((e,r)=>{const s=Dd(r,t.getImmediateChild(e),n);s!==r&&(o=o.updateImmediateChild(e,s))})),o}}class jd{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Fd(e,t){let n=t instanceof su?t:new su(t),r=e,s=iu(n);for(;null!==s;){const e=ja(r.node.children,s)||{children:{},childCount:0};r=new jd(s,r,e),n=lu(n),s=iu(n)}return r}function Ud(e){return e.node.value}function Bd(e,t){e.node.value=t,qd(e)}function $d(e){return e.node.childCount>0}function Vd(e,t){Sc(e.node.children,((n,r)=>{t(new jd(n,e,r))}))}function Hd(e,t,n,r){n&&!r&&t(e),Vd(e,(e=>{Hd(e,t,!0,r)})),n&&r&&t(e)}function zd(e){return new su(null===e.parent?e.name:zd(e.parent)+"/"+e.name)}function qd(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Ud(e)&&!$d(e)}(n),s=Da(e.node.children,t);r&&s?(delete e.node.children[t],e.node.childCount--,qd(e)):r||s||(e.node.children[t]=n.node,e.node.childCount++,qd(e))}(e.parent,e.name,e)}const Gd=/[\[\].#$\/\u0000-\u001F\u007F]/,Wd=/[\[\].#$\u0000-\u001F\u007F]/,Kd=10485760,Yd=function(e){return"string"==typeof e&&0!==e.length&&!Gd.test(e)},Xd=function(e){return"string"==typeof e&&0!==e.length&&!Wd.test(e)},Qd=function(e,t,n){const r=n instanceof su?new vu(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+yu(r));if("function"==typeof t)throw new Error(e+"contains a function "+yu(r)+" with contents = "+t.toString());if(vc(t))throw new Error(e+"contains "+t.toString()+" "+yu(r));if("string"==typeof t&&t.length>Kd/3&&za(t)>Kd)throw new Error(e+"contains a string greater than "+Kd+" utf8 bytes "+yu(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,s=!1;if(Sc(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!Yd(t)))throw new Error(e+" contains an invalid key ("+t+") "+yu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=za(t),_u(e)}(r,t),Qd(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=za(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&s)throw new Error(e+' contains ".value" child '+yu(r)+" in addition to actual children.")}},Zd=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yd(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xd(e)}(n))throw new Error(Ha(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Jd{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ep(e,t){let n=null;for(let r=0;r<t.length;r++){const s=t[r],o=s.getPath();null===n||mu(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(s)}n&&e.eventLists_.push(n)}function tp(e,t,n){ep(e,n),np(e,(e=>gu(e,t)||gu(t,e)))}function np(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];if(s){t(s.path)?(rp(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function rp(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();cc&&dc("event: "+n.toString()),Ic(r)}}}const sp="repo_interrupt",op=25;class ip{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ch(),this.transactionQueueTree_=new jd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ap(e,t,n){if(e.stats_=zc(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ah(e.repoInfo_,((t,n,r,s)=>{up(e,t,n,r,s)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>hp(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Na(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new xu(e.repoInfo_,t,((t,n,r,s)=>{up(e,t,n,r,s)}),(t=>{hp(e,t)}),(t=>{!function(e,t){Sc(t,((t,n)=>{dp(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Hc[n]||(Hc[n]=t()),Hc[n]}(e.repoInfo_,(()=>new ph(e.stats_,e.server_))),e.infoData_=new lh,e.infoSyncTree_=new gd({startListening:(t,n,r,s)=>{let o=[];const i=e.infoData_.getNode(t._path);return i.isEmpty()||(o=yd(e.infoSyncTree_,t._path,i),setTimeout((()=>{s("ok")}),0)),o},stopListening:()=>{}}),dp(e,"connected",!1),e.serverSyncTree_=new gd({startListening:(t,n,r,s)=>(e.server_.listen(t,r,n,((n,r)=>{const o=s(n,r);tp(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function lp(e){const t=e.infoData_.getNode(new su(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function cp(e){return Rd({timestamp:lp(e)})}function up(e,t,n,r,s){e.dataUpdateCount++;const o=new su(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let i=[];if(s)if(r){const t=Ua(n,(e=>Qu(e)));i=function(e,t,n,r){const s=Sd(e,r);if(s){const r=kd(s),o=r.path,i=r.queryId,a=fu(o,t),l=Ch.fromObject(n);return Cd(e,o,new _h(mh(i),a,l))}return[]}(e.serverSyncTree_,o,t,s)}else{const t=Qu(n);i=bd(e.serverSyncTree_,o,t,s)}else if(r){const t=Ua(n,(e=>Qu(e)));i=function(e,t,n){const r=Ch.fromObject(n);return xd(e,new _h({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Qu(n);i=yd(e.serverSyncTree_,o,t)}let a=o;i.length>0&&(a=_p(e,o)),tp(e.eventQueue_,a,i)}function hp(e,t){dp(e,"connected",t),!1===t&&function(e){mp(e,"onDisconnectEvents");const t=cp(e),n=ch();hh(e.onDisconnect_,ou(),((r,s)=>{const o=Nd(r,s,e.serverSyncTree_,t);uh(n,r,o)}));let r=[];hh(n,ou(),((t,n)=>{r=r.concat(yd(e.serverSyncTree_,t,n));const s=Tp(e,t);_p(e,s)})),e.onDisconnect_=ch(),tp(e.eventQueue_,ou(),r)}(e)}function dp(e,t,n){const r=new su("/.info/"+t),s=Qu(n);e.infoData_.updateSnapshot(r,s);const o=yd(e.infoSyncTree_,r,s);tp(e.eventQueue_,r,o)}function pp(e){return e.nextWriteId_++}function fp(e){e.persistentConnection_&&e.persistentConnection_.interrupt(sp)}function mp(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),dc(n,...t)}function gp(e,t,n){return wd(e.serverSyncTree_,t,n)||Ku.EMPTY_NODE}function vp(e,t=e.transactionQueueTree_){if(t||xp(e,t),Ud(t)){const n=bp(e,t);ha(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),s=gp(e,t,r);let o=s;const i=s.hash();for(let e=0;e<n.length;e++){const r=n[e];ha(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const s=fu(t,r.path);o=o.updateChild(s,r.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{mp(e,"transaction put response",{path:l.toString(),status:r});let s=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,s=s.concat(_d(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();xp(e,Fd(e.transactionQueueTree_,t)),vp(e,e.transactionQueueTree_),tp(e.eventQueue_,t,s);for(let e=0;e<r.length;e++)Ic(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{gc("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}_p(e,t)}}),i)}(e,zd(t),n)}else $d(t)&&Vd(t,(t=>{vp(e,t)}))}function _p(e,t){const n=yp(e,t),r=zd(n);return function(e,t,n){if(0===t.length)return;const r=[];let s=[];const o=t.filter((e=>0===e.status)),i=o.map((e=>e.currentWriteId));for(let o=0;o<t.length;o++){const l=t[o],c=fu(n,l.path);let u,h=!1;if(ha(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,s=s.concat(_d(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=op)h=!0,u="maxretry",s=s.concat(_d(e.serverSyncTree_,l.currentWriteId,!0));else{const n=gp(e,l.path,i);l.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){Qd("transaction failed: Data returned ",r,l.path);let t=Qu(r);"object"==typeof r&&null!=r&&Da(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=l.currentWriteId,a=cp(e),c=Pd(t,n,a);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=c,l.currentWriteId=pp(e),i.splice(i.indexOf(o),1),s=s.concat(vd(e.serverSyncTree_,l.path,c,l.currentWriteId,l.applyLocally)),s=s.concat(_d(e.serverSyncTree_,o,!0))}else h=!0,u="nodata",s=s.concat(_d(e.serverSyncTree_,l.currentWriteId,!0))}tp(e.eventQueue_,n,s),s=[],h&&(t[o].status=2,a=t[o].unwatcher,setTimeout(a,Math.floor(0)),t[o].onComplete&&("nodata"===u?r.push((()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot))):r.push((()=>t[o].onComplete(new Error(u),!1,null)))))}var a;xp(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)Ic(r[e]);vp(e,e.transactionQueueTree_)}(e,bp(e,n),r),r}function yp(e,t){let n,r=e.transactionQueueTree_;for(n=iu(t);null!==n&&void 0===Ud(r);)r=Fd(r,n),n=iu(t=lu(t));return r}function bp(e,t){const n=[];return wp(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function wp(e,t,n){const r=Ud(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);Vd(t,(t=>{wp(e,t,n)}))}function xp(e,t){const n=Ud(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Bd(t,n.length>0?n:void 0)}Vd(t,(t=>{xp(e,t)}))}function Tp(e,t){const n=zd(yp(e,t)),r=Fd(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Ep(e,t)})),Ep(e,r),Hd(r,(t=>{Ep(e,t)})),n}function Ep(e,t){const n=Ud(t);if(n){const r=[];let s=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ha(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(ha(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),s=s.concat(_d(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Bd(t,void 0):n.length=o+1,tp(e.eventQueue_,zd(t),s);for(let e=0;e<r.length;e++)Ic(r[e])}}const Sp=function(e,t){const n=kp(e),r=n.namespace;"firebase.com"===n.domain&&mc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||mc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Uc(n.host,n.secure,r,s,t,"",r!==n.subdomain),path:new su(n.pathString)}},kp=function(e){let t="",n="",r="",s="",o="",i=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(s=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gc(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(i="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:i,scheme:a,pathString:s,namespace:o}},Cp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Ap{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return pu(this._path)?null:cu(this._path)}get ref(){return new Ip(this._repo,this._path)}get _queryIdentifier(){const e=ih(this._queryParams),t=Tc(e);return"{}"===t?"default":t}get _queryObject(){return ih(this._queryParams)}isEqual(e){if(!((e=qa(e))instanceof Ap))return!1;const t=this._repo===e._repo,n=mu(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Ip extends Ap{constructor(e,t){super(e,t,new sh,!1)}get parent(){const e=hu(this._path);return null===e?null:new Ip(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}!function(e){ha(!dd,"__referenceConstructor has already been defined"),dd=e}(Ip),function(e){ha(!pd,"__referenceConstructor has already been defined"),pd=e}(Ip);const Rp="FIREBASE_DATABASE_EMULATOR_HOST",Mp={};let Op=!1;function Lp(e,t,n,r,s){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||mc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dc("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let i,a,l=Sp(o,s),c=l.repoInfo;void 0!==Xl&&Xl.env&&(a=Xl.env[Rp]),a?(i=!0,o=`http://${a}?ns=${c.namespace}`,l=Sp(o,s),c=l.repoInfo):i=!l.repoInfo.secure;const u=s&&i?new Lc(Lc.OWNER):new Oc(e.name,e.options,t);Zd("Invalid Firebase Database URL",l),pu(l.path)||mc("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let s=Mp[t.name];s||(s={},Mp[t.name]=s);let o=s[e.toURLString()];o&&mc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ip(e,Op,n,r),s[e.toURLString()]=o,o}(c,e,u,new Mc(e.name,n));return new Np(h,e)}class Np{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ap(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ip(this._repo,ou())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Mp[t];n&&n[e.key]===e||mc(`Database ${t}(${e.repoInfo_}) has already been deleted.`),fp(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&mc("Cannot call "+e+" on a deleted database.")}}xu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},xu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Jl=e}(Nl),Rl(new Ga("database",((e,{instanceIdentifier:t})=>Lp(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),jl(Ql,Zl,e),jl(Ql,Zl,"esm2017")}();var Pp,Dp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jp={},Fp=Fp||{},Up=Dp||self;function Bp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Vp="closure_uid_"+(1e9*Math.random()>>>0),Hp=0;function zp(e,t,n){return e.call.apply(e.bind,arguments)}function qp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gp(e,t,n){return(Gp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zp:qp).apply(null,arguments)}function Wp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Kp(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var s=Array(arguments.length-2),o=2;o<arguments.length;o++)s[o-2]=arguments[o];return t.prototype[n].apply(e,s)}}function Yp(){this.s=this.s,this.o=this.o}Yp.prototype.s=!1,Yp.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Vp)&&e[Vp]||(e[Vp]=++Hp))},Yp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Qp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zp(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(Bp(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let s=0;s<r;s++)e[t+s]=n[s]}else e.push(n)}}function Jp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Jp.prototype.h=function(){this.defaultPrevented=!0};var ef=function(){if(!Up.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Up.addEventListener("test",(()=>{}),t),Up.removeEventListener("test",(()=>{}),t)}catch(e){}return e}();function tf(e){return/^[\s\xa0]*$/.test(e)}function nf(){var e=Up.navigator;return e&&(e=e.userAgent)?e:""}function rf(e){return-1!=nf().indexOf(e)}function sf(e){return sf[" "](e),e}sf[" "]=function(){};var of,af,lf,cf=rf("Opera"),uf=rf("Trident")||rf("MSIE"),hf=rf("Edge"),df=hf||uf,pf=rf("Gecko")&&!(-1!=nf().toLowerCase().indexOf("webkit")&&!rf("Edge"))&&!(rf("Trident")||rf("MSIE"))&&!rf("Edge"),ff=-1!=nf().toLowerCase().indexOf("webkit")&&!rf("Edge");function mf(){var e=Up.document;return e?e.documentMode:void 0}e:{var gf="",vf=(af=nf(),pf?/rv:([^\);]+)(\)|;)/.exec(af):hf?/Edge\/([\d\.]+)/.exec(af):uf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(af):ff?/WebKit\/(\S+)/.exec(af):cf?/(?:Version)[ \/]?(\S+)/.exec(af):void 0);if(vf&&(gf=vf?vf[1]:""),uf){var _f=mf();if(null!=_f&&_f>parseFloat(gf)){of=String(_f);break e}}of=gf}if(Up.document&&uf){var yf=mf();lf=yf||(parseInt(of,10)||void 0)}else lf=void 0;var bf=lf;function wf(e,t){if(Jp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pf){e:{try{sf(t.nodeName);var s=!0;break e}catch(e){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:xf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wf.$.h.call(this)}}Kp(wf,Jp);var xf={2:"touch",3:"pen",4:"mouse"};wf.prototype.h=function(){wf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Tf="closure_listenable_"+(1e6*Math.random()|0),Ef=0;function Sf(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++Ef,this.fa=this.ia=!1}function kf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Cf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Af(e){const t={};for(const n in e)t[n]=e[n];return t}const If="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rf(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<If.length;t++)n=If[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Mf(e){this.src=e,this.g={},this.h=0}function Of(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],o=Xp(s,t);(r=0<=o)&&Array.prototype.splice.call(s,o,1),r&&(kf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Lf(e,t,n,r){for(var s=0;s<e.length;++s){var o=e[s];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return s}return-1}Mf.prototype.add=function(e,t,n,r,s){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var i=Lf(e,t,r,s);return-1<i?(t=e[i],n||(t.ia=!1)):((t=new Sf(t,this.src,o,!!r,s)).ia=n,e.push(t)),t};var Nf="closure_lm_"+(1e6*Math.random()|0),Pf={};function Df(e,t,n,r,s){if(r&&r.once)return Ff(e,t,n,r,s);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Df(e,t[o],n,r,s);return null}return n=qf(n),e&&e[Tf]?e.O(t,n,$p(r)?!!r.capture:!!r,s):jf(e,t,n,!1,r,s)}function jf(e,t,n,r,s,o){if(!t)throw Error("Invalid event type");var i=$p(s)?!!s.capture:!!s,a=Hf(e);if(a||(e[Nf]=a=new Mf(e)),(n=a.add(t,n,r,i,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Vf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ef||(s=i),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent($f(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ff(e,t,n,r,s){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ff(e,t[o],n,r,s);return null}return n=qf(n),e&&e[Tf]?e.P(t,n,$p(r)?!!r.capture:!!r,s):jf(e,t,n,!0,r,s)}function Uf(e,t,n,r,s){if(Array.isArray(t))for(var o=0;o<t.length;o++)Uf(e,t[o],n,r,s);else r=$p(r)?!!r.capture:!!r,n=qf(n),e&&e[Tf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Lf(o=e.g[t],n,r,s))&&(kf(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Hf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lf(t,n,r,s)),(n=-1<e?t[e]:null)&&Bf(n))}function Bf(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Tf])Of(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($f(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hf(t))?(Of(n,e),0==n.h&&(n.src=null,t[Nf]=null)):kf(e)}}}function $f(e){return e in Pf?Pf[e]:Pf[e]="on"+e}function Vf(e,t){if(e.fa)e=!0;else{t=new wf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Bf(e),e=n.call(r,t)}return e}function Hf(e){return(e=e[Nf])instanceof Mf?e:null}var zf="__closure_events_fn_"+(1e9*Math.random()>>>0);function qf(e){return"function"==typeof e?e:(e[zf]||(e[zf]=function(t){return e.handleEvent(t)}),e[zf])}function Gf(){Yp.call(this),this.i=new Mf(this),this.S=this,this.J=null}function Wf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new Jp(t,e);else if(t instanceof Jp)t.target=t.target||e;else{var s=t;Rf(t=new Jp(r,e),s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var i=t.g=n[o];s=Kf(i,r,!0,t)&&s}if(s=Kf(i=t.g=e,r,!0,t)&&s,s=Kf(i,r,!1,t)&&s,n)for(o=0;o<n.length;o++)s=Kf(i=t.g=n[o],r,!1,t)&&s}function Kf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,o=0;o<t.length;++o){var i=t[o];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&Of(e.i,i),s=!1!==a.call(l,r)&&s}}return s&&!r.defaultPrevented}Kp(Gf,Yp),Gf.prototype[Tf]=!0,Gf.prototype.removeEventListener=function(e,t,n,r){Uf(this,e,t,n,r)},Gf.prototype.N=function(){if(Gf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kf(n[r]);delete t.g[e],t.h--}}this.J=null},Gf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gf.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yf=Up.JSON.stringify;function Xf(){var e=rm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Qf=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Zf),(e=>e.reset()));class Zf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Jf(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function em(e){Up.setTimeout((()=>{throw e}),0)}let tm,nm=!1,rm=new class{constructor(){this.h=this.g=null}add(e,t){const n=Qf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},sm=()=>{const e=Up.Promise.resolve(void 0);tm=()=>{e.then(om)}};var om=()=>{for(var e;e=Xf();){try{e.h.call(e.g)}catch(e){em(e)}var t=Qf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nm=!1};function im(e,t){Gf.call(this),this.h=e||1,this.g=t||Up,this.j=Gp(this.qb,this),this.l=Date.now()}function am(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function lm(e,t,n){if("function"==typeof e)n&&(e=Gp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Up.setTimeout(e,t||0)}function cm(e){e.g=lm((()=>{e.g=null,e.i&&(e.i=!1,cm(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Kp(im,Gf),(Pp=im.prototype).ga=!1,Pp.T=null,Pp.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wf(this,"tick"),this.ga&&(am(this),this.start()))}},Pp.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pp.N=function(){im.$.N.call(this),am(this),delete this.g};class um extends Yp{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cm(this)}N(){super.N(),this.g&&(Up.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hm(e){Yp.call(this),this.h=e,this.g={}}Kp(hm,Yp);var dm=[];function pm(e,t,n,r){Array.isArray(n)||(n&&(dm[0]=n.toString()),n=dm);for(var s=0;s<n.length;s++){var o=Df(t,n[s],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function fm(e){Cf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bf(e)}),e),e.g={}}function mm(){this.g=!0}function gm(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var i=1;i<s.length;i++)s[i]=""}}}return Yf(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}hm.prototype.N=function(){hm.$.N.call(this),fm(this)},hm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mm.prototype.Ea=function(){this.g=!1},mm.prototype.info=function(){};var vm={},_m=null;function ym(){return _m=_m||new Gf}function bm(e){Jp.call(this,vm.Ta,e)}function wm(e){const t=ym();Wf(t,new bm(t))}function xm(e,t){Jp.call(this,vm.STAT_EVENT,e),this.stat=t}function Tm(e){const t=ym();Wf(t,new xm(t,e))}function Em(e,t){Jp.call(this,vm.Ua,e),this.size=t}function Sm(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Up.setTimeout((function(){e()}),t)}vm.Ta="serverreachability",Kp(bm,Jp),vm.STAT_EVENT="statevent",Kp(xm,Jp),vm.Ua="timingevent",Kp(Em,Jp);var km={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Am(){}function Im(e){return e.h||(e.h=e.i())}function Rm(){}Am.prototype.h=null;var Mm,Om={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lm(){Jp.call(this,"d")}function Nm(){Jp.call(this,"c")}function Pm(){}function Dm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new hm(this),this.P=Fm,e=df?125:void 0,this.V=new im(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jm}function jm(){this.i=null,this.g="",this.h=!1}Kp(Lm,Jp),Kp(Nm,Jp),Kp(Pm,Am),Pm.prototype.g=function(){return new XMLHttpRequest},Pm.prototype.i=function(){return{}},Mm=new Pm;var Fm=45e3,Um={},Bm={};function $m(e,t,n){e.L=1,e.v=ig(tg(t)),e.s=n,e.S=!0,Vm(e,null)}function Vm(e,t){e.G=Date.now(),Gm(e),e.A=tg(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),yg(n.i,"t",r),e.C=0,n=e.l.J,e.h=new jm,e.g=_v(e.l,n?t:null,!e.s),0<e.O&&(e.M=new um(Gp(e.Pa,e,e.g),e.O)),pm(e.U,e.g,"readystatechange",e.nb),t=e.I?Af(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),wm(),function(e,t,n,r,s,o){e.info((function(){if(e.g)if(o)for(var i="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");i=2<=h.length&&"type"==h[1]?i+(u+"=")+c+"&":i+(u+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+i}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Hm(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function zm(e,t,n){let r,s=!0;for(;!e.J&&e.C<n.length;){if(r=qm(e,n),r==Bm){4==t&&(e.o=4,Tm(14),s=!1),gm(e.j,e.m,null,"[Incomplete Response]");break}if(r==Um){e.o=4,Tm(15),gm(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}gm(e.j,e.m,r,null),Qm(e,r)}Hm(e)&&r!=Bm&&r!=Um&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Tm(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),uv(t),t.M=!0,Tm(11))):(gm(e.j,e.m,n,"[Invalid Chunked Response]"),Xm(e),Ym(e))}function qm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bm:(n=Number(t.substring(n,r)),isNaN(n)?Um:(r+=1)+n>t.length?Bm:(t=t.slice(r,r+n),e.C=r+n,t))}function Gm(e){e.Y=Date.now()+e.P,Wm(e,e.P)}function Wm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Sm(Gp(e.lb,e),t)}function Km(e){e.B&&(Up.clearTimeout(e.B),e.B=null)}function Ym(e){0==e.l.H||e.J||pv(e.l,e)}function Xm(e){Km(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,am(e.V),fm(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Qm(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Sg(n.i,e)))if(!e.K&&Sg(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;dv(n),nv(n)}cv(n),Tm(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=Sm(Gp(n.ib,n),6e3));if(1>=Eg(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else mv(n,11)}else if((e.K||n.g==e)&&dv(n),!tf(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const s=c[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(kg(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,og(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var i=e;if((r=n).wa=vv(r,r.J?r.pa:null,r.Y),i.K){Cg(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.B&&(Km(a),Gm(a)),r.g=i}else lv(r);0<n.j.length&&sv(n)}else"stop"!=c[0]&&"close"!=c[0]||mv(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?mv(n,7):tv(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}wm()}catch(e){}}function Zm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Bp(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(Bp(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(Bp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,o=0;o<s;o++)t.call(void 0,r[o],n&&n[o],e)}(Pp=Dm.prototype).setTimeout=function(e){this.P=e},Pp.nb=function(e){e=e.target;const t=this.M;t&&3==Yg(e)?t.l():this.Pa(e)},Pp.Pa=function(e){try{if(e==this.g)e:{const u=Yg(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||df||this.g&&(this.h.h||this.g.ja()||Xg(this.g)))){this.J||4!=u||7==t||wm(),Km(this);var n=this.g.da();this.ca=n;t:if(Hm(this)){var r=Xg(this.g);e="";var s=r.length,o=4==Yg(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Xm(this),Ym(this);var i="";break t}this.h.i=new Up.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,i=this.h.g}else i=this.g.ja();if(this.i=200==n,function(e,t,n,r,s,o,i){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+o+" "+i}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Tm(12),Xm(this),Ym(this);break e}gm(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qm(this,n)}this.S?(zm(this,u,i),df&&this.i&&3==u&&(pm(this.U,this.V,"tick",this.mb),this.V.start())):(gm(this.j,this.m,i,null),Qm(this,i)),4==u&&Xm(this),this.i&&!this.J&&(4==u?pv(this.l,this):(this.i=!1,Gm(this)))}else(function(e){const t={};e=(e.g&&2<=Yg(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(tf(e[r]))continue;var n=Jf(e[r]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[s]||[];t[s]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<i.indexOf("Unknown SID")?(this.o=3,Tm(12)):(this.o=0,Tm(13)),Xm(this),Ym(this)}}}catch(e){}},Pp.mb=function(){if(this.g){var e=Yg(this.g),t=this.g.ja();this.C<t.length&&(Km(this),zm(this,e,t),this.i&&4!=e&&Gm(this))}},Pp.cancel=function(){this.J=!0,Xm(this)},Pp.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(wm(),Tm(17)),Xm(this),this.o=2,Ym(this)):Wm(this,this.Y-e)};var Jm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof eg){this.h=e.h,ng(this,e.j),this.s=e.s,this.g=e.g,rg(this,e.m),this.l=e.l;var t=e.i,n=new mg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sg(this,n),this.o=e.o}else e&&(t=String(e).match(Jm))?(this.h=!1,ng(this,t[1]||"",!0),this.s=ag(t[2]||""),this.g=ag(t[3]||"",!0),rg(this,t[4]),this.l=ag(t[5]||"",!0),sg(this,t[6]||"",!0),this.o=ag(t[7]||"")):(this.h=!1,this.i=new mg(null,this.h))}function tg(e){return new eg(e)}function ng(e,t,n){e.j=n?ag(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sg(e,t,n){t instanceof mg?(e.i=t,function(e,t){t&&!e.j&&(gg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vg(this,t),yg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=lg(t,pg)),e.i=new mg(t,e.h))}function og(e,t,n){e.i.set(t,n)}function ig(e){return og(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ag(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function lg(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,cg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}eg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(lg(t,ug,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(lg(t,ug,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(lg(n,"/"==n.charAt(0)?dg:hg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",lg(n,fg)),e.join("")};var ug=/[#\/\?@]/g,hg=/[#\?:]/g,dg=/[#\?]/g,pg=/[#\?@]/g,fg=/#/g;function mg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var o=e[n].substring(0,r);s=e[n].substring(r+1)}else o=e[n];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vg(e,t){gg(e),t=bg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _g(e,t){return gg(e),t=bg(e,t),e.g.has(t)}function yg(e,t,n){vg(e,t),0<n.length&&(e.i=null,e.g.set(bg(e,t),Qp(n)),e.h+=n.length)}function bg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Pp=mg.prototype).add=function(e,t){gg(this),this.i=null,e=bg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Pp.forEach=function(e,t){gg(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Pp.ta=function(){gg(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},Pp.Z=function(e){gg(this);let t=[];if("string"==typeof e)_g(this,e)&&(t=t.concat(this.g.get(bg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Pp.set=function(e,t){return gg(this),this.i=null,_g(this,e=bg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Pp.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Pp.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var s=o;""!==i[r]&&(s+="="+encodeURIComponent(String(i[r]))),e.push(s)}}return this.i=e.join("&")};function wg(e){this.l=e||xg,Up.PerformanceNavigationTiming?e=0<(e=Up.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Up.g&&Up.g.Ka&&Up.g.Ka()&&Up.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xg=10;function Tg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Eg(e){return e.h?1:e.g?e.g.size:0}function Sg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function kg(e,t){e.g?e.g.add(t):e.h=t}function Cg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ag(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Qp(e.i)}wg.prototype.cancel=function(){if(this.i=Ag(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ig=class{stringify(e){return Up.JSON.stringify(e,void 0)}parse(e){return Up.JSON.parse(e,void 0)}};function Rg(){this.g=new Ig}function Mg(e,t,n){const r=n||"";try{Zm(e,(function(e,n){let s=e;$p(e)&&(s=Yf(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Og(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch(e){}}function Lg(e){this.l=e.fc||null,this.j=e.ob||!1}function Ng(e,t){Gf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Pg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kp(Lg,Am),Lg.prototype.g=function(){return new Ng(this.l,this.j)},Lg.prototype.i=function(e){return function(){return e}}({}),Kp(Ng,Gf);var Pg=0;function Dg(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function jg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fg(e)}function Fg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Pp=Ng.prototype).open=function(e,t){if(this.readyState!=Pg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fg(this)},Pp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Up).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Pp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jg(this)),this.readyState=Pg},Pp.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fg(this)),this.g&&(this.readyState=3,Fg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Up.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dg(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Pp.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jg(this):Fg(this),3==this.readyState&&Dg(this)}},Pp.Za=function(e){this.g&&(this.response=this.responseText=e,jg(this))},Pp.Ya=function(e){this.g&&(this.response=e,jg(this))},Pp.ka=function(){this.g&&jg(this)},Pp.setRequestHeader=function(e,t){this.v.append(e,t)},Pp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Pp.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ng.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ug=Up.JSON.parse;function Bg(e){Gf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$g,this.L=this.M=!1}Kp(Bg,Gf);var $g="",Vg=/^https?$/i,Hg=["POST","PUT"];function zg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,qg(e),Wg(e)}function qg(e){e.F||(e.F=!0,Wf(e,"complete"),Wf(e,"error"))}function Gg(e){if(e.h&&void 0!==Fp&&(!e.C[1]||4!=Yg(e)||2!=e.da()))if(e.v&&4==Yg(e))lm(e.La,0,e);else if(Wf(e,"readystatechange"),4==Yg(e)){e.h=!1;try{const i=e.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){var s=String(e.I).match(Jm)[1]||null;!s&&Up.self&&Up.self.location&&(s=Up.self.location.protocol.slice(0,-1)),r=!Vg.test(s?s.toLowerCase():"")}n=r}if(n)Wf(e,"complete"),Wf(e,"success");else{e.m=6;try{var o=2<Yg(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.da()+"]",qg(e)}}finally{Wg(e)}}}function Wg(e,t){if(e.g){Kg(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Wf(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Kg(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Up.clearTimeout(e.A),e.A=null)}function Yg(e){return e.g?e.g.readyState:0}function Xg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case $g:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Qg(e){let t="";return Cf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Qg(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):og(e,t,n))}function Jg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ev(e){this.Ga=0,this.j=[],this.l=new mm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jg("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jg("baseRetryDelayMs",5e3,e),this.hb=Jg("retryDelaySeedMs",1e4,e),this.eb=Jg("forwardChannelMaxRetries",2,e),this.xa=Jg("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new wg(e&&e.concurrentRequestLimit),this.Ja=new Rg,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tv(e){if(rv(e),3==e.H){var t=e.W++,n=tg(e.I);if(og(n,"SID",e.K),og(n,"RID",t),og(n,"TYPE","terminate"),iv(e,n),(t=new Dm(e,e.l,t)).L=2,t.v=ig(tg(n)),n=!1,Up.navigator&&Up.navigator.sendBeacon)try{n=Up.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&Up.Image&&((new Image).src=t.v,n=!0),n||(t.g=_v(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Gm(t)}gv(e)}function nv(e){e.g&&(uv(e),e.g.cancel(),e.g=null)}function rv(e){nv(e),e.u&&(Up.clearTimeout(e.u),e.u=null),dv(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Up.clearTimeout(e.m),e.m=null)}function sv(e){if(!Tg(e.i)&&!e.m){e.m=!0;var t=e.Na;tm||sm(),nm||(tm(),nm=!0),rm.add(t,e),e.C=0}}function ov(e,t){var n;n=t?t.m:e.W++;const r=tg(e.I);og(r,"SID",e.K),og(r,"RID",n),og(r,"AID",e.V),iv(e,r),e.o&&e.s&&Zg(r,e.o,e.s),n=new Dm(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=av(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),kg(e.i,n),$m(n,r,t)}function iv(e,t){e.na&&Cf(e.na,(function(e,n){og(t,n,e)})),e.h&&Zm({},(function(e,n){og(t,n,e)}))}function av(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Gp(e.h.Va,e.h,e):null;e:{var s=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let i=0;i<n;i++){let n=s[i].g;const a=s[i].map;if(n-=t,0>n)t=Math.max(0,s[i].g-100),o=!1;else try{Mg(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function lv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;tm||sm(),nm||(tm(),nm=!0),rm.add(t,e),e.A=0}}function cv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Sm(Gp(e.Ma,e),fv(e,e.A)),e.A++,!0)}function uv(e){null!=e.B&&(Up.clearTimeout(e.B),e.B=null)}function hv(e){e.g=new Dm(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tg(e.wa);og(t,"RID","rpc"),og(t,"SID",e.K),og(t,"AID",e.V),og(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&og(t,"TO",e.qa),og(t,"TYPE","xmlhttp"),iv(e,t),e.o&&e.s&&Zg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ig(tg(t)),n.s=null,n.S=!0,Vm(n,e)}function dv(e){null!=e.v&&(Up.clearTimeout(e.v),e.v=null)}function pv(e,t){var n=null;if(e.g==t){dv(e),uv(e),e.g=null;var r=2}else{if(!Sg(e.i,t))return;n=t.F,Cg(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;Wf(r=ym(),new Em(r,n)),sv(e)}else lv(e);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==r&&function(e,t){return!(Eg(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=Sm(Gp(e.Na,e,t),fv(e,e.C)),e.C++,0)))}(e,t)||2==r&&cv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:mv(e,5);break;case 4:mv(e,10);break;case 3:mv(e,6);break;default:mv(e,2)}}function fv(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function mv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Gp(e.pb,e);n||(n=new eg("//www.google.com/images/cleardot.gif"),Up.location&&"http"==Up.location.protocol||ng(n,"https"),ig(n)),function(e,t){const n=new mm;if(Up.Image){const r=new Image;r.onload=Wp(Og,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wp(Og,n,r,"TestLoadImage: error",!1,t),r.onabort=Wp(Og,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wp(Og,n,r,"TestLoadImage: timeout",!1,t),Up.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Tm(2);e.H=0,e.h&&e.h.za(t),gv(e),rv(e)}function gv(e){if(e.H=0,e.ma=[],e.h){const t=Ag(e.i);0==t.length&&0==e.j.length||(Zp(e.ma,t),Zp(e.ma,e.j),e.i.i.length=0,Qp(e.j),e.j.length=0),e.h.ya()}}function vv(e,t,n){var r=n instanceof eg?tg(n):new eg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),rg(r,r.m);else{var s=Up.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new eg(null);r&&ng(o,r),t&&(o.g=t),s&&rg(o,s),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&og(r,n,t),og(r,"VER",e.ra),iv(e,r),r}function _v(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Bg(new Lg({ob:!0})):new Bg(e.va)).Oa(e.J),t}function yv(){}function bv(){if(uf&&!(10<=Number(bf)))throw Error("Environmental error: no available transport.")}function wv(e,t){Gf.call(this),this.g=new ev(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!tf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ev(this)}function xv(e){Lm.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tv(){Nm.call(this),this.status=1}function Ev(e){this.g=e}function Sv(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kv(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var o=e.g[3],i=t+(o^n&(s^o))+r[0]+3614090360&4294967295;i=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=n+(i<<7&4294967295|i>>>25))+((i=o+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=s+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^s&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^n&(s^o))+r[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=o+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=s+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^s&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^n&(s^o))+r[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=o+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=s+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^s&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^n&(s^o))+r[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=o+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=s+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^s&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^o&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=s+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(s^o))+r[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(s^o&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=s+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(s^o))+r[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(s^o&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=s+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(s^o))+r[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(s^o&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=o+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=s+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=n+(o^t&(s^o))+r[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(n^s^o)+r[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=s+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=n+(s^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^s^o)+r[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=s+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=n+(s^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^s^o)+r[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=s+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=n+(s^o^t)+r[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^s^o)+r[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=o+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=s+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=n+(s^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(s^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=s+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=n+(o^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(s^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=s+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=n+(o^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(s^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=s+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=n+(o^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((o=(t=n+((i=t+(s^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=o+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((s=o+((i=s+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+o&4294967295}function Cv(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var o=0|e[s];r&&o==t||(n[s]=o,r=!1)}this.g=n}(Pp=Bg.prototype).Oa=function(e){this.M=e},Pp.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mm.g(),this.C=this.u?Im(this.u):Im(Mm),this.g.onreadystatechange=Gp(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void zg(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=Up.FormData&&e instanceof Up.FormData,!(0<=Xp(Hg,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Kg(this),0<this.B&&((this.L=function(e){return uf&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gp(this.ua,this)):this.A=lm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){zg(this,e)}},Pp.ua=function(){void 0!==Fp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wf(this,"timeout"),this.abort(8))},Pp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wf(this,"complete"),Wf(this,"abort"),Wg(this))},Pp.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wg(this,!0)),Bg.$.N.call(this)},Pp.La=function(){this.s||(this.G||this.v||this.l?Gg(this):this.kb())},Pp.kb=function(){Gg(this)},Pp.isActive=function(){return!!this.g},Pp.da=function(){try{return 2<Yg(this)?this.g.status:-1}catch(e){return-1}},Pp.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Pp.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ug(t)}},Pp.Ia=function(){return this.m},Pp.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pp=ev.prototype).ra=8,Pp.H=1,Pp.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Dm(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Af(o),Rf(o,this.U)):o=this.U),null!==this.o||this.O||(s.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=av(this,s,t),og(n=tg(this.I),"RID",e),og(n,"CVER",22),this.F&&og(n,"X-HTTP-Session-Id",this.F),iv(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Qg(o)))+"&"+t:this.o&&Zg(n,this.o,o)),kg(this.i,s),this.bb&&og(n,"TYPE","init"),this.P?(og(n,"$req",t),og(n,"SID","null"),s.aa=!0,$m(s,n,null)):$m(s,n,t),this.H=2}}else 3==this.H&&(e?ov(this,e):0==this.j.length||Tg(this.i)||ov(this))},Pp.Ma=function(){if(this.u=null,hv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Sm(Gp(this.jb,this),e)}},Pp.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tm(10),nv(this),hv(this))},Pp.ib=function(){null!=this.v&&(this.v=null,nv(this),cv(this),Tm(19))},Pp.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Tm(2)):(this.l.info("Failed to ping google.com"),Tm(1))},Pp.isActive=function(){return!!this.h&&this.h.isActive(this)},(Pp=yv.prototype).Ba=function(){},Pp.Aa=function(){},Pp.za=function(){},Pp.ya=function(){},Pp.isActive=function(){return!0},Pp.Va=function(){},bv.prototype.g=function(e,t){return new wv(e,t)},Kp(wv,Gf),wv.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Tm(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=vv(e,null,e.Y),sv(e)},wv.prototype.close=function(){tv(this.g)},wv.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yf(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&sv(t)},wv.prototype.N=function(){this.g.h=null,delete this.j,tv(this.g),delete this.g,wv.$.N.call(this)},Kp(xv,Lm),Kp(Tv,Nm),Kp(Ev,yv),Ev.prototype.Ba=function(){Wf(this.g,"a")},Ev.prototype.Aa=function(e){Wf(this.g,new xv(e))},Ev.prototype.za=function(e){Wf(this.g,new Tv)},Ev.prototype.ya=function(){Wf(this.g,"b")},Kp(Sv,(function(){this.blockSize=-1})),Sv.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Sv.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,o=0;o<t;){if(0==s)for(;o<=n;)kv(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(r[s++]=e.charCodeAt(o++),s==this.blockSize){kv(this,r),s=0;break}}else for(;o<t;)if(r[s++]=e[o++],s==this.blockSize){kv(this,r),s=0;break}}this.h=s,this.i+=t},Sv.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Av={};function Iv(e){return-128<=e&&128>e?function(e,t){var n=Av;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Cv([0|e],0>e?-1:0)})):new Cv([0|e],0>e?-1:0)}function Rv(e){if(isNaN(e)||!isFinite(e))return Ov;if(0>e)return jv(Rv(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Mv;return new Cv(t,0)}var Mv=4294967296,Ov=Iv(0),Lv=Iv(1),Nv=Iv(16777216);function Pv(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Dv(e){return-1==e.h}function jv(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Cv(n,~e.h).add(Lv)}function Fv(e,t){return e.add(jv(t))}function Uv(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Bv(e,t){this.g=e,this.h=t}function $v(e,t){if(Pv(t))throw Error("division by zero");if(Pv(e))return new Bv(Ov,Ov);if(Dv(e))return t=$v(jv(e),t),new Bv(jv(t.g),jv(t.h));if(Dv(t))return t=$v(e,jv(t)),new Bv(jv(t.g),t.h);if(30<e.g.length){if(Dv(e)||Dv(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Lv,r=t;0>=r.X(e);)n=Vv(n),r=Vv(r);var s=Hv(n,1),o=Hv(r,1);for(r=Hv(r,2),n=Hv(n,2);!Pv(r);){var i=o.add(r);0>=i.X(e)&&(s=s.add(n),o=i),r=Hv(r,1),n=Hv(n,1)}return t=Fv(e,s.R(t)),new Bv(s,t)}for(s=Ov;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),i=(o=Rv(n)).R(t);Dv(i)||0<i.X(e);)i=(o=Rv(n-=r)).R(t);Pv(o)&&(o=Lv),s=s.add(o),e=Fv(e,i)}return new Bv(s,e)}function Vv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Cv(n,e.h)}function Hv(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],o=0;o<r;o++)s[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Cv(s,e.h)}(Pp=Cv.prototype).ea=function(){if(Dv(this))return-jv(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Mv+r)*t,t*=Mv}return e},Pp.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Pv(this))return"0";if(Dv(this))return"-"+jv(this).toString(e);for(var t=Rv(Math.pow(e,6)),n=this,r="";;){var s=$v(n,t).g,o=((0<(n=Fv(n,s.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Pv(n=s))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Pp.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Pp.X=function(e){return Dv(e=Fv(this,e))?-1:Pv(e)?0:1},Pp.abs=function(){return Dv(this)?jv(this):this},Pp.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var o=r+(65535&this.D(s))+(65535&e.D(s)),i=(o>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=i>>>16,o&=65535,i&=65535,n[s]=i<<16|o}return new Cv(n,-2147483648&n[n.length-1]?-1:0)},Pp.R=function(e){if(Pv(this)||Pv(e))return Ov;if(Dv(this))return Dv(e)?jv(this).R(jv(e)):jv(jv(this).R(e));if(Dv(e))return jv(this.R(jv(e)));if(0>this.X(Nv)&&0>e.X(Nv))return Rv(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var o=this.D(r)>>>16,i=65535&this.D(r),a=e.D(s)>>>16,l=65535&e.D(s);n[2*r+2*s]+=i*l,Uv(n,2*r+2*s),n[2*r+2*s+1]+=o*l,Uv(n,2*r+2*s+1),n[2*r+2*s+1]+=i*a,Uv(n,2*r+2*s+1),n[2*r+2*s+2]+=o*a,Uv(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Cv(n,0)},Pp.gb=function(e){return $v(this,e).h},Pp.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Cv(n,this.h&e.h)},Pp.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Cv(n,this.h|e.h)},Pp.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Cv(n,this.h^e.h)},bv.prototype.createWebChannel=bv.prototype.g,wv.prototype.send=wv.prototype.u,wv.prototype.open=wv.prototype.m,wv.prototype.close=wv.prototype.close,km.NO_ERROR=0,km.TIMEOUT=8,km.HTTP_ERROR=6,Cm.COMPLETE="complete",Rm.EventType=Om,Om.OPEN="a",Om.CLOSE="b",Om.ERROR="c",Om.MESSAGE="d",Gf.prototype.listen=Gf.prototype.O,Bg.prototype.listenOnce=Bg.prototype.P,Bg.prototype.getLastError=Bg.prototype.Sa,Bg.prototype.getLastErrorCode=Bg.prototype.Ia,Bg.prototype.getStatus=Bg.prototype.da,Bg.prototype.getResponseJson=Bg.prototype.Wa,Bg.prototype.getResponseText=Bg.prototype.ja,Bg.prototype.send=Bg.prototype.ha,Bg.prototype.setWithCredentials=Bg.prototype.Oa,Sv.prototype.digest=Sv.prototype.l,Sv.prototype.reset=Sv.prototype.reset,Sv.prototype.update=Sv.prototype.j,Cv.prototype.add=Cv.prototype.add,Cv.prototype.multiply=Cv.prototype.R,Cv.prototype.modulo=Cv.prototype.gb,Cv.prototype.compare=Cv.prototype.X,Cv.prototype.toNumber=Cv.prototype.ea,Cv.prototype.toString=Cv.prototype.toString,Cv.prototype.getBits=Cv.prototype.D,Cv.fromNumber=Rv,Cv.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return jv(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rv(Math.pow(n,8)),s=Ov,o=0;o<t.length;o+=8){var i=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+i),n);8>i?(i=Rv(Math.pow(n,i)),s=s.R(i).add(Rv(a))):s=(s=s.R(r)).add(Rv(a))}return s};var zv=jp.createWebChannelTransport=function(){return new bv},qv=jp.getStatEventTarget=function(){return ym()},Gv=jp.ErrorCode=km,Wv=jp.EventType=Cm,Kv=jp.Event=vm,Yv=jp.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xv=jp.FetchXmlHttpFactory=Lg,Qv=jp.WebChannel=Rm,Zv=jp.XhrIo=Bg,Jv=jp.Md5=Sv,e_=jp.Integer=Cv;n(34155);const t_="@firebase/firestore";class n_{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}n_.UNAUTHENTICATED=new n_(null),n_.GOOGLE_CREDENTIALS=new n_("google-credentials-uid"),n_.FIRST_PARTY=new n_("first-party-uid"),n_.MOCK_USER=new n_("mock-user");let r_="9.23.0";const s_=new nl("@firebase/firestore");function o_(){return s_.logLevel}function i_(e,...t){if(s_.logLevel<=Qa.DEBUG){const n=t.map(c_);s_.debug(`Firestore (${r_}): ${e}`,...n)}}function a_(e,...t){if(s_.logLevel<=Qa.ERROR){const n=t.map(c_);s_.error(`Firestore (${r_}): ${e}`,...n)}}function l_(e,...t){if(s_.logLevel<=Qa.WARN){const n=t.map(c_);s_.warn(`Firestore (${r_}): ${e}`,...n)}}function c_(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function u_(e="Unexpected state"){const t=`FIRESTORE (${r_}) INTERNAL ASSERTION FAILED: `+e;throw a_(t),new Error(t)}function h_(e,t){e||u_()}function d_(e,t){return e}const p_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class f_ extends Ra{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class m_{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class g_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(n_.UNAUTHENTICATED)))}shutdown(){}}class __{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class y_{constructor(e){this.t=e,this.currentUser=n_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new m_;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new m_,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},i=e=>{i_("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>i(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(i_("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new m_)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(i_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(h_("string"==typeof t.accessToken),new g_(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return h_(null===e||"string"==typeof e),new n_(e)}}class b_{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=n_.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class w_{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new b_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(n_.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T_{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&i_("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,i_("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{i_("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):i_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(h_("string"==typeof e.token),this.T=e.token,new x_(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function E_(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class S_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=E_(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function k_(e,t){return e<t?-1:e>t?1:0}function C_(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class A_{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new f_(p_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new f_(p_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new f_(p_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new f_(p_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return A_.fromMillis(Date.now())}static fromDate(e){return A_.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new A_(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?k_(this.nanoseconds,e.nanoseconds):k_(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class I_{constructor(e){this.timestamp=e}static fromTimestamp(e){return new I_(e)}static min(){return new I_(new A_(0,0))}static max(){return new I_(new A_(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class R_{constructor(e,t,n){void 0===t?t=0:t>e.length&&u_(),void 0===n?n=e.length-t:n>e.length-t&&u_(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===R_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof R_?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class M_ extends R_{construct(e,t,n){return new M_(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new f_(p_.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new M_(t)}static emptyPath(){return new M_([])}}const O_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class L_ extends R_{construct(e,t,n){return new L_(e,t,n)}static isValidIdentifier(e){return O_.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),L_.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new L_(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new f_(p_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new f_(p_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new f_(p_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(s(),r++)}if(s(),o)throw new f_(p_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new L_(t)}static emptyPath(){return new L_([])}}class N_{constructor(e){this.path=e}static fromPath(e){return new N_(M_.fromString(e))}static fromName(e){return new N_(M_.fromString(e).popFirst(5))}static empty(){return new N_(M_.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===M_.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return M_.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N_(new M_(e.slice()))}}class P_{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}P_.UNKNOWN_ID=-1;function D_(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=I_.fromTimestamp(1e9===r?new A_(n+1,0):new A_(n,r));return new F_(s,N_.empty(),t)}function j_(e){return new F_(e.readTime,e.key,-1)}class F_{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new F_(I_.min(),N_.empty(),-1)}static max(){return new F_(I_.max(),N_.empty(),-1)}}function U_(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=N_.comparator(e.documentKey,t.documentKey),0!==n?n:k_(e.largestBatchId,t.largestBatchId))}const B_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function V_(e){if(e.code!==p_.FAILED_PRECONDITION||e.message!==B_)throw e;i_("LocalStore","Unexpectedly lost primary lease")}class H_{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&u_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H_(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof H_?t:H_.resolve(t)}catch(e){return H_.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):H_.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):H_.reject(t)}static resolve(e){return new H_(((t,n)=>{t(e)}))}static reject(e){return new H_(((t,n)=>{n(e)}))}static waitFor(e){return new H_(((t,n)=>{let r=0,s=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++s,o&&s===r&&t()}),(e=>n(e)))})),o=!0,s===r&&t()}))}static or(e){let t=H_.resolve(!1);for(const n of e)t=t.next((e=>e?H_.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new H_(((n,r)=>{const s=e.length,o=new Array(s);let i=0;for(let a=0;a<s;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++i,i===s&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new H_(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function z_(e){return"IndexedDbTransactionError"===e.name}class q_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function G_(e){return null==e}function W_(e){return 0===e&&1/e==-1/0}function K_(e){return"number"==typeof e&&Number.isInteger(e)&&!W_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}q_.ct=-1;const Y_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],X_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Q_=X_;function Z_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function J_(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ey(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ty{constructor(e,t){this.comparator=e,this.root=t||ry.EMPTY}insert(e,t){return new ty(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ry.BLACK,null,null))}remove(e){return new ty(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ry.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ny(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ny(this.root,e,this.comparator,!1)}getReverseIterator(){return new ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ny(this.root,e,this.comparator,!0)}}class ny{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ry{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:ry.RED,this.left=null!=r?r:ry.EMPTY,this.right=null!=s?s:ry.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new ry(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ry.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ry.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ry.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ry.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw u_();if(this.right.isRed())throw u_();const e=this.left.check();if(e!==this.right.check())throw u_();return e+(this.isRed()?0:1)}}ry.EMPTY=null,ry.RED=!0,ry.BLACK=!1,ry.EMPTY=new class{constructor(){this.size=0}get key(){throw u_()}get value(){throw u_()}get color(){throw u_()}get left(){throw u_()}get right(){throw u_()}copy(e,t,n,r,s){return this}insert(e,t,n){return new ry(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sy{constructor(e){this.comparator=e,this.data=new ty(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(e){return new oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof sy))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new sy(this.comparator);return t.data=e,t}}class oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class iy{constructor(e){this.fields=e,e.sort(L_.comparator)}static empty(){return new iy([])}unionWith(e){let t=new sy(L_.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new iy(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return C_(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ay extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ly{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ay("Invalid base64 string: "+e):e}}(e);return new ly(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ly(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return k_(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ly.EMPTY_BYTE_STRING=new ly("");const cy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uy(e){if(h_(!!e),"string"==typeof e){let t=0;const n=cy.exec(e);if(h_(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:hy(e.seconds),nanos:hy(e.nanos)}}function hy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dy(e){return"string"==typeof e?ly.fromBase64String(e):ly.fromUint8Array(e)}function py(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fy(e){const t=e.mapValue.fields.__previous_value__;return py(t)?fy(t):t}function my(e){const t=uy(e.mapValue.fields.__local_write_time__.timestampValue);return new A_(t.seconds,t.nanos)}class gy{constructor(e,t,n,r,s,o,i,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=i,this.longPollingOptions=a,this.useFetchStreams=l}}class vy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vy&&e.projectId===this.projectId&&e.database===this.database}}const _y={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?py(e)?4:Ly(e)?9007199254740991:10:u_()}function by(e,t){if(e===t)return!0;const n=yy(e);if(n!==yy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return my(e).isEqual(my(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=uy(e.timestampValue),r=uy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dy(e.bytesValue).isEqual(dy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hy(e.geoPointValue.latitude)===hy(t.geoPointValue.latitude)&&hy(e.geoPointValue.longitude)===hy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hy(e.integerValue)===hy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=hy(e.doubleValue),r=hy(t.doubleValue);return n===r?W_(n)===W_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return C_(e.arrayValue.values||[],t.arrayValue.values||[],by);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Z_(n)!==Z_(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!by(n[e],r[e])))return!1;return!0}(e,t);default:return u_()}}function wy(e,t){return void 0!==(e.values||[]).find((e=>by(e,t)))}function xy(e,t){if(e===t)return 0;const n=yy(e),r=yy(t);if(n!==r)return k_(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return k_(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=hy(e.integerValue||e.doubleValue),r=hy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ty(e.timestampValue,t.timestampValue);case 4:return Ty(my(e),my(t));case 5:return k_(e.stringValue,t.stringValue);case 6:return function(e,t){const n=dy(e),r=dy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=k_(n[e],r[e]);if(0!==t)return t}return k_(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=k_(hy(e.latitude),hy(t.latitude));return 0!==n?n:k_(hy(e.longitude),hy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=xy(n[e],r[e]);if(t)return t}return k_(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===_y.mapValue&&t===_y.mapValue)return 0;if(e===_y.mapValue)return 1;if(t===_y.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},o=Object.keys(s);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=k_(r[e],o[e]);if(0!==t)return t;const i=xy(n[r[e]],s[o[e]]);if(0!==i)return i}return k_(r.length,o.length)}(e.mapValue,t.mapValue);default:throw u_()}}function Ty(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return k_(e,t);const n=uy(e),r=uy(t),s=k_(n.seconds,r.seconds);return 0!==s?s:k_(n.nanos,r.nanos)}function Ey(e){return Sy(e)}function Sy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=uy(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,N_.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Sy(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${Sy(e.fields[s])}`;return n+"}"}(e.mapValue):u_();var t,n}function ky(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Cy(e){return!!e&&"integerValue"in e}function Ay(e){return!!e&&"arrayValue"in e}function Iy(e){return!!e&&"nullValue"in e}function Ry(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function My(e){return!!e&&"mapValue"in e}function Oy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return J_(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Oy(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Oy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ly(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ny{constructor(e){this.value=e}static empty(){return new Ny({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!My(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oy(t)}setAll(e){let t=L_.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Oy(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());My(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return by(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];My(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){J_(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Ny(Oy(this.value))}}function Py(e){const t=[];return J_(e.fields,((e,n)=>{const r=new L_([e]);if(My(n)){const e=Py(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new iy(t)}class Dy{constructor(e,t,n,r,s,o,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=i}static newInvalidDocument(e){return new Dy(e,0,I_.min(),I_.min(),I_.min(),Ny.empty(),0)}static newFoundDocument(e,t,n,r){return new Dy(e,1,t,I_.min(),n,r,0)}static newNoDocument(e,t){return new Dy(e,2,t,I_.min(),I_.min(),Ny.empty(),0)}static newUnknownDocument(e,t){return new Dy(e,3,t,I_.min(),I_.min(),Ny.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(I_.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ny.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ny.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=I_.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dy&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dy(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jy{constructor(e,t){this.position=e,this.inclusive=t}}function Fy(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const o=t[s],i=e.position[s];if(r=o.field.isKeyField()?N_.comparator(N_.fromName(i.referenceValue),n.key):xy(i,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Uy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!by(e.position[n],t.position[n]))return!1;return!0}class By{constructor(e,t="asc"){this.field=e,this.dir=t}}function $y(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Vy{}class Hy extends Vy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Qy(e,t,n):"array-contains"===t?new tb(e,n):"in"===t?new nb(e,n):"not-in"===t?new rb(e,n):"array-contains-any"===t?new sb(e,n):new Hy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Zy(e,n):new Jy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xy(t,this.value)):null!==t&&yy(this.value)===yy(t)&&this.matchesComparison(xy(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return u_()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class zy extends Vy{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new zy(e,t)}matches(e){return qy(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function qy(e){return"and"===e.op}function Gy(e){return Wy(e)&&qy(e)}function Wy(e){for(const t of e.filters)if(t instanceof zy)return!1;return!0}function Ky(e){if(e instanceof Hy)return e.field.canonicalString()+e.op.toString()+Ey(e.value);if(Gy(e))return e.filters.map((e=>Ky(e))).join(",");{const t=e.filters.map((e=>Ky(e))).join(",");return`${e.op}(${t})`}}function Yy(e,t){return e instanceof Hy?function(e,t){return t instanceof Hy&&e.op===t.op&&e.field.isEqual(t.field)&&by(e.value,t.value)}(e,t):e instanceof zy?function(e,t){return t instanceof zy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Yy(n,t.filters[r])),!0)}(e,t):void u_()}function Xy(e){return e instanceof Hy?function(e){return`${e.field.canonicalString()} ${e.op} ${Ey(e.value)}`}(e):e instanceof zy?function(e){return e.op.toString()+" {"+e.getFilters().map(Xy).join(" ,")+"}"}(e):"Filter"}class Qy extends Hy{constructor(e,t,n){super(e,t,n),this.key=N_.fromName(n.referenceValue)}matches(e){const t=N_.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zy extends Hy{constructor(e,t){super(e,"in",t),this.keys=eb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jy extends Hy{constructor(e,t){super(e,"not-in",t),this.keys=eb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function eb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>N_.fromName(e.referenceValue)))}class tb extends Hy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ay(t)&&wy(t.arrayValue,this.value)}}class nb extends Hy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wy(this.value.arrayValue,t)}}class rb extends Hy{constructor(e,t){super(e,"not-in",t)}matches(e){if(wy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wy(this.value.arrayValue,t)}}class sb extends Hy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>wy(this.value.arrayValue,e)))}}class ob{constructor(e,t=null,n=[],r=[],s=null,o=null,i=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=i,this.dt=null}}function ib(e,t=null,n=[],r=[],s=null,o=null,i=null){return new ob(e,t,n,r,s,o,i)}function ab(e){const t=d_(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ky(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),G_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ey(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ey(e))).join(",")),t.dt=e}return t.dt}function lb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$y(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Yy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Uy(e.startAt,t.startAt)&&Uy(e.endAt,t.endAt)}function cb(e){return N_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ub{constructor(e,t=null,n=[],r=[],s=null,o="F",i=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=i,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function hb(e,t,n,r,s,o,i,a){return new ub(e,t,n,r,s,o,i,a)}function db(e){return new ub(e)}function pb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mb(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function gb(e){return null!==e.collectionGroup}function vb(e){const t=d_(e);if(null===t.wt){t.wt=[];const e=mb(t),n=fb(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new By(e)),t.wt.push(new By(L_.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new By(L_.keyField(),e))}}}return t.wt}function _b(e){const t=d_(e);if(!t._t)if("F"===t.limitType)t._t=ib(t.path,t.collectionGroup,vb(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of vb(t)){const t="desc"===n.dir?"asc":"desc";e.push(new By(n.field,t))}const n=t.endAt?new jy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jy(t.startAt.position,t.startAt.inclusive):null;t._t=ib(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function yb(e,t){t.getFirstInequalityField(),mb(e);const n=e.filters.concat([t]);return new ub(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function bb(e,t,n){return new ub(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wb(e,t){return lb(_b(e),_b(t))&&e.limitType===t.limitType}function xb(e){return`${ab(_b(e))}|lt:${e.limitType}`}function Tb(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Xy(e))).join(", ")}]`),G_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ey(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ey(e))).join(",")),`Target(${t})`}(_b(e))}; limitType=${e.limitType})`}function Eb(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):N_.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of vb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Fy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vb(e),t))&&!(e.endAt&&!function(e,t,n){const r=Fy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vb(e),t))}(e,t)}function Sb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kb(e){return(t,n)=>{let r=!1;for(const s of vb(e)){const e=Cb(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Cb(e,t,n){const r=e.field.isKeyField()?N_.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?xy(r,s):u_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return u_()}}class Ab{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){J_(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return ey(this.inner)}size(){return this.innerSize}}const Ib=new ty(N_.comparator);function Rb(){return Ib}const Mb=new ty(N_.comparator);function Ob(...e){let t=Mb;for(const n of e)t=t.insert(n.key,n);return t}function Lb(e){let t=Mb;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Nb(){return Db()}function Pb(){return Db()}function Db(){return new Ab((e=>e.toString()),((e,t)=>e.isEqual(t)))}const jb=new ty(N_.comparator),Fb=new sy(N_.comparator);function Ub(...e){let t=Fb;for(const n of e)t=t.add(n);return t}const Bb=new sy(k_);function $b(){return Bb}function Vb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W_(t)?"-0":t}}function Hb(e){return{integerValue:""+e}}function zb(e,t){return K_(t)?Hb(t):Vb(e,t)}class qb{constructor(){this._=void 0}}function Gb(e,t,n){return e instanceof Yb?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&py(t)&&(t=fy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xb?Qb(e,t):e instanceof Zb?Jb(e,t):function(e,t){const n=Kb(e,t),r=tw(n)+tw(e.gt);return Cy(n)&&Cy(e.gt)?Hb(r):Vb(e.serializer,r)}(e,t)}function Wb(e,t,n){return e instanceof Xb?Qb(e,t):e instanceof Zb?Jb(e,t):n}function Kb(e,t){return e instanceof ew?Cy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Yb extends qb{}class Xb extends qb{constructor(e){super(),this.elements=e}}function Qb(e,t){const n=nw(t);for(const t of e.elements)n.some((e=>by(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Zb extends qb{constructor(e){super(),this.elements=e}}function Jb(e,t){let n=nw(t);for(const t of e.elements)n=n.filter((e=>!by(e,t)));return{arrayValue:{values:n}}}class ew extends qb{constructor(e,t){super(),this.serializer=e,this.gt=t}}function tw(e){return hy(e.integerValue||e.doubleValue)}function nw(e){return Ay(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class rw{constructor(e,t){this.version=e,this.transformResults=t}}class sw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sw}static exists(e){return new sw(void 0,e)}static updateTime(e){return new sw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ow(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class iw{}function aw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new vw(e.key,sw.none()):new dw(e.key,e.data,sw.none());{const n=e.data,r=Ny.empty();let s=new sy(L_.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new pw(e.key,r,new iy(s.toArray()),sw.none())}}function lw(e,t,n){e instanceof dw?function(e,t,n){const r=e.value.clone(),s=mw(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pw?function(e,t,n){if(!ow(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=mw(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(fw(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cw(e,t,n,r){return e instanceof dw?function(e,t,n,r){if(!ow(e.precondition,t))return n;const s=e.value.clone(),o=gw(e.fieldTransforms,r,t);return s.setAll(o),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof pw?function(e,t,n,r){if(!ow(e.precondition,t))return n;const s=gw(e.fieldTransforms,r,t),o=t.data;return o.setAll(fw(e)),o.setAll(s),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ow(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Kb(r.transform,e||null);null!=s&&(null===n&&(n=Ny.empty()),n.set(r.field,s))}return n||null}function hw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&C_(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xb&&t instanceof Xb||e instanceof Zb&&t instanceof Zb?C_(e.elements,t.elements,by):e instanceof ew&&t instanceof ew?by(e.gt,t.gt):e instanceof Yb&&t instanceof Yb}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dw extends iw{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pw extends iw{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function mw(e,t,n){const r=new Map;h_(e.length===n.length);for(let s=0;s<n.length;s++){const o=e[s],i=o.transform,a=t.data.field(o.field);r.set(o.field,Wb(i,a,n[s]))}return r}function gw(e,t,n){const r=new Map;for(const s of e){const e=s.transform,o=n.data.field(s.field);r.set(s.field,Gb(e,o,t))}return r}class vw extends iw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends iw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&lw(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=cw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=cw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Pb();return this.mutations.forEach((r=>{const s=e.get(r.key),o=s.overlayedDocument;let i=this.applyToLocalView(o,s.mutatedFields);i=t.has(r.key)?null:i;const a=aw(o,i);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(I_.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ub())}isEqual(e){return this.batchId===e.batchId&&C_(this.mutations,e.mutations,((e,t)=>hw(e,t)))&&C_(this.baseMutations,e.baseMutations,((e,t)=>hw(e,t)))}}class bw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){h_(e.mutations.length===n.length);let r=jb;const s=e.mutations;for(let e=0;e<s.length;e++)r=r.insert(s[e].key,n[e].version);return new bw(e,t,n,r)}}class ww{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xw{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tw,Ew;function Sw(e){switch(e){default:return u_();case p_.CANCELLED:case p_.UNKNOWN:case p_.DEADLINE_EXCEEDED:case p_.RESOURCE_EXHAUSTED:case p_.INTERNAL:case p_.UNAVAILABLE:case p_.UNAUTHENTICATED:return!1;case p_.INVALID_ARGUMENT:case p_.NOT_FOUND:case p_.ALREADY_EXISTS:case p_.PERMISSION_DENIED:case p_.FAILED_PRECONDITION:case p_.ABORTED:case p_.OUT_OF_RANGE:case p_.UNIMPLEMENTED:case p_.DATA_LOSS:return!0}}function kw(e){if(void 0===e)return a_("GRPC error has no .code"),p_.UNKNOWN;switch(e){case Tw.OK:return p_.OK;case Tw.CANCELLED:return p_.CANCELLED;case Tw.UNKNOWN:return p_.UNKNOWN;case Tw.DEADLINE_EXCEEDED:return p_.DEADLINE_EXCEEDED;case Tw.RESOURCE_EXHAUSTED:return p_.RESOURCE_EXHAUSTED;case Tw.INTERNAL:return p_.INTERNAL;case Tw.UNAVAILABLE:return p_.UNAVAILABLE;case Tw.UNAUTHENTICATED:return p_.UNAUTHENTICATED;case Tw.INVALID_ARGUMENT:return p_.INVALID_ARGUMENT;case Tw.NOT_FOUND:return p_.NOT_FOUND;case Tw.ALREADY_EXISTS:return p_.ALREADY_EXISTS;case Tw.PERMISSION_DENIED:return p_.PERMISSION_DENIED;case Tw.FAILED_PRECONDITION:return p_.FAILED_PRECONDITION;case Tw.ABORTED:return p_.ABORTED;case Tw.OUT_OF_RANGE:return p_.OUT_OF_RANGE;case Tw.UNIMPLEMENTED:return p_.UNIMPLEMENTED;case Tw.DATA_LOSS:return p_.DATA_LOSS;default:return u_()}}(Ew=Tw||(Tw={}))[Ew.OK=0]="OK",Ew[Ew.CANCELLED=1]="CANCELLED",Ew[Ew.UNKNOWN=2]="UNKNOWN",Ew[Ew.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ew[Ew.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ew[Ew.NOT_FOUND=5]="NOT_FOUND",Ew[Ew.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ew[Ew.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ew[Ew.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ew[Ew.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ew[Ew.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ew[Ew.ABORTED=10]="ABORTED",Ew[Ew.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ew[Ew.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ew[Ew.INTERNAL=13]="INTERNAL",Ew[Ew.UNAVAILABLE=14]="UNAVAILABLE",Ew[Ew.DATA_LOSS=15]="DATA_LOSS";class Cw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Aw}static getOrCreateInstance(){return null===Aw&&(Aw=new Cw),Aw}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Aw=null;function Iw(){return new TextEncoder}const Rw=new e_([4294967295,4294967295],0);function Mw(e){const t=Iw().encode(e),n=new Jv;return n.update(t),new Uint8Array(n.digest())}function Ow(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new e_([n,r],0),new e_([s,o],0)]}class Lw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Nw(`Invalid padding: ${t}`);if(n<0)throw new Nw(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Nw(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Nw(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=e_.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(e_.fromNumber(n)));return 1===r.compare(Rw)&&(r=new e_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Mw(e),[n,r]=Ow(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);if(!this.At(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Lw(s,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=Mw(e),[n,r]=Ow(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);this.Rt(t)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Nw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pw{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Dw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Pw(I_.min(),r,new ty(k_),Rb(),Ub())}}class Dw{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Dw(n,t,Ub(),Ub(),Ub())}}class jw{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Fw{constructor(e,t){this.targetId=e,this.Vt=t}}class Uw{constructor(e,t,n=ly.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Bw{constructor(){this.St=0,this.Dt=Hw(),this.Ct=ly.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ub(),t=Ub(),n=Ub();return this.Dt.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:u_()}})),new Dw(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Hw()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $w{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Rb(),this.zt=Vw(),this.Wt=new ty(k_)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:u_()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,s=this.se(n);if(s){const o=s.target;if(cb(o))if(0===r){const e=new N_(o.path);this.Yt(n,e,Dy.newNoDocument(e,I_.min()))}else h_(1===r);else{const s=this.ie(n);if(s!==r){const r=this.re(e,s);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Cw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,s,o,i,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(i=null===(o=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==i?i:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,s,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:i=0}=n;let a,l;try{a=dy(s).toUint8Array()}catch(e){if(e instanceof ay)return l_("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Lw(a,o,i)}catch(e){return l_(e instanceof Nw?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const s=this.Gt.ue(),o=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const s=this.se(r);if(s){if(n.current&&cb(s.target)){const t=new N_(s.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Dy.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Ub();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Pw(e,t,this.Wt,this.jt,n);return this.jt=Rb(),this.zt=Vw(),this.Wt=new ty(k_),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Bw,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new sy(k_),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||i_("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Bw),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vw(){return new ty(N_.comparator)}function Hw(){return new ty(N_.comparator)}const zw={asc:"ASCENDING",desc:"DESCENDING"},qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gw={and:"AND",or:"OR"};class Ww{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kw(e,t){return e.useProto3Json||G_(t)?t:{value:t}}function Yw(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qw(e,t){return Yw(e,t.toTimestamp())}function Zw(e){return h_(!!e),I_.fromTimestamp(function(e){const t=uy(e);return new A_(t.seconds,t.nanos)}(e))}function Jw(e,t){return function(e){return new M_(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ex(e){const t=M_.fromString(e);return h_(bx(t)),t}function tx(e,t){return Jw(e.databaseId,t.path)}function nx(e,t){const n=ex(t);if(n.get(1)!==e.databaseId.projectId)throw new f_(p_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new f_(p_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new N_(ix(n))}function rx(e,t){return Jw(e.databaseId,t)}function sx(e){const t=ex(e);return 4===t.length?M_.emptyPath():ix(t)}function ox(e){return new M_(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ix(e){return h_(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ax(e,t,n){return{name:tx(e,t),fields:n.value.mapValue.fields}}function lx(e,t){let n;if(t instanceof dw)n={update:ax(e,t.key,t.value)};else if(t instanceof vw)n={delete:tx(e,t.key)};else if(t instanceof pw)n={update:ax(e,t.key,t.data),updateMask:yx(t.fieldMask)};else{if(!(t instanceof _w))return u_();n={verify:tx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Yb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ew)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw u_()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:u_()}(e,t.precondition)),n}function cx(e,t){return{documents:[rx(e,t.path)]}}function ux(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(e){if(0!==e.length)return _x(zy.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:gx(e.field),direction:px(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const i=Kw(e,t.limit);var a;return null!==i&&(n.structuredQuery.limit=i),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hx(e){let t=sx(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){h_(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=dx(e);return t instanceof zy&&Gy(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=n.orderBy.map((e=>function(e){return new By(vx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,G_(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new jy(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new jy(n,t)}(n.endAt)),hb(t,s,i,o,a,"F",l,c)}function dx(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=vx(e.unaryFilter.field);return Hy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=vx(e.unaryFilter.field);return Hy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vx(e.unaryFilter.field);return Hy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vx(e.unaryFilter.field);return Hy.create(s,"!=",{nullValue:"NULL_VALUE"});default:return u_()}}(e):void 0!==e.fieldFilter?function(e){return Hy.create(vx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return u_()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return zy.create(e.compositeFilter.filters.map((e=>dx(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return u_()}}(e.compositeFilter.op))}(e):u_()}function px(e){return zw[e]}function fx(e){return qw[e]}function mx(e){return Gw[e]}function gx(e){return{fieldPath:e.canonicalString()}}function vx(e){return L_.fromServerFormat(e.fieldPath)}function _x(e){return e instanceof Hy?function(e){if("=="===e.op){if(Ry(e.value))return{unaryFilter:{field:gx(e.field),op:"IS_NAN"}};if(Iy(e.value))return{unaryFilter:{field:gx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ry(e.value))return{unaryFilter:{field:gx(e.field),op:"IS_NOT_NAN"}};if(Iy(e.value))return{unaryFilter:{field:gx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gx(e.field),op:fx(e.op),value:e.value}}}(e):e instanceof zy?function(e){const t=e.getFilters().map((e=>_x(e)));return 1===t.length?t[0]:{compositeFilter:{op:mx(e.op),filters:t}}}(e):u_()}function yx(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function bx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class wx{constructor(e,t,n,r,s=I_.min(),o=I_.min(),i=ly.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=i,this.expectedCount=a}withSequenceNumber(e){return new wx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xx{constructor(e){this.fe=e}}function Tx(e){const t=hx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bb(t,t.limit,"L"):t}class Ex{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(hy(e.integerValue));else if("doubleValue"in e){const n=hy(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),W_(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(dy(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Ly(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):u_()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const e of Object.keys(n))this.Te(e,t),this.me(n[e],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const e of n)this.me(e,t)}ve(e,t){this.ye(t,37),N_.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ex.Ve=new Ex;class Sx{constructor(){this.rn=new kx}addToCollectionParentIndex(e,t){return this.rn.add(t),H_.resolve()}getCollectionParents(e,t){return H_.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return H_.resolve()}deleteFieldIndex(e,t){return H_.resolve()}getDocumentsMatchingTarget(e,t){return H_.resolve(null)}getIndexType(e,t){return H_.resolve(0)}getFieldIndexes(e,t){return H_.resolve([])}getNextCollectionGroupToUpdate(e){return H_.resolve(null)}getMinOffset(e,t){return H_.resolve(F_.min())}getMinOffsetFromCollectionGroup(e,t){return H_.resolve(F_.min())}updateCollectionGroup(e,t,n){return H_.resolve()}updateIndexEntries(e,t){return H_.resolve()}}class kx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sy(M_.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new sy(M_.comparator)).toArray()}}new Uint8Array(0);class Cx{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Cx(e,Cx.DEFAULT_COLLECTION_PERCENTILE,Cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Cx.DEFAULT_COLLECTION_PERCENTILE=10,Cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cx.DEFAULT=new Cx(41943040,Cx.DEFAULT_COLLECTION_PERCENTILE,Cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cx.DISABLED=new Cx(-1,0,0);class Ax{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ax(0)}static Mn(){return new Ax(-1)}}class Ix{constructor(){this.changes=new Ab((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dy.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?H_.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&cw(n.mutation,e,iy.empty(),A_.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ub()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Ub()){const r=Nb();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ob();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Nb();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ub())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=Rb();const o=Db(),i=Db();return t.forEach(((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof pw)?s=s.insert(t.key,t):void 0!==i?(o.set(t.key,i.mutation.getFieldMask()),cw(i.mutation,t,i.mutation.getFieldMask(),A_.now())):o.set(t.key,iy.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return i.set(e,new Rx(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),i)))}recalculateAndSaveOverlays(e,t){const n=Db();let r=new ty(((e,t)=>e-t)),s=Ub();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let i=n.get(e)||iy.empty();i=s.applyToLocalView(o,i),n.set(e,i);const a=(r.get(s.batchId)||Ub()).add(e);r=r.insert(s.batchId,a)}))})).next((()=>{const o=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),a=r.key,l=r.value,c=Pb();l.forEach((e=>{if(!s.has(e)){const r=aw(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return H_.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return N_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):H_.resolve(Nb());let i=-1,a=s;return o.next((t=>H_.forEach(t,((t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),s.get(t)?H_.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,a,t,Ub()))).next((e=>({batchId:i,changes:Lb(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N_(t)).next((e=>{let t=Ob();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let s=Ob();return this.indexManager.getCollectionParents(e,r).next((o=>H_.forEach(o,(o=>{const i=function(e,t){return new ub(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,i,n).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Dy.newInvalidDocument(r)))}));let n=Ob();return e.forEach(((e,s)=>{const o=r.get(e);void 0!==o&&cw(o.mutation,s,iy.empty(),A_.now()),Eb(t,s)&&(n=n.insert(e,s))})),n}))}}class Ox{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return H_.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Zw(n.createTime)}),H_.resolve()}getNamedQuery(e,t){return H_.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Tx(e.bundledQuery),readTime:Zw(e.readTime)}}(t)),H_.resolve()}}class Lx{constructor(){this.overlays=new ty(N_.comparator),this.ls=new Map}getOverlay(e,t){return H_.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Nb();return H_.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),H_.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),H_.resolve()}getOverlaysForCollection(e,t,n){const r=Nb(),s=t.length+1,o=new N_(t.child("")),i=this.overlays.getIteratorFrom(o);for(;i.hasNext();){const e=i.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return H_.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new ty(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Nb(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=Nb(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>i.set(e,t))),!(i.size()>=r)););return H_.resolve(i)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ww(t,n));let s=this.ls.get(t);void 0===s&&(s=Ub(),this.ls.set(t,s)),this.ls.set(t,s.add(n.key))}}class Nx{constructor(){this.fs=new sy(Px.ds),this.ws=new sy(Px._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Px(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Px(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new N_(new M_([])),n=new Px(t,e),r=new Px(t,e+1),s=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),s.push(e.key)})),s}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new N_(new M_([])),n=new Px(t,e),r=new Px(t,e+1);let s=Ub();return this.ws.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new Px(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Px{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return N_.comparator(e.key,t.key)||k_(e.As,t.As)}static _s(e,t){return k_(e.As,t.As)||N_.comparator(e.key,t.key)}}class Dx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new sy(Px.ds)}checkEmpty(e){return H_.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yw(s,t,n,r);this.mutationQueue.push(o);for(const t of r)this.Rs=this.Rs.add(new Px(t.key,s)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return H_.resolve(o)}lookupMutationBatch(e,t){return H_.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),s=r<0?0:r;return H_.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H_.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return H_.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Px(t,0),r=new Px(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);s.push(t)})),H_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new sy(k_);return t.forEach((e=>{const t=new Px(e,0),r=new Px(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),H_.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;N_.isDocumentKey(s)||(s=s.child(""));const o=new Px(new N_(s),0);let i=new sy(k_);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.As)),!0)}),o),H_.resolve(this.Vs(i))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){h_(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return H_.forEach(t.mutations,(r=>{const s=new Px(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Px(t,0),r=this.Rs.firstAfterOrEqual(n);return H_.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,H_.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jx{constructor(e){this.Ds=e,this.docs=new ty(N_.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return H_.resolve(n?n.document.mutableCopy():Dy.newInvalidDocument(t))}getEntries(e,t){let n=Rb();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Dy.newInvalidDocument(e))})),H_.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Rb();const o=t.path,i=new N_(o.child("")),a=this.docs.getIteratorFrom(i);for(;a.hasNext();){const{key:e,value:{document:i}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||U_(j_(i),n)<=0||(r.has(i.key)||Eb(t,i))&&(s=s.insert(i.key,i.mutableCopy()))}return H_.resolve(s)}getAllFromCollectionGroup(e,t,n,r){u_()}Cs(e,t){return H_.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Fx(this)}getSize(e){return H_.resolve(this.size)}}class Fx extends Ix{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),H_.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ux{constructor(e){this.persistence=e,this.xs=new Ab((e=>ab(e)),lb),this.lastRemoteSnapshotVersion=I_.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Nx,this.targetCount=0,this.Ms=Ax.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),H_.resolve()}getLastRemoteSnapshotVersion(e){return H_.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H_.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),H_.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),H_.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ax(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,H_.resolve()}updateTargetData(e,t){return this.Fn(t),H_.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,H_.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.xs.forEach(((o,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)})),H_.waitFor(s).next((()=>r))}getTargetCount(e){return H_.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return H_.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),H_.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),H_.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),H_.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return H_.resolve(n)}containsKey(e,t){return H_.resolve(this.ks.containsKey(t))}}class Bx{constructor(e,t){this.$s={},this.overlays={},this.Os=new q_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ux(this),this.indexManager=new Sx,this.remoteDocumentCache=function(e){return new jx(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new xx(t),this.qs=new Ox(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Dx(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){i_("MemoryPersistence","Starting transaction:",e);const r=new $x(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return H_.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class $x extends $_{constructor(e){super(),this.currentSequenceNumber=e}}class Vx{constructor(e){this.persistence=e,this.Qs=new Nx,this.js=null}static zs(e){return new Vx(e)}get Ws(){if(this.js)return this.js;throw u_()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),H_.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),H_.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),H_.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H_.forEach(this.Ws,(n=>{const r=N_.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,I_.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return H_.or([()=>H_.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Hx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Ub(),r=Ub();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Hx(e,t.fromCache,n,r)}}class zx{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((s=>s||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(pb(t))return H_.resolve(null);let n=_b(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=bb(t,null,"F"),n=_b(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=Ub(...r);return this.Ui.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,s,n.readTime)?this.Ki(e,bb(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return pb(t)||r.isEqual(I_.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((s=>{const o=this.ji(t,s);return this.zi(t,o,n,r)?this.Qi(e,t):(o_()<=Qa.DEBUG&&i_("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tb(t)),this.Wi(e,o,t,D_(r,-1)))}))}ji(e,t){let n=new sy(kb(e));return t.forEach(((t,r)=>{Eb(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return o_()<=Qa.DEBUG&&i_("QueryEngine","Using full collection scan to execute query:",Tb(t)),this.Ui.getDocumentsMatchingQuery(e,t,F_.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class qx{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ty(k_),this.Yi=new Ab((e=>ab(e)),lb),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mx(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Gx(e,t,n,r){return new qx(e,t,n,r)}async function Wx(e,t){const n=d_(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],o=[];let i=Ub();for(const e of r){s.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next((e=>({er:e,removedBatchIds:s,addedBatchIds:o})))}))}))}function Kx(e){const t=d_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Yx(e,t,n){let r=Ub(),s=Ub();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Rb();return n.forEach(((n,o)=>{const i=e.get(n);o.isFoundDocument()!==i.isFoundDocument()&&(s=s.add(n)),o.isNoDocument()&&o.version.isEqual(I_.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!i.isValidDocument()||o.version.compareTo(i.version)>0||0===o.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):i_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",o.version)})),{nr:r,sr:s}}))}function Xx(e,t){const n=d_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Qx(e,t){const n=d_(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((s=>s?(r=s,H_.resolve(r)):n.Bs.allocateTargetId(e).next((s=>(r=new wx(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function Zx(e,t,n){const r=d_(e),s=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(e){if(!z_(e))throw e;i_("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(s.target)}function Jx(e,t,n){const r=d_(e);let s=I_.min(),o=Ub();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=d_(e),s=r.Yi.get(n);return void 0!==s?H_.resolve(r.Ji.get(s)):r.Bs.getTargetData(t,n)}(r,e,_b(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?s:I_.min(),n?o:Ub()))).next((e=>(eT(r,Sb(t),e),{documents:e,ir:o})))))}function eT(e,t,n){let r=e.Xi.get(t)||I_.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class tT{constructor(){this.activeTargetIds=$b()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nT{constructor(){this.Hr=new tT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new tT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rT{Yr(e){}shutdown(){}}class sT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){i_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){i_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let oT=null;function iT(){return null===oT?oT=268435456+Math.round(2147483648*Math.random()):oT++,"0x"+oT.toString(16)}const aT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const cT="WebChannelConnection";class uT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,s){const o=iT(),i=this.To(e,t);i_("RestConnection",`Sending RPC '${e}' ${o}:`,i,n);const a={};return this.Eo(a,r,s),this.Ao(e,i,a,n).then((t=>(i_("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw l_("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",i,"request:",n),t}))}vo(e,t,n,r,s,o){return this.Io(e,t,n,r,s)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+r_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=aT[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const s=iT();return new Promise(((o,i)=>{const a=new Zv;a.setWithCredentials(!0),a.listenOnce(Wv.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Gv.NO_ERROR:const t=a.getResponseJson();i_(cT,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),o(t);break;case Gv.TIMEOUT:i_(cT,`RPC '${e}' ${s} timed out`),i(new f_(p_.DEADLINE_EXCEEDED,"Request time out"));break;case Gv.HTTP_ERROR:const n=a.getStatus();if(i_(cT,`RPC '${e}' ${s} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(p_).indexOf(t)>=0?t:p_.UNKNOWN}(t.status);i(new f_(e,t.message))}else i(new f_(p_.UNKNOWN,"Server responded with status "+a.getStatus()))}else i(new f_(p_.UNAVAILABLE,"Connection failed."));break;default:u_()}}finally{i_(cT,`RPC '${e}' ${s} completed.`)}}));const l=JSON.stringify(r);i_(cT,`RPC '${e}' ${s} sending request:`,r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=iT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zv(),i=qv(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Xv({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=s.join("");i_(cT,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const p=new lT({ro:t=>{d?i_(cT,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(i_(cT,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),i_(cT,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Qv.EventType.OPEN,(()=>{d||i_(cT,`RPC '${e}' stream ${r} transport opened.`)})),f(u,Qv.EventType.CLOSE,(()=>{d||(d=!0,i_(cT,`RPC '${e}' stream ${r} transport closed`),p.wo())})),f(u,Qv.EventType.ERROR,(t=>{d||(d=!0,l_(cT,`RPC '${e}' stream ${r} transport errored:`,t),p.wo(new f_(p_.UNAVAILABLE,"The operation could not be completed")))})),f(u,Qv.EventType.MESSAGE,(t=>{var n;if(!d){const s=t.data[0];h_(!!s);const o=s,i=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(i){i_(cT,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=Tw[e];if(void 0!==t)return kw(t)}(t),s=i.message;void 0===n&&(n=p_.INTERNAL,s="Unknown error status: "+t+" with message "+i.message),d=!0,p.wo(new f_(n,s)),u.close()}else i_(cT,`RPC '${e}' stream ${r} received:`,s),p._o(s)}})),f(i,Kv.STAT_EVENT,(t=>{t.stat===Yv.PROXY?i_(cT,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Yv.NOPROXY&&i_(cT,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.fo()}),0),p}}function hT(){return"undefined"!=typeof document?document:null}function dT(e){return new Ww(e,!0)}class pT{constructor(e,t,n=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&i_("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class fT{constructor(e,t,n,r,s,o,i,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=i,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new pT(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===p_.RESOURCE_EXHAUSTED?(a_(t.toString()),a_("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===p_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Fo===t&&this.Zo(e,n)}),(t=>{e((()=>{const e=new f_(p_.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return i_("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(i_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mT extends fT{constructor(e,t,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:u_()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(h_(void 0===t||"string"==typeof t),ly.fromBase64String(t||"")):(h_(void 0===t||t instanceof Uint8Array),ly.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,a=i&&function(e){const t=void 0===e.code?p_.UNKNOWN:kw(e.code);return new f_(t,e.message||"")}(i);n=new Uw(r,s,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=nx(e,r.document.name),o=Zw(r.document.updateTime),i=r.document.createTime?Zw(r.document.createTime):I_.min(),a=new Ny({mapValue:{fields:r.document.fields}}),l=Dy.newFoundDocument(s,o,i,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new jw(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=nx(e,r.document),o=r.readTime?Zw(r.readTime):I_.min(),i=Dy.newNoDocument(s,o),a=r.removedTargetIds||[];n=new jw([],a,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=nx(e,r.document),o=r.removedTargetIds||[];n=new jw([],o,s,null)}else{if(!("filter"in t))return u_();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,o=new xw(r,s),i=e.targetId;n=new Fw(i,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return I_.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?I_.min():t.readTime?Zw(t.readTime):I_.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=ox(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=cb(r)?{documents:cx(e,r)}:{query:ux(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Xw(e,t.resumeToken);const r=Kw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(I_.min())>0){n.readTime=Yw(e,t.snapshotVersion.toTimestamp());const r=Kw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return u_()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=ox(this.serializer),t.removeTarget=e,this.Wo(t)}}class gT extends fT{constructor(e,t,n,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(h_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(h_(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Zw(e.updateTime):Zw(t);return n.isEqual(I_.min())&&(n=Zw(t)),new rw(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Zw(e.commitTime);return this.listener.cu(n,t)}return h_(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ox(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>lx(this.serializer,e)))};this.Wo(t)}}class vT extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new f_(p_.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,s])=>this.connection.Io(e,t,n,r,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===p_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new f_(p_.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.vo(e,t,n,s,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===p_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new f_(p_.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class _T{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(a_(t),this.mu=!1):i_("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class yT{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{AT(this)&&(i_("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=d_(e);t.vu.add(4),await wT(t),t.bu.set("Unknown"),t.vu.delete(4),await bT(t)}(this))}))})),this.bu=new _T(n,r)}}async function bT(e){if(AT(e))for(const t of e.Ru)await t(!0)}async function wT(e){for(const t of e.Ru)await t(!1)}function xT(e,t){const n=d_(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),CT(n)?kT(n):GT(n).Ko()&&ET(n,t))}function TT(e,t){const n=d_(e),r=GT(n);n.Au.delete(t),r.Ko()&&ST(n,t),0===n.Au.size&&(r.Ko()?r.jo():AT(n)&&n.bu.set("Unknown"))}function ET(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(I_.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}GT(e).su(t)}function ST(e,t){e.Vu.qt(t),GT(e).iu(t)}function kT(e){e.Vu=new $w({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),GT(e).start(),e.bu.gu()}function CT(e){return AT(e)&&!GT(e).Uo()&&e.Au.size>0}function AT(e){return 0===d_(e).vu.size}function IT(e){e.Vu=void 0}async function RT(e){e.Au.forEach(((t,n)=>{ET(e,t)}))}async function MT(e,t){IT(e),CT(e)?(e.bu.Iu(t),kT(e)):e.bu.set("Unknown")}async function OT(e,t,n){if(e.bu.set("Online"),t instanceof Uw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){i_("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await LT(e,n)}else if(t instanceof jw?e.Vu.Ht(t):t instanceof Fw?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(I_.min()))try{const t=await Kx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Au.get(r);s&&e.Au.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(ly.EMPTY_BYTE_STRING,r.snapshotVersion)),ST(e,t);const s=new wx(r.target,t,n,r.sequenceNumber);ET(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){i_("RemoteStore","Failed to raise snapshot:",t),await LT(e,t)}}async function LT(e,t,n){if(!z_(t))throw t;e.vu.add(1),await wT(e),e.bu.set("Offline"),n||(n=()=>Kx(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{i_("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await bT(e)}))}function NT(e,t){return t().catch((n=>LT(e,n,t)))}async function PT(e){const t=d_(e),n=WT(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;DT(t);)try{const e=await Xx(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,jT(t,e)}catch(e){await LT(t,e)}FT(t)&&UT(t)}function DT(e){return AT(e)&&e.Eu.length<10}function jT(e,t){e.Eu.push(t);const n=WT(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function FT(e){return AT(e)&&!WT(e).Uo()&&e.Eu.length>0}function UT(e){WT(e).start()}async function BT(e){WT(e).hu()}async function $T(e){const t=WT(e);for(const n of e.Eu)t.uu(n.mutations)}async function VT(e,t,n){const r=e.Eu.shift(),s=bw.from(r,t,n);await NT(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await PT(e)}async function HT(e,t){t&&WT(e).ou&&await async function(e,t){if(Sw(n=t.code)&&n!==p_.ABORTED){const n=e.Eu.shift();WT(e).Qo(),await NT(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await PT(e)}var n}(e,t),FT(e)&&UT(e)}async function zT(e,t){const n=d_(e);n.asyncQueue.verifyOperationInProgress(),i_("RemoteStore","RemoteStore received new credentials");const r=AT(n);n.vu.add(3),await wT(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await bT(n)}async function qT(e,t){const n=d_(e);t?(n.vu.delete(2),await bT(n)):t||(n.vu.add(2),await wT(n),n.bu.set("Unknown"))}function GT(e){return e.Su||(e.Su=function(e,t,n){const r=d_(e);return r.fu(),new mT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:RT.bind(null,e),ao:MT.bind(null,e),nu:OT.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),CT(e)?kT(e):e.bu.set("Unknown")):(await e.Su.stop(),IT(e))}))),e.Su}function WT(e){return e.Du||(e.Du=function(e,t,n){const r=d_(e);return r.fu(),new gT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:BT.bind(null,e),ao:HT.bind(null,e),au:$T.bind(null,e),cu:VT.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await PT(e)):(await e.Du.stop(),e.Eu.length>0&&(i_("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class KT{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new m_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,s){const o=Date.now()+n,i=new KT(e,t,o,r,s);return i.start(n),i}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new f_(p_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YT(e,t){if(a_("AsyncQueue",`${t}: ${e}`),z_(e))return new f_(p_.UNAVAILABLE,`${t}: ${e}`);throw e}class XT{constructor(e){this.comparator=e?(t,n)=>e(t,n)||N_.comparator(t.key,n.key):(e,t)=>N_.comparator(e.key,t.key),this.keyedMap=Ob(),this.sortedSet=new ty(this.comparator)}static emptySet(e){return new XT(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof XT))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new XT;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class QT{constructor(){this.Cu=new ty(N_.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):u_():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ZT{constructor(e,t,n,r,s,o,i,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=i,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new ZT(e,t,XT.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class JT{constructor(){this.Nu=void 0,this.listeners=[]}}class eE{constructor(){this.queries=new Ab((e=>xb(e)),wb),this.onlineState="Unknown",this.ku=new Set}}async function tE(e,t){const n=d_(e),r=t.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new JT),s)try{o.Nu=await n.onListen(r)}catch(e){const n=YT(e,`Initialization of query '${Tb(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&oE(n)}async function nE(e,t){const n=d_(e),r=t.query;let s=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),s=0===o.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function rE(e,t){const n=d_(e);let r=!1;for(const e of t){const t=e.query,s=n.queries.get(t);if(s){for(const t of s.listeners)t.$u(e)&&(r=!0);s.Nu=e}}r&&oE(n)}function sE(e,t,n){const r=d_(e),s=r.queries.get(t);if(s)for(const e of s.listeners)e.onError(n);r.queries.delete(t)}function oE(e){e.ku.forEach((e=>{e.next()}))}class iE{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ZT(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=ZT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class aE{constructor(e){this.key=e}}class lE{constructor(e){this.key=e}}class cE{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ub(),this.mutatedKeys=Ub(),this.tc=kb(e),this.ec=new XT(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new QT,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,i=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Eb(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.rc(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(i=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(i=!0)),p&&(u?(o=o.add(u),s=d?s.add(e):s.delete(e)):(o=o.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:i,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return u_()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],i=0===this.Zu.size&&this.current?1:0,a=i!==this.Xu;return this.Xu=i,0!==s.length||a?{snapshot:new ZT(this.query,e.ec,r,s,e.mutatedKeys,0===i,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new QT,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ub(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new lE(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new aE(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Ub();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ZT.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class uE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hE{constructor(e){this.key=e,this.fc=!1}}class dE{constructor(e,t,n,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ab((e=>xb(e)),wb),this._c=new Map,this.mc=new Set,this.gc=new ty(N_.comparator),this.yc=new Map,this.Ic=new Nx,this.Tc={},this.Ec=new Map,this.Ac=Ax.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function pE(e,t){const n=ME(e);let r,s;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.lc();else{const e=await Qx(n.localStore,_b(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,s=await fE(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&xT(n.remoteStore,e)}return s}async function fE(e,t,n,r,s){e.Rc=(t,n,r)=>async function(e,t,n,r){let s=t.view.sc(n);s.zi&&(s=await Jx(e.localStore,t.query,!1).then((({documents:e})=>t.view.sc(e,s))));const o=r&&r.targetChanges.get(t.targetId),i=t.view.applyChanges(s,e.isPrimaryClient,o);return SE(e,t.targetId,i.cc),i.snapshot}(e,t,n,r);const o=await Jx(e.localStore,t,!0),i=new cE(t,o.ir),a=i.sc(o.documents),l=Dw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=i.applyChanges(a,e.isPrimaryClient,l);SE(e,n,c.cc);const u=new uE(t,n,i);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function mE(e,t){const n=d_(e),r=n.wc.get(t),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter((e=>!wb(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zx(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),TT(n.remoteStore,r.targetId),TE(n,r.targetId)})).catch(V_)):(TE(n,r.targetId),await Zx(n.localStore,r.targetId,!0))}async function gE(e,t){const n=d_(e);try{const e=await function(e,t){const n=d_(e),r=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const i=[];t.targetChanges.forEach(((o,a)=>{const l=s.get(a);if(!l)return;i.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(ly.EMPTY_BYTE_STRING,I_.min()).withLastLimboFreeSnapshotVersion(I_.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),s=s.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&i.push(n.Bs.updateTargetData(e,c))}));let a=Rb(),l=Ub();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),i.push(Yx(e,o,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(I_.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));i.push(t)}return H_.waitFor(i).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=s,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(h_(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?h_(r.fc):e.removedDocuments.size>0&&(h_(r.fc),r.fc=!1))})),await AE(n,e,t)}catch(e){await V_(e)}}function vE(e,t,n){const r=d_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const s=r.view.Mu(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=d_(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.Mu(t)&&(r=!0)})),r&&oE(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _E(e,t,n){const r=d_(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.yc.get(t),o=s&&s.key;if(o){let e=new ty(N_.comparator);e=e.insert(o,Dy.newNoDocument(o,I_.min()));const n=Ub().add(o),s=new Pw(I_.min(),new Map,new ty(k_),e,n);await gE(r,s),r.gc=r.gc.remove(o),r.yc.delete(t),CE(r)}else await Zx(r.localStore,t,!1).then((()=>TE(r,t,n))).catch(V_)}async function yE(e,t){const n=d_(e),r=t.batch.batchId;try{const e=await function(e,t){const n=d_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,o=s.keys();let i=H_.resolve();return o.forEach((e=>{i=i.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);h_(null!==o),t.version.compareTo(o)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),i.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ub();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);xE(n,r,null),wE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await AE(n,e)}catch(e){await V_(e)}}async function bE(e,t,n){const r=d_(e);try{const e=await function(e,t){const n=d_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(h_(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);xE(r,t,n),wE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await AE(r,e)}catch(n){await V_(n)}}function wE(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function xE(e,t,n){const r=d_(e);let s=r.Tc[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Tc[r.currentUser.toKey()]=s}}function TE(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||EE(e,t)}))}function EE(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(TT(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),CE(e))}function SE(e,t,n){for(const r of n)r instanceof aE?(e.Ic.addReference(r.key,t),kE(e,r)):r instanceof lE?(i_("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||EE(e,r.key)):u_()}function kE(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(i_("SyncEngine","New document in limbo: "+n),e.mc.add(r),CE(e))}function CE(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new N_(M_.fromString(t)),r=e.Ac.next();e.yc.set(r,new hE(n)),e.gc=e.gc.insert(n,r),xT(e.remoteStore,new wx(_b(db(n.path)),r,"TargetPurposeLimboResolution",q_.ct))}}async function AE(e,t,n){const r=d_(e),s=[],o=[],i=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{i.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);const t=Hx.Li(a.targetId,e);o.push(t)}})))})),await Promise.all(i),r.dc.nu(s),await async function(e,t){const n=d_(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>H_.forEach(t,(t=>H_.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>H_.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!z_(e))throw e;i_("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ji.get(t),r=e.snapshotVersion,s=e.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(t,s)}}}(r.localStore,o))}async function IE(e,t){const n=d_(e);if(!n.currentUser.isEqual(t)){i_("SyncEngine","User change. New user:",t.toKey());const e=await Wx(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new f_(p_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await AE(n,e.er)}}function RE(e,t){const n=d_(e),r=n.yc.get(t);if(r&&r.fc)return Ub().add(r.key);{let e=Ub();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function ME(e){const t=d_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_E.bind(null,t),t.dc.nu=rE.bind(null,t.eventManager),t.dc.Pc=sE.bind(null,t.eventManager),t}function OE(e){const t=d_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bE.bind(null,t),t}class LE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=dT(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Gx(this.persistence,new zx,e.initialUser,this.serializer)}createPersistence(e){return new Bx(Vx.zs,this.serializer)}createSharedClientState(e){return new nT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class NE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=IE.bind(null,this.syncEngine),await qT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new eE}createDatastore(e){const t=dT(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new uT(r));var r;return function(e,t,n,r){return new vT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>vE(this.syncEngine,e,0),o=sT.D()?new sT:new rT,new yT(t,n,r,s,o);var t,n,r,s,o}createSyncEngine(e,t){return function(e,t,n,r,s,o,i){const a=new dE(e,t,n,r,s,o);return i&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=d_(e);i_("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await wT(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class PE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):a_("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class DE{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=n_.UNAUTHENTICATED,this.clientId=S_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{i_("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(i_("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new f_(p_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new m_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=YT(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jE(e,t){e.asyncQueue.verifyOperationInProgress(),i_("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Wx(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function FE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await BE(e);i_("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>zT(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>zT(t.remoteStore,n))),e._onlineComponents=t}function UE(e){return"FirebaseError"===e.name?e.code===p_.FAILED_PRECONDITION||e.code===p_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function BE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){i_("FirestoreClient","Using user provided OfflineComponentProvider");try{await jE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!UE(n))throw n;l_("Error using user provided cache. Falling back to memory cache: "+n),await jE(e,new LE)}}else i_("FirestoreClient","Using default OfflineComponentProvider"),await jE(e,new LE);return e._offlineComponents}async function $E(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(i_("FirestoreClient","Using user provided OnlineComponentProvider"),await FE(e,e._uninitializedComponentsProvider._online)):(i_("FirestoreClient","Using default OnlineComponentProvider"),await FE(e,new NE))),e._onlineComponents}function VE(e){return $E(e).then((e=>e.syncEngine))}async function HE(e){const t=await $E(e),n=t.eventManager;return n.onListen=pE.bind(null,t.syncEngine),n.onUnlisten=mE.bind(null,t.syncEngine),n}function zE(e,t,n={}){const r=new m_;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const o=new PE({next:n=>{t.enqueueAndForget((()=>nE(e,i))),n.fromCache&&"server"===r.source?s.reject(new f_(p_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),i=new iE(n,o,{includeMetadataChanges:!0,Ku:!0});return tE(e,i)}(await HE(e),e.asyncQueue,t,n,r))),r.promise}function qE(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const GE=new Map;function WE(e,t,n){if(!n)throw new f_(p_.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function KE(e){if(!N_.isDocumentKey(e))throw new f_(p_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function YE(e){if(N_.isDocumentKey(e))throw new f_(p_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function XE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":u_()}function QE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new f_(p_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=XE(e);throw new f_(p_.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class ZE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new f_(p_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new f_(p_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new f_(p_.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new f_(p_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new f_(p_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new f_(p_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class JE{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new f_(p_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new f_(p_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new v_;switch(e.type){case"firstParty":return new w_(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new f_(p_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=GE.get(e);t&&(i_("ComponentProvider","Removing Datastore"),GE.delete(e),t.terminate())}(this),Promise.resolve()}}class eS{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nS(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new eS(this.firestore,e,this._key)}}class tS{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new tS(this.firestore,e,this._query)}}class nS extends tS{constructor(e,t,n){super(e,t,db(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new eS(this.firestore,null,new N_(e))}withConverter(e){return new nS(this.firestore,e,this._path)}}function rS(e,t,...n){if(e=qa(e),WE("collection","path",t),e instanceof JE){const r=M_.fromString(t,...n);return YE(r),new nS(e,null,r)}{if(!(e instanceof eS||e instanceof nS))throw new f_(p_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(M_.fromString(t,...n));return YE(r),new nS(e.firestore,null,r)}}class sS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new pT(this,"async_queue_retry"),this.Xc=()=>{const e=hT();e&&i_("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=hT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=hT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new m_;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!z_(e))throw e;i_("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw a_("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=KT.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&u_()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class oS extends JE{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new sS,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aS(this),this._firestoreClient.terminate()}}function iS(e){return e._firestoreClient||aS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function aS(e){var t,n,r;const s=e._freezeSettings(),o=function(e,t,n,r){return new gy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new DE(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=s.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class lS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lS(ly.fromBase64String(e))}catch(e){throw new f_(p_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new lS(ly.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cS{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new f_(p_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new L_(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uS{constructor(e){this._methodName=e}}class hS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new f_(p_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new f_(p_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return k_(this._lat,e._lat)||k_(this._long,e._long)}}const dS=/^__.*__$/;class pS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new pw(e,this.data,this.fieldMask,t,this.fieldTransforms):new dw(e,this.data,t,this.fieldTransforms)}}function fS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw u_()}}class mS{constructor(e,t,n,r,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return AS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(fS(this.ca)&&dS.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class gS{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||dT(e)}ya(e,t,n,r=!1){return new mS({ca:e,methodName:t,ga:n,path:L_.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vS(e){const t=e._freezeSettings(),n=dT(e._databaseId);return new gS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _S(e,t,n,r,s,o={}){const i=e.ya(o.merge||o.mergeFields?2:0,t,n,s);ES("Data must be an object, but it was:",i,r);const a=xS(r,i);let l,c;if(o.merge)l=new iy(i.fieldMask),c=i.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const s=SS(t,r,n);if(!i.contains(s))throw new f_(p_.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);IS(e,s)||e.push(s)}l=new iy(e),c=i.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=i.fieldTransforms;return new pS(new Ny(a),l,c)}class yS extends uS{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yS}}function bS(e,t,n,r=!1){return wS(n,e.ya(r?4:3,t))}function wS(e,t){if(TS(e=qa(e)))return ES("Unsupported field value:",t,e),xS(e,t);if(e instanceof uS)return function(e,t){if(!fS(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=wS(s,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=qa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=A_.fromDate(e);return{timestampValue:Yw(t.serializer,n)}}if(e instanceof A_){const n=new A_(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yw(t.serializer,n)}}if(e instanceof hS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lS)return{bytesValue:Xw(t.serializer,e._byteString)};if(e instanceof eS){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Jw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${XE(e)}`)}(e,t)}function xS(e,t){const n={};return ey(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):J_(e,((e,r)=>{const s=wS(r,t.ha(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function TS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof A_||e instanceof hS||e instanceof lS||e instanceof eS||e instanceof uS)}function ES(e,t,n){if(!TS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=XE(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function SS(e,t,n){if((t=qa(t))instanceof cS)return t._internalPath;if("string"==typeof t)return CS(e,t);throw AS("Field path arguments must be of type string or ",e,!1,void 0,n)}const kS=new RegExp("[~\\*/\\[\\]]");function CS(e,t,n){if(t.search(kS)>=0)throw AS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cS(...t.split("."))._internalPath}catch(r){throw AS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function AS(e,t,n,r,s){const o=r&&!r.isEmpty(),i=void 0!==s;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new f_(p_.INVALID_ARGUMENT,a+e+l)}function IS(e,t){return e.some((e=>e.isEqual(t)))}class RS{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new eS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new MS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class MS extends RS{data(){return super.data()}}function OS(e,t){return"string"==typeof t?CS(e,t):t instanceof cS?t._internalPath:t._delegate._internalPath}function LS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new f_(p_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NS{}class PS extends NS{}class DS extends PS{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new DS(e,t,n)}_apply(e){const t=this._parse(e);return BS(e._query,t),new tS(e.firestore,e.converter,yb(e._query,t))}_parse(e){const t=vS(e.firestore),n=function(e,t,n,r,s,o,i){let a;if(s.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new f_(p_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){US(i,o);const t=[];for(const n of i)t.push(FS(r,e,n));a={arrayValue:{values:t}}}else a=FS(r,e,i)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||US(i,o),a=bS(n,"where",i,"in"===o||"not-in"===o);return Hy.create(s,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class jS extends NS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jS(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:zy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)BS(n,e),n=yb(n,e)}(e._query,t),new tS(e.firestore,e.converter,yb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function FS(e,t,n){if("string"==typeof(n=qa(n))){if(""===n)throw new f_(p_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gb(t)&&-1!==n.indexOf("/"))throw new f_(p_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(M_.fromString(n));if(!N_.isDocumentKey(r))throw new f_(p_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ky(e,new N_(r))}if(n instanceof eS)return ky(e,n._key);throw new f_(p_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XE(n)}.`)}function US(e,t){if(!Array.isArray(e)||0===e.length)throw new f_(p_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BS(e,t){if(t.isInequality()){const n=mb(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new f_(p_.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const s=fb(e);null!==s&&$S(e,r,s)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new f_(p_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new f_(p_.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function $S(e,t,n){if(!n.isEqual(t))throw new f_(p_.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class VS{convertValue(e,t="none"){switch(yy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw u_()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return J_(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new hS(hy(e.latitude),hy(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=fy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(my(e));default:return null}}convertTimestamp(e){const t=uy(e);return new A_(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=M_.fromString(e);h_(bx(n));const r=new vy(n.get(1),n.get(3)),s=new N_(n.popFirst(5));return r.isEqual(t)||a_(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function HS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class zS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qS extends RS{constructor(e,t,n,r,s,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new GS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(OS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class GS extends qS{data(e={}){return super.data(e)}}class WS{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new GS(this._firestore,this._userDataWriter,n.key,n,new zS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new f_(p_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new GS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new zS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new GS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,o=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:KS(t.type),doc:r,oldIndex:s,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return u_()}}class YS extends VS{constructor(e){super(),this.firestore=e}convertBytes(e){return new lS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new eS(this.firestore,null,t)}}function XS(e,t){const n=QE(e.firestore,oS),r=function(e,t,...n){if(e=qa(e),1===arguments.length&&(t=S_.A()),WE("doc","path",t),e instanceof JE){const r=M_.fromString(t,...n);return KE(r),new eS(e,null,new N_(r))}{if(!(e instanceof eS||e instanceof nS))throw new f_(p_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(M_.fromString(t,...n));return KE(r),new eS(e.firestore,e instanceof nS?e.converter:null,new N_(r))}}(e),s=HS(e.converter,t);return QS(n,[_S(vS(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,sw.exists(!1))]).then((()=>r))}function QS(e,t){return function(e,t){const n=new m_;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=OE(e);try{const e=await function(e,t){const n=d_(e),r=A_.now(),s=t.reduce(((e,t)=>e.add(t.key)),Ub());let o,i;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Rb(),l=Ub();return n.Zi.getEntries(e,s).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((s=>{o=s;const i=[];for(const e of t){const t=uw(e,o.get(e.key).overlayedDocument);null!=t&&i.push(new pw(e.key,t,Py(t.value.mapValue),sw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)})).next((t=>{i=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:i.batchId,changes:Lb(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new ty(k_)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await AE(r,e.changes),await PT(r.remoteStore)}catch(e){const t=YT(e,"Failed to persist write");n.reject(t)}}(await VE(e),t,n))),n.promise}(iS(e),t)}!function(e,t=!0){!function(e){r_=e}(Nl),Rl(new Ga("firestore",((e,{instanceIdentifier:n,options:r})=>{const s=e.getProvider("app").getImmediate(),o=new oS(new y_(e.getProvider("auth-internal")),new T_(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new f_(p_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vy(e.options.projectId,t)}(s,n),s);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),jl(t_,"3.13.0",e),jl(t_,"3.13.0","esm2017")}();const ZS="firebasestorage.googleapis.com",JS="storageBucket";class ek extends Ra{constructor(e,t,n=0){super(rk(e),`Firebase Storage: ${t} (${rk(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ek.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var tk,nk;function rk(e){return"storage/"+e}function sk(){return new ek(tk.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ok(){return new ek(tk.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ik(){return new ek(tk.CANCELED,"User canceled the upload/download.")}function ak(e){return new ek(tk.INVALID_ARGUMENT,e)}function lk(){return new ek(tk.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(tk||(tk={}));class ck{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ck.makeFromUrl(e,t)}catch(t){return new ck(e,"")}if(""===n.path)return n;throw r=e,new ek(tk.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const i=t.replace(/[.]/g,"\\."),a=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${i}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===ZS?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let t=0;t<a.length;t++){const r=a[t],s=r.regex.exec(e);if(s){const e=s[r.indices.bucket];let t=s[r.indices.path];t||(t=""),n=new ck(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new ek(tk.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class uk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function hk(e,t,n,r){if(r<t)throw ak(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw ak(`Invalid value for '${e}'. Expected ${n} or less.`)}function dk(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function pk(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(nk||(nk={}));class fk{constructor(e,t,n,r,s,o,i,a,l,c,u,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=i,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new mk(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===nk.NO_ERROR,s=n.getStatus();if(!t||pk(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===nk.ABORT;return void e(!1,new mk(!1,null,t))}const o=-1!==this.successCodes_.indexOf(s);e(!0,new mk(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(e){r(e)}else if(null!==s){const e=sk();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?lk():ik())}else{r(ok())}};this.canceled_?t(0,new mk(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return 2===a}let c=!1;function u(...e){c||(c=!0,t.apply(null,e))}function h(t){s=setTimeout((()=>{s=null,e(p,l())}),t)}function d(){o&&clearTimeout(o)}function p(e,...t){if(c)return void d();if(e)return d(),void u.call(null,e,...t);if(l()||i)return d(),void u.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let f=!1;function m(e){f||(f=!0,d(),c||(null!==s?(e||(a=2),clearTimeout(s),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{i=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mk{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function gk(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class vk{constructor(e,t){this._service=e,this._location=t instanceof ck?t:ck.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vk(e,t)}get root(){const e=new ck(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gk(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ck(this._location.bucket,e);return new vk(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new ek(tk.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function _k(e,t){const n=null==t?void 0:t[JS];return null==n?null:ck.makeFromBucketSpec(n,e)}class yk{constructor(e,t,n,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=ZS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ck.makeFromBucketSpec(r,this._host):_k(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ck.makeFromBucketSpec(this._url,e):this._bucket=_k(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vk(this,e)}_makeRequest(e,t,n,r,s=!0){if(this._deleted)return new uk(lk());{const o=function(e,t,n,r,s,o,i=!0){const a=dk(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new fk(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,i)}(e,this._appId,n,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const bk="@firebase/storage",wk="0.11.2",xk="storage";function Tk(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new yk(n,r,s,t,Nl)}Rl(new Ga(xk,Tk,"PUBLIC").setMultipleInstances(!0)),jl(bk,wk,""),jl(bk,wk,"esm2017");Pl({apiKey:"AIzaSyD5Y-MGDAmflMRnRgZtrhmPmXirSriS-Ug",authDomain:"test-88585.firebaseapp.com",databaseURL:"https://test-88585-default-rtdb.firebaseio.com/",projectId:"test-88585",storageBucket:"test-88585.appspot.com",messagingSenderId:"491383180767",appId:"1:491383180767:web:3882effa0feae3fd84086a"});const Ek=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Ml("object"==typeof e?e:Dl(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ta("firestore");e&&function(e,t,n,r={}){var s;const o=(e=QE(e,JE))._getSettings(),i=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==i&&l_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=n_.MOCK_USER;else{t=ka(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new f_(p_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new n_(o)}e._authCredentials=new __(new g_(t,n))}}(r,...e)}return r}(),Sk=(function(e=Dl(),t){const n=Ml(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Ta("database");e&&function(e,t,n,r={}){e=qa(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&mc("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&mc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Lc(Lc.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:ka(r.mockUserToken,e.app.options.projectId);o=new Lc(t)}!function(e,t,n,r){e.repoInfo_=new Uc(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(s,t,n,o)}(n,...e)}}(),function(e=Dl(),t){const n=Ml(e=qa(e),xk).getImmediate({identifier:t}),r=Ta("storage");r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"==typeof s?s:ka(s,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(),"users"),kk="chatRooms",Ck=(new yS("deleteField"),e=>function(e){e=QE(e,tS);const t=QE(e.firestore,oS),n=iS(t),r=new YS(t);return LS(e._query),zE(n,e._query).then((n=>new WS(t,r,e,n)))}(e).then((e=>({data:Ok(e),docs:e.docs})))),Ak=(e,t)=>XS(e,t),Ik=(rS(Ek,Sk),rS(Ek,kk)),Rk=(e,t)=>Ck(function(e,t,...n){let r=[];t instanceof NS&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof jS)).length,n=e.filter((e=>e instanceof DS)).length;if(t>1||t>0&&n>0)throw new f_(p_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}(Ik,function(e,t,n){const r=t,s=OS("where",e);return DS._create(s,r,n)}(Sk,"==",[e,t]))),Mk=e=>({...e.data(),id:e.id}),Ok=e=>{const t=[];return e.forEach((e=>{t.push(Mk(e))})),t},Lk=(e,t)=>String(e).padStart(t,"0"),Nk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return;const n=e.seconds?new Date(1e3*e.seconds):e;if("HH:mm"===t)return"".concat(Lk(n.getHours(),2),":").concat(Lk(n.getMinutes(),2));if("DD MMMM YYYY"===t){const e={month:"long",year:"numeric",day:"numeric"};return"".concat(new Intl.DateTimeFormat("en-GB",e).format(n))}if("DD/MM/YY"===t){const e={month:"numeric",year:"numeric",day:"numeric"};return"".concat(new Intl.DateTimeFormat("en-GB",e).format(n))}if("DD MMMM, HH:mm"===t){const e={month:"long",day:"numeric"};return"".concat(new Intl.DateTimeFormat("en-GB",e).format(n),", ").concat(Lk(n.getHours(),2),":").concat(Lk(n.getMinutes(),2))}return n},Pk=(e,t)=>{const n=(r=e,s=new Date,r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()&&r.getDate()===s.getDate()?"HH:mm":"DD/MM/YY");var r,s;const o=Nk(t,n);return"HH:mm"===n?"Today, ".concat(o):o};var Dk=function(e,t){return Dk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Dk(e,t)};function jk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Dk(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Fk(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))}function Uk(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=i.trys,(s=s.length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}Object.create;function Bk(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $k(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i}function Vk(e,t,n){if(n||2===arguments.length)for(var r,s=0,o=t.length;s<o;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function Hk(e){return this instanceof Hk?(this.v=e,this):new Hk(e)}function zk(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),o=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof Hk?Promise.resolve(e.value.v).then(l,c):u(o[0][2],e)}(s[e](t))}catch(e){u(o[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function qk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Bk(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,s,(t=e[n](t)).done,t.value)}))}}}Object.create;function Gk(e){return"function"==typeof e}function Wk(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Kk=Wk((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Yk(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Xk=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var i=Bk(o),a=i.next();!a.done;a=i.next()){a.value.remove(this)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(Gk(l))try{l()}catch(e){s=e instanceof Kk?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=Bk(c),h=u.next();!h.done;h=u.next()){var d=h.value;try{Jk(d)}catch(e){s=null!=s?s:[],e instanceof Kk?s=Vk(Vk([],$k(s)),$k(e.errors)):s.push(e)}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(s)throw new Kk(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Jk(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Yk(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Yk(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Qk=Xk.EMPTY;function Zk(e){return e instanceof Xk||e&&"closed"in e&&Gk(e.remove)&&Gk(e.add)&&Gk(e.unsubscribe)}function Jk(e){Gk(e)?e():e.unsubscribe()}var eC={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tC={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=tC.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,Vk([e,t],$k(n))):setTimeout.apply(void 0,Vk([e,t],$k(n)))},clearTimeout:function(e){var t=tC.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function nC(e){tC.setTimeout((function(){var t=eC.onUnhandledError;if(!t)throw e;t(e)}))}function rC(){}var sC=oC("C",void 0,void 0);function oC(e,t,n){return{kind:e,value:t,error:n}}var iC=null;function aC(e){if(eC.useDeprecatedSynchronousErrorHandling){var t=!iC;if(t&&(iC={errorThrown:!1,error:null}),e(),t){var n=iC,r=n.errorThrown,s=n.error;if(iC=null,r)throw s}}else e()}var lC=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Zk(t)&&t.add(n)):n.destination=mC,n}return jk(t,e),t.create=function(e,t,n){return new dC(e,t,n)},t.prototype.next=function(e){this.isStopped?fC(function(e){return oC("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?fC(function(e){return oC("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?fC(sC,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Xk),cC=Function.prototype.bind;function uC(e,t){return cC.call(e,t)}var hC=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){pC(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){pC(e)}else pC(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){pC(e)}},e}(),dC=function(e){function t(t,n,r){var s,o,i=e.call(this)||this;Gk(t)||!t?s={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:i&&eC.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},s={next:t.next&&uC(t.next,o),error:t.error&&uC(t.error,o),complete:t.complete&&uC(t.complete,o)}):s=t;return i.destination=new hC(s),i}return jk(t,e),t}(lC);function pC(e){var t;eC.useDeprecatedSynchronousErrorHandling?(t=e,eC.useDeprecatedSynchronousErrorHandling&&iC&&(iC.errorThrown=!0,iC.error=t)):nC(e)}function fC(e,t){var n=eC.onStoppedNotification;n&&tC.setTimeout((function(){return n(e,t)}))}var mC={closed:!0,next:rC,error:function(e){throw e},complete:rC},gC="function"==typeof Symbol&&Symbol.observable||"@@observable";function vC(e){return e}function _C(e){return 0===e.length?vC:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var yC=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,s=this,o=(r=e)&&r instanceof lC||function(e){return e&&Gk(e.next)&&Gk(e.error)&&Gk(e.complete)}(r)&&Zk(r)?e:new dC(e,t,n);return aC((function(){var e=s,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?s._subscribe(o):s._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=bC(t))((function(t,r){var s=new dC({next:function(t){try{e(t)}catch(e){r(e),s.unsubscribe()}},error:r,complete:t});n.subscribe(s)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[gC]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _C(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=bC(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function bC(e){var t;return null!==(t=null!=e?e:eC.Promise)&&void 0!==t?t:Promise}var wC=Wk((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),xC=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return jk(t,e),t.prototype.lift=function(e){var t=new TC(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new wC},t.prototype.next=function(e){var t=this;aC((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=Bk(t.currentObservers),o=s.next();!o.done;o=s.next()){o.value.next(e)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;aC((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;aC((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,s=n.isStopped,o=n.observers;return r||s?Qk:(this.currentObservers=null,o.push(e),new Xk((function(){t.currentObservers=null,Yk(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,s=t.isStopped;n?e.error(r):s&&e.complete()},t.prototype.asObservable=function(){var e=new yC;return e.source=this,e},t.create=function(e,t){return new TC(e,t)},t}(yC),TC=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return jk(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Qk},t}(xC),EC=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function SC(e){return Gk(null==e?void 0:e.then)}function kC(e){return Gk(e[gC])}function CC(e){return Symbol.asyncIterator&&Gk(null==e?void 0:e[Symbol.asyncIterator])}function AC(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var IC="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function RC(e){return Gk(null==e?void 0:e[IC])}function MC(e){return zk(this,arguments,(function(){var t,n,r;return Uk(this,(function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Hk(t.read())];case 3:return n=s.sent(),r=n.value,n.done?[4,Hk(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Hk(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function LC(e){return Gk(null==e?void 0:e.getReader)}function NC(e){if(e instanceof yC)return e;if(null!=e){if(kC(e))return r=e,new yC((function(e){var t=r[gC]();if(Gk(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(EC(e))return n=e,new yC((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(SC(e))return function(e){return new yC((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,nC)}))}(e);if(CC(e))return PC(e);if(RC(e))return t=e,new yC((function(e){var n,r;try{for(var s=Bk(t),o=s.next();!o.done;o=s.next()){var i=o.value;if(e.next(i),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}e.complete()}));if(LC(e))return PC(MC(e))}var t,n,r;throw AC(e)}function PC(e){return new yC((function(t){(function(e,t){var n,r,s,o;return Fk(this,void 0,void 0,(function(){var i,a;return Uk(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=qk(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),s={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function DC(e,t,n,r,s){void 0===r&&(r=0),void 0===s&&(s=!1);var o=t.schedule((function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!s)return o}function jC(e){return function(t){if(function(e){return Gk(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function FC(e,t,n,r,s){return new UC(e,t,n,r,s)}var UC=function(e){function t(t,n,r,s,o,i){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=i,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=s?function(e){try{s(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return jk(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(lC);function BC(e,t){return void 0===t&&(t=0),jC((function(n,r){n.subscribe(FC(r,(function(n){return DC(r,e,(function(){return r.next(n)}),t)}),(function(){return DC(r,e,(function(){return r.complete()}),t)}),(function(n){return DC(r,e,(function(){return r.error(n)}),t)})))}))}function $C(e,t){return void 0===t&&(t=0),jC((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function VC(e,t){if(!e)throw new Error("Iterable cannot be null");return new yC((function(n){DC(n,t,(function(){var r=e[Symbol.asyncIterator]();DC(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function HC(e,t){if(null!=e){if(kC(e))return function(e,t){return NC(e).pipe($C(t),BC(t))}(e,t);if(EC(e))return function(e,t){return new yC((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(SC(e))return function(e,t){return NC(e).pipe($C(t),BC(t))}(e,t);if(CC(e))return VC(e,t);if(RC(e))return function(e,t){return new yC((function(n){var r;return DC(n,t,(function(){r=e[IC](),DC(n,t,(function(){var e,t,s;try{t=(e=r.next()).value,s=e.done}catch(e){return void n.error(e)}s?n.complete():n.next(t)}),0,!0)})),function(){return Gk(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(LC(e))return function(e,t){return VC(MC(e),t)}(e,t)}throw AC(e)}function zC(e,t){return t?HC(e,t):NC(e)}var qC=function(e){function t(t,n){return e.call(this)||this}return jk(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Xk),GC={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=GC.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,Vk([e,t],$k(n))):setInterval.apply(void 0,Vk([e,t],$k(n)))},clearInterval:function(e){var t=GC.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},WC=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return jk(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),GC.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&GC.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Yk(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(qC),KC={now:function(){return(KC.delegate||Date).now()},delegate:void 0},YC=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=KC.now,e}(),XC=function(e){function t(t,n){void 0===n&&(n=YC.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return jk(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(YC),QC=new XC(WC),ZC=QC;function JC(e){return e&&Gk(e.schedule)}function eA(e){return e[e.length-1]}function tA(e){return JC(eA(e))?e.pop():void 0}function nA(e,t){return jC((function(n,r){var s=0;n.subscribe(FC(r,(function(n){r.next(e.call(t,n,s++))})))}))}function rA(e,t,n){return void 0===n&&(n=1/0),Gk(t)?rA((function(n,r){return nA((function(e,s){return t(n,e,r,s)}))(NC(e(n,r)))}),n):("number"==typeof t&&(n=t),jC((function(t,r){return function(e,t,n,r,s,o,i,a){var l=[],c=0,u=0,h=!1,d=function(){!h||l.length||c||t.complete()},p=function(e){return c<r?f(e):l.push(e)},f=function(e){o&&t.next(e),c++;var a=!1;NC(n(e,u++)).subscribe(FC(t,(function(e){null==s||s(e),o?p(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{c--;for(var e=function(){var e=l.shift();i?DC(t,i,(function(){return f(e)})):f(e)};l.length&&c<r;)e();d()}catch(e){t.error(e)}})))};return e.subscribe(FC(t,p,(function(){h=!0,d()}))),function(){null==a||a()}}(t,r,e,n)})))}function sA(){return void 0===(e=1)&&(e=1/0),rA(vC,e);var e}var oA=new yC((function(e){return e.complete()}));function iA(e){return e<=0?function(){return oA}:jC((function(t,n){var r=0;t.subscribe(FC(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function aA(e,t){return t?function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return sA()(zC(e,tA(e)))}(t.pipe(iA(1),jC((function(e,t){e.subscribe(FC(t,rC))}))),n.pipe(aA(e)))}:rA((function(t,n){return NC(e(t,n)).pipe(iA(1),function(e){return nA((function(){return e}))}(t))}))}function lA(e,t,n){void 0===e&&(e=0),void 0===n&&(n=ZC);var r=-1;return null!=t&&(JC(t)?n=t:r=t),new yC((function(t){var s,o=(s=e)instanceof Date&&!isNaN(s)?+e-n.now():e;o<0&&(o=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=r?this.schedule(void 0,r):t.complete())}),o)}))}function cA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class uA{constructor(){cA(this,"_processMessageUpdate_room",(()=>{})),cA(this,"onMessageUpdate",null),cA(this,"onMessageDelete",null),cA(this,"onMessageRoom",null),cA(this,"onMessageSend",null),cA(this,"onLastMessage",null),console.log("RoomEventService::constructor()"),this.onMessageDelete=new xC,this.onMessageUpdate=new xC,this.onMessageSend=new xC,this.onMessageRoom=new xC,this.onLastMessage=new xC}static getInstance(){return uA.instance||(uA.instance=new uA),uA.instance}deleteMessageFile(e,t,n,r){console.log("MessageEventService::deleteMessageFile()",e,t,n,r);const s=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-file-del");Jo({method:"put",url:s,data:{request:{messageId:e,roomId:t,userId:n,file:r}},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>(200!==e.status&&console.log(e.status),e.status))).catch((e=>(console.error(e),-1)))}deleteMessage(e,t,n){console.log("MessageEventService::deleteMessage()",e,t,n);const r=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-del");Jo({method:"put",url:r,data:{request:{messageId:e,roomId:t,date:n}},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status)return void console.log(e.status);const t=this._updateTimeZone(e.data);this._scheduleMessages(t,this.onMessageDelete)})).catch((e=>(console.error(e),-1)))}updateMessageFile(e,t,n,r){console.log("MessageEventService::updateMessageFile()",e,t,n,r);const s=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-file-update");Jo({method:"put",url:s,data:{request:{messageId:e,roomId:t,userId:n,file:r}},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>(200!==e.status&&console.log(e.status),e.status))).catch((e=>(console.error(e),-1)))}uploadMessageFile(e,t,n,r,s,o,i){const a=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-file"),l=1048576;let c=0;const u=new FileReader;function h(){if(c>=r.size)return s({file:r,progress:100}),void o(r.localUrl);const e=r.blob.slice(c,c+l);u.readAsDataURL(e)}u.onload=function(){const e={roomId:t,userId:n,file:r,offset:c,bytes:u.result};Jo({method:"put",url:a,data:{request:e},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{200===e.status?(s({file:r,progress:Math.round(c/r.size*100)}),c+=l,h()):console.log(e.status)})).catch((e=>{console.error(e),i()}))},u.onerror=function(){console.log("MessageEventService::uploadFile()::error"),i()},h()}updateMessageReactions(e,t,n,r,s){console.log("MessageEventService::updateMessageReactions()",e,t,n,r,s);const o=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-react");return Jo({method:"put",url:o,data:{request:{messageId:e,userId:t,reaction:n,action:r,lastUpdated:s}},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status)return console.log(e.status),-1;const t=this._updateTimeZone(e.data);this._scheduleMessages(t,this.onMessageUpdate)})).catch((e=>(console.error(e),-1)))}updateMessageSeen(e,t,n){console.log("MessageEventService::updateMessageSeen()",e,t,n);const r=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-seen");return Jo({method:"put",url:r,data:{request:{messageId:e,userId:t,lastUpdated:n}},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>200!==e.status?(console.log(e.status),-1):e.data)).catch((e=>(console.error(e),-1)))}messagesQuery(e,t,n){return{roomId:e,messagesPerPage:t,startMessage:n}}async updateRoomMessage(e){console.log("MessageEventService::updateRoomMessage()",e);const t=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-update");return Jo({method:"put",url:t,data:{message:e},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status)return console.log(e.status),-1;const t=this._updateTimeZone(e.data);this._scheduleMessages(t,this.onLastMessage),this._scheduleMessages(t,this.onMessageUpdate),this._scheduleMessages(t,this.onMessageSend)})).catch((e=>(console.error(e),-1)))}completeMessagesPHP(e){console.log("MessageEventService::completeMessagesPHP()",e);const t=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-test-comp");Jo({method:"put",url:t,data:{message:e},timeout:1e3,headers:{"Content-Type":"application/json"}}).then((e=>(200!==e.status&&console.log(e.status),e.status))).catch((e=>(console.error(e),-1)))}async completeMessagesAXIOS(e){console.log("MessageEventService::completeMessagesAXIOS()",e);console.log("MessageEventService::Step 01");const t=await Jo({method:"post",url:"https://llama.geoid.ca/api/v1/completion/",data:{prompt:"Question: What are the names of the planets in the solar system? Answer:",max_tokens:1024,stream:!0},headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer 72290464-fdbd-4ce6-aa6c-9ac643740df1"},responseType:"stream"});console.log("MessageEventService::Step 02");const n=t.data;console.log("MessageEventService::Step 03"),n.on("data",(e=>{console.log(e)})),console.log("MessageEventService::Step 04"),n.on("end",(()=>{console.log("stream done")}))}async sendRoomMessage(e){console.log("MessageEventService::sendRoomMessage()",e);const t=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-send");return Jo({method:"put",url:t,data:{message:e},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status)return console.log(e.status),-1;const t=this._updateTimeZone(e.data);this._scheduleMessages(t,this.onLastMessage),this._scheduleMessages(t,this.onMessageRoom),this._scheduleMessages(t,this.onMessageSend)})).catch((e=>(console.error(e),-1)))}async getRoomMessages(e){console.log("MessageEventService::getRoomMessages()",e);const t=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-get");return Jo({method:"put",url:t,data:{request:e},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{200!==e.status&&console.log(e.status);const t=this._updateTimeZone(e.data);this._scheduleMessages(t,this.onMessageRoom)})).catch((e=>{console.error(e)}))}async getRoomsLastMessage(e){console.log("MessageEventService::getRoomsLastMessage()");const t=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-last");return Jo({method:"put",url:t,data:{userId:e},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{200!==e.status&&console.log(e.status);const t=this._updateTimeZone(e.data);this._scheduleMessages(t,this.onLastMessage)})).catch((e=>{console.error(e)}))}_scheduleMessages(e,t){if(0===e.length)return null==t||t.next({msgLen:0,msg:{}}),Xk.EMPTY;return zC(e).pipe(BC(QC)).subscribe((n=>{null==t||t.next({msgLen:e.length,msg:n})}),(e=>{console.error("Gomething wrong occurred:",e)}))}_updateTimeZone(e){const t=60*(new Date).getTimezoneOffset();return e.forEach((e=>{null!=e&&e.timestamp&&(e.timestamp.seconds-=t)})),e}scheduleStart(e,t){return console.log("MessageEventService::scheduleStart()",e),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zC(e,tA(e))}(1).pipe((n=e,jC((function(e,t){NC(n).subscribe(FC(t,(function(){return t.complete()}),rC)),!t.closed&&e.subscribe(t)}))),rA(this._doRequest.bind(this)),function(e,t){void 0===t&&(t=QC);var n=lA(e,t);return aA((function(){return n}))}(t),function(e){var t,n,r=1/0;return null!=e&&("object"==typeof e?(t=e.count,r=void 0===t?1/0:t,n=e.delay):r=e),r<=0?function(){return oA}:jC((function(e,t){var s,o=0,i=function(){if(null==s||s.unsubscribe(),s=null,null!=n){var e="number"==typeof n?lA(n):NC(n(o)),r=FC(t,(function(){r.unsubscribe(),a()}));e.subscribe(r)}else a()},a=function(){var n=!1;s=e.subscribe(FC(t,void 0,(function(){++o<r?s?i():n=!0:t.complete()}))),n&&i()};a()}))}()).subscribe((e=>{this._scheduleMessages(e,this.onLastMessage)}));var n}async _doRequest(){const e=(0,Oo.generateUrl)("/apps/llamavirtualuser/msg-last");try{const t=await Jo({url:e,method:"get",timeout:8e3,headers:{"Content-Type":"application/json"}});return 200!==t.status?(console.log(t.status),[]):t.data}catch(e){return console.error(e),[]}}async _asyncTest(e){console.log("MessageEventService::_asyncTest()",e);const t=oa(2e3,5e3);return new Promise((e=>{setTimeout((()=>{console.log("MessageEventService::_asyncTest()","Test 001",t),e("Test message 001")}),t)}))}}function hA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cA(uA,"instance",null);class dA{constructor(){hA(this,"onLineUsers",null),console.log("MessageEventService::constructor()"),this.onLineUsers=new xC}static getInstance(){return dA.instance||(dA.instance=new dA),dA.instance}updateUserOnlineStatus(e,t){var n;null===(n=this.onLineUsers)||void 0===n||n.next({userId:e,lastChanged:t})}async getUser(e){const t=(0,Oo.generateUrl)("/apps/llamavirtualuser/user-find");return Jo({method:"put",url:t,data:{userId:e},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>200!==e.status?(console.log(e.status),{}):e.data)).catch((e=>(console.error(e),{})))}async getUserAsync(e){const t=(0,Oo.generateUrl)("/apps/llamavirtualuser/user-find"),n={userId:e};try{const e=await Jo({method:"put",url:t,data:n,timeout:8e3,headers:{"Content-Type":"application/json"}});return 200!==e.status?(console.log(e.status),{}):e.data}catch(e){return console.error(e),{}}}}function pA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}hA(dA,"instance",null);class fA{constructor(){pA(this,"onTypingUser",null),pA(this,"onRoomUpdated",null),pA(this,"onRoomDeleted",null),pA(this,"onRoomCreated",null),pA(this,"onRoomProcess",null),console.log("RoomEventService::constructor()"),this.onTypingUser=new xC,this.onRoomUpdated=new xC,this.onRoomDeleted=new xC,this.onRoomCreated=new xC,this.onRoomProcess=new xC}static getInstance(){return fA.instance||(fA.instance=new fA),fA.instance}createRoom(e,t){console.log("RoomEventService::createRoom()",e,t);const n=(0,Oo.generateUrl)("/apps/llamavirtualuser/room-create");Jo({method:"put",url:n,data:{request:{users:e,lastUpdated:t}},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{200!==e.status&&console.log(e.status),this._scheduleRooms(e.data,this.onRoomCreated)})).catch((e=>(console.error(e),-1)))}deleteRoom(e){console.log("RoomEventService::deleteRoomMessages()",e);const t=(0,Oo.generateUrl)("/apps/llamavirtualuser/room-delete");Jo({method:"put",url:t,data:{request:{roomId:e}},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{200!==e.status&&console.log(e.status),this._scheduleRooms(e.data,this.onRoomDeleted)})).catch((e=>(console.error(e),-1)))}async updateRoomSeen(e,t){const n=(0,Oo.generateUrl)("/apps/llamavirtualuser/room-update");return Jo({method:"put",url:n,data:{request:{roomId:e,lastUpdated:t}},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{200!==e.status&&console.log(e.status),this._scheduleRooms(e.data,this.onRoomUpdated)})).catch((e=>{console.error(e)}))}async updateRoomTypingUsers(e,t,n){var r;null===(r=this.onTypingUser)||void 0===r||r.next({roomId:e,userId:t,message:n})}roomsQuery(e,t,n){return{userId:e,roomsPerPage:t,startRoom:n}}async fetchMoreRooms(e){const t=(0,Oo.generateUrl)("/apps/llamavirtualuser/room-find");return Jo({method:"put",url:t,data:{request:e},timeout:8e3,headers:{"Content-Type":"application/json"}}).then((e=>{200!==e.status&&console.log(e.status);const t=this._updateTimeZone(e.data);this._scheduleRooms(t,this.onRoomProcess)})).catch((e=>{console.error(e)}))}_scheduleRooms(e,t){if(0===e.length)return null==t||t.next({roomsLen:0,room:{}}),Xk.EMPTY;return zC(e).pipe(BC(QC)).subscribe((n=>{null==t||t.next({roomsLen:e.length,room:n})}),(e=>{console.error("Gomething wrong occurred:",e)}))}_updateTimeZone(e){const t=60*(new Date).getTimezoneOffset();return e.forEach((e=>{e.lastUpdated.seconds-=t})),e}}pA(fA,"instance",null);function mA(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const gA=()=>{},vA=Object.assign,_A=Object.prototype.hasOwnProperty,yA=(e,t)=>_A.call(e,t),bA=Array.isArray,wA=e=>"[object Map]"===SA(e),xA=e=>"symbol"==typeof e,TA=e=>null!==e&&"object"==typeof e,EA=Object.prototype.toString,SA=e=>EA.call(e),kA=e=>SA(e).slice(8,-1),CA=e=>(e=>"string"==typeof e)(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,AA=(e,t)=>!Object.is(e,t),IA=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let RA;class MA{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&RA&&(this.parent=RA,this.index=(RA.scopes||(RA.scopes=[])).push(this)-1)}run(e){if(this.active){const t=RA;try{return RA=this,e()}finally{RA=t}}}on(){RA=this}off(){RA=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const OA=e=>{const t=new Set(e);return t.w=0,t.n=0,t},LA=e=>(e.w&jA)>0,NA=e=>(e.n&jA)>0,PA=new WeakMap;let DA=0,jA=1;const FA=30;let UA;const BA=Symbol(""),$A=Symbol("");class VA{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=RA){t&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();let e=UA,t=zA;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=UA,UA=this,zA=!0,jA=1<<++DA,DA<=FA?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=jA})(this):HA(this),this.fn()}finally{DA<=FA&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];LA(s)&&!NA(s)?s.delete(e):t[n++]=s,s.w&=~jA,s.n&=~jA}t.length=n}})(this),jA=1<<--DA,UA=this.parent,zA=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){UA===this?this.deferStop=!0:this.active&&(HA(this),this.onStop&&this.onStop(),this.active=!1)}}function HA(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let zA=!0;const qA=[];function GA(){qA.push(zA),zA=!1}function WA(){const e=qA.pop();zA=void 0===e||e}function KA(e,t,n){if(zA&&UA){let t=PA.get(e);t||PA.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=OA()),YA(r)}}function YA(e,t){let n=!1;DA<=FA?NA(e)||(e.n|=jA,n=!LA(e)):n=!e.has(UA),n&&(e.add(UA),UA.deps.push(e))}function XA(e,t,n,r,s,o){const i=PA.get(e);if(!i)return;let a=[];if("clear"===t)a=[...i.values()];else if("length"===n&&bA(e))i.forEach(((e,t)=>{("length"===t||t>=r)&&a.push(e)}));else switch(void 0!==n&&a.push(i.get(n)),t){case"add":bA(e)?CA(n)&&a.push(i.get("length")):(a.push(i.get(BA)),wA(e)&&a.push(i.get($A)));break;case"delete":bA(e)||(a.push(i.get(BA)),wA(e)&&a.push(i.get($A)));break;case"set":wA(e)&&a.push(i.get(BA))}if(1===a.length)a[0]&&QA(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);QA(OA(e))}}function QA(e,t){const n=bA(e)?e:[...e];for(const e of n)e.computed&&ZA(e);for(const e of n)e.computed||ZA(e)}function ZA(e,t){(e!==UA||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const JA=mA("__proto__,__v_isRef,__isVue"),eI=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(xA)),tI=iI(),nI=iI(!1,!0),rI=iI(!0),sI=oI();function oI(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=HI(this);for(let e=0,t=this.length;e<t;e++)KA(n,0,e+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(HI)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){GA();const n=HI(this)[t].apply(this,e);return WA(),n}})),e}function iI(e=!1,t=!1){return function(n,r,s){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&s===(e?t?PI:NI:t?LI:OI).get(n))return n;const o=bA(n);if(!e&&o&&yA(sI,r))return Reflect.get(sI,r,s);const i=Reflect.get(n,r,s);return(xA(r)?eI.has(r):JA(r))?i:(e||KA(n,0,r),t?i:WI(i)?o&&CA(r)?i:i.value:TA(i)?e?jI(i):DI(i):i)}}function aI(e=!1){return function(t,n,r,s){let o=t[n];if(BI(o)&&WI(o)&&!WI(r))return!1;if(!e&&!BI(r)&&($I(r)||(r=HI(r),o=HI(o)),!bA(t)&&WI(o)&&!WI(r)))return o.value=r,!0;const i=bA(t)&&CA(n)?Number(n)<t.length:yA(t,n),a=Reflect.set(t,n,r,s);return t===HI(s)&&(i?AA(r,o)&&XA(t,"set",n,r):XA(t,"add",n,r)),a}}const lI={get:tI,set:aI(),deleteProperty:function(e,t){const n=yA(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&XA(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return xA(t)&&eI.has(t)||KA(e,0,t),n},ownKeys:function(e){return KA(e,0,bA(e)?"length":BA),Reflect.ownKeys(e)}},cI={get:rI,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},uI=vA({},lI,{get:nI,set:aI(!0)}),hI=e=>e,dI=e=>Reflect.getPrototypeOf(e);function pI(e,t,n=!1,r=!1){const s=HI(e=e.__v_raw),o=HI(t);n||(t!==o&&KA(s,0,t),KA(s,0,o));const{has:i}=dI(s),a=r?hI:n?GI:qI;return i.call(s,t)?a(e.get(t)):i.call(s,o)?a(e.get(o)):void(e!==s&&e.get(t))}function fI(e,t=!1){const n=this.__v_raw,r=HI(n),s=HI(e);return t||(e!==s&&KA(r,0,e),KA(r,0,s)),e===s?n.has(e):n.has(e)||n.has(s)}function mI(e,t=!1){return e=e.__v_raw,!t&&KA(HI(e),0,BA),Reflect.get(e,"size",e)}function gI(e){e=HI(e);const t=HI(this);return dI(t).has.call(t,e)||(t.add(e),XA(t,"add",e,e)),this}function vI(e,t){t=HI(t);const n=HI(this),{has:r,get:s}=dI(n);let o=r.call(n,e);o||(e=HI(e),o=r.call(n,e));const i=s.call(n,e);return n.set(e,t),o?AA(t,i)&&XA(n,"set",e,t):XA(n,"add",e,t),this}function _I(e){const t=HI(this),{has:n,get:r}=dI(t);let s=n.call(t,e);s||(e=HI(e),s=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return s&&XA(t,"delete",e,void 0),o}function yI(){const e=HI(this),t=0!==e.size,n=e.clear();return t&&XA(e,"clear",void 0,void 0),n}function bI(e,t){return function(n,r){const s=this,o=s.__v_raw,i=HI(o),a=t?hI:e?GI:qI;return!e&&KA(i,0,BA),o.forEach(((e,t)=>n.call(r,a(e),a(t),s)))}}function wI(e,t,n){return function(...r){const s=this.__v_raw,o=HI(s),i=wA(o),a="entries"===e||e===Symbol.iterator&&i,l="keys"===e&&i,c=s[e](...r),u=n?hI:t?GI:qI;return!t&&KA(o,0,l?$A:BA),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function xI(e){return function(...t){return"delete"!==e&&this}}function TI(){const e={get(e){return pI(this,e)},get size(){return mI(this)},has:fI,add:gI,set:vI,delete:_I,clear:yI,forEach:bI(!1,!1)},t={get(e){return pI(this,e,!1,!0)},get size(){return mI(this)},has:fI,add:gI,set:vI,delete:_I,clear:yI,forEach:bI(!1,!0)},n={get(e){return pI(this,e,!0)},get size(){return mI(this,!0)},has(e){return fI.call(this,e,!0)},add:xI("add"),set:xI("set"),delete:xI("delete"),clear:xI("clear"),forEach:bI(!0,!1)},r={get(e){return pI(this,e,!0,!0)},get size(){return mI(this,!0)},has(e){return fI.call(this,e,!0)},add:xI("add"),set:xI("set"),delete:xI("delete"),clear:xI("clear"),forEach:bI(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((s=>{e[s]=wI(s,!1,!1),n[s]=wI(s,!0,!1),t[s]=wI(s,!1,!0),r[s]=wI(s,!0,!0)})),[e,n,t,r]}const[EI,SI,kI,CI]=TI();function AI(e,t){const n=t?e?CI:kI:e?SI:EI;return(t,r,s)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(yA(n,r)&&r in t?n:t,r,s)}const II={get:AI(!1,!1)},RI={get:AI(!1,!0)},MI={get:AI(!0,!1)},OI=new WeakMap,LI=new WeakMap,NI=new WeakMap,PI=new WeakMap;function DI(e){return BI(e)?e:FI(e,!1,lI,II,OI)}function jI(e){return FI(e,!0,cI,MI,NI)}function FI(e,t,n,r,s){if(!TA(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const i=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(kA(a));var a;if(0===i)return e;const l=new Proxy(e,2===i?r:n);return s.set(e,l),l}function UI(e){return BI(e)?UI(e.__v_raw):!(!e||!e.__v_isReactive)}function BI(e){return!(!e||!e.__v_isReadonly)}function $I(e){return!(!e||!e.__v_isShallow)}function VI(e){return UI(e)||BI(e)}function HI(e){const t=e&&e.__v_raw;return t?HI(t):e}function zI(e){return IA(e,"__v_skip",!0),e}const qI=e=>TA(e)?DI(e):e,GI=e=>TA(e)?jI(e):e;function WI(e){return!(!e||!0!==e.__v_isRef)}const KI={get:(e,t,n)=>function(e){return WI(e)?e.value:e}(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return WI(s)&&!WI(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function YI(e){return UI(e)?e:new Proxy(e,KI)}class XI{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new VA(e,(()=>{this._dirty||(this._dirty=!0,function(e,t){(e=HI(e)).dep&&QA(e.dep)}(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=HI(this);return function(e){zA&&UA&&YA((e=HI(e)).dep||(e.dep=OA()))}(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function QI(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}function ZI(e){if(vR(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=wR(r)?tR(r):ZI(r);if(s)for(const e in s)t[e]=s[e]}return t}return wR(e)||xR(e)?e:void 0}const JI=/;(?![^(]*\))/g,eR=/:(.+)/;function tR(e){const t={};return e.split(JI).forEach((e=>{if(e){const n=e.split(eR);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function nR(e){let t="";if(wR(e))t=e;else if(vR(e))for(let n=0;n<e.length;n++){const r=nR(e[n]);r&&(t+=r+" ")}else if(xR(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function rR(e){if(!e)return null;let{class:t,style:n}=e;return t&&!wR(t)&&(e.class=nR(t)),n&&(e.style=ZI(n)),e}const sR=e=>wR(e)?e:null==e?"":vR(e)||xR(e)&&(e.toString===ER||!bR(e.toString))?JSON.stringify(e,oR,2):String(e),oR=(e,t)=>t&&t.__v_isRef?oR(e,t.value):_R(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:yR(t)?{[`Set(${t.size})`]:[...t.values()]}:!xR(t)||vR(t)||kR(t)?t:String(t),iR={},aR=[],lR=()=>{},cR=()=>!1,uR=/^on[^a-z]/,hR=e=>uR.test(e),dR=e=>e.startsWith("onUpdate:"),pR=Object.assign,fR=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},mR=Object.prototype.hasOwnProperty,gR=(e,t)=>mR.call(e,t),vR=Array.isArray,_R=e=>"[object Map]"===SR(e),yR=e=>"[object Set]"===SR(e),bR=e=>"function"==typeof e,wR=e=>"string"==typeof e,xR=e=>null!==e&&"object"==typeof e,TR=e=>xR(e)&&bR(e.then)&&bR(e.catch),ER=Object.prototype.toString,SR=e=>ER.call(e),kR=e=>"[object Object]"===SR(e),CR=QI(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),AR=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},IR=/-(\w)/g,RR=AR((e=>e.replace(IR,((e,t)=>t?t.toUpperCase():"")))),MR=/\B([A-Z])/g,OR=AR((e=>e.replace(MR,"-$1").toLowerCase())),LR=AR((e=>e.charAt(0).toUpperCase()+e.slice(1))),NR=AR((e=>e?`on${LR(e)}`:"")),PR=(e,t)=>!Object.is(e,t),DR=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},jR=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},FR=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let UR;const BR=()=>UR||(UR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});function $R(e,t,n,r){let s;try{s=r?e(...r):e()}catch(e){HR(e,t,n)}return s}function VR(e,t,n,r){if(bR(e)){const s=$R(e,t,n,r);return s&&TR(s)&&s.catch((e=>{HR(e,t,n)})),s}const s=[];for(let o=0;o<e.length;o++)s.push(VR(e[o],t,n,r));return s}function HR(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const s=t.proxy,o=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,s,o))return;r=r.parent}const i=t.appContext.config.errorHandler;if(i)return void $R(i,null,10,[e,s,o])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let zR=!1,qR=!1;const GR=[];let WR=0;const KR=[];let YR=null,XR=0;const QR=[];let ZR=null,JR=0;const eM=Promise.resolve();let tM=null,nM=null;function rM(e){const t=tM||eM;return e?t.then(this?e.bind(this):e):t}function sM(e){GR.length&&GR.includes(e,zR&&e.allowRecurse?WR+1:WR)||e===nM||(null==e.id?GR.push(e):GR.splice(function(e){let t=WR+1,n=GR.length;for(;t<n;){const r=t+n>>>1;cM(GR[r])<e?t=r+1:n=r}return t}(e.id),0,e),oM())}function oM(){zR||qR||(qR=!0,tM=eM.then(uM))}function iM(e,t,n,r){vR(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),oM()}function aM(e,t=null){if(KR.length){for(nM=t,YR=[...new Set(KR)],KR.length=0,XR=0;XR<YR.length;XR++)YR[XR]();YR=null,XR=0,nM=null,aM(e,t)}}function lM(e){if(aM(),QR.length){const e=[...new Set(QR)];if(QR.length=0,ZR)return void ZR.push(...e);for(ZR=e,ZR.sort(((e,t)=>cM(e)-cM(t))),JR=0;JR<ZR.length;JR++)ZR[JR]();ZR=null,JR=0}}const cM=e=>null==e.id?1/0:e.id;function uM(e){qR=!1,zR=!0,aM(e),GR.sort(((e,t)=>cM(e)-cM(t)));try{for(WR=0;WR<GR.length;WR++){const e=GR[WR];e&&!1!==e.active&&$R(e,null,14)}}finally{WR=0,GR.length=0,lM(),zR=!1,tM=null,(GR.length||KR.length||QR.length)&&uM(e)}}function hM(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||iR;let s=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in r){const e=`${"modelValue"===i?"model":i}Modifiers`,{number:t,trim:o}=r[e]||iR;o&&(s=n.map((e=>e.trim()))),t&&(s=n.map(FR))}let a,l=r[a=NR(t)]||r[a=NR(RR(t))];!l&&o&&(l=r[a=NR(OR(t))]),l&&VR(l,e,6,s);const c=r[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,VR(c,e,6,s)}}function dM(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(void 0!==s)return s;const o=e.emits;let i={},a=!1;if(!bR(e)){const r=e=>{const n=dM(e,t,!0);n&&(a=!0,pR(i,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||a?(vR(o)?o.forEach((e=>i[e]=null)):pR(i,o),r.set(e,i),i):(r.set(e,null),null)}function pM(e,t){return!(!e||!hR(t))&&(t=t.slice(2).replace(/Once$/,""),gR(e,t[0].toLowerCase()+t.slice(1))||gR(e,OR(t))||gR(e,t))}let fM=null,mM=null;function gM(e){const t=fM;return fM=e,mM=e&&e.type.__scopeId||null,t}function vM(e,t=fM,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&lL(-1);const s=gM(t),o=e(...n);return gM(s),r._d&&lL(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function _M(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:p,ctx:f,inheritAttrs:m}=e;let g,v;const _=gM(e);try{if(4&n.shapeFlag){const e=s||r;g=TL(u.call(e,e,h,o,p,d,f)),v=l}else{const e=t;0,g=TL(e.length>1?e(o,{attrs:l,slots:a,emit:c}):e(o,null)),v=t.props?l:yM(l)}}catch(t){sL.length=0,HR(t,e,1),g=_L(nL)}let y=g;if(v&&!1!==m){const e=Object.keys(v),{shapeFlag:t}=y;e.length&&7&t&&(i&&e.some(dR)&&(v=bM(v,i)),y=bL(y,v))}return n.dirs&&(y=bL(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),g=y,gM(_),g}const yM=e=>{let t;for(const n in e)("class"===n||"style"===n||hR(n))&&((t||(t={}))[n]=e[n]);return t},bM=(e,t)=>{const n={};for(const r in e)dR(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function wM(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!pM(n,o))return!0}return!1}function xM(e,t,n=!1){const r=RL||fM;if(r){const s=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&bR(t)?t.call(r.proxy):t}}const TM={};function EM(e,t,n){return SM(e,t,n)}function SM(e,t,{immediate:n,deep:r,flush:s,onTrack:o,onTrigger:i}=iR){const a=RL;let l,c,u=!1,h=!1;if(WI(e)?(l=()=>e.value,u=$I(e)):UI(e)?(l=()=>e,r=!0):vR(e)?(h=!0,u=e.some((e=>UI(e)||$I(e))),l=()=>e.map((e=>WI(e)?e.value:UI(e)?AM(e):bR(e)?$R(e,a,2):void 0))):l=bR(e)?t?()=>$R(e,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),VR(e,a,3,[d])}:lR,t&&r){const e=l;l=()=>AM(e())}let d=e=>{c=g.onStop=()=>{$R(e,a,4)}};if(DL)return d=lR,t?n&&VR(t,a,3,[l(),h?[]:void 0,d]):l(),lR;let p=h?[]:TM;const f=()=>{if(g.active)if(t){const e=g.run();(r||u||(h?e.some(((e,t)=>PR(e,p[t]))):PR(e,p)))&&(c&&c(),VR(t,a,3,[e,p===TM?void 0:p,d]),p=e)}else g.run()};let m;f.allowRecurse=!!t,m="sync"===s?f:"post"===s?()=>XO(f,a&&a.suspense):()=>function(e){iM(e,YR,KR,XR)}(f);const g=new VA(l,m);return t?n?f():p=g.run():"post"===s?XO(g.run.bind(g),a&&a.suspense):g.run(),()=>{g.stop(),a&&a.scope&&fR(a.scope.effects,g)}}function kM(e,t,n){const r=this.proxy,s=wR(e)?e.includes(".")?CM(r,e):()=>r[e]:e.bind(r,r);let o;bR(t)?o=t:(o=t.handler,n=t);const i=RL;OL(this);const a=SM(s,o.bind(r),n);return i?OL(i):LL(),a}function CM(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function AM(e,t){if(!xR(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),WI(e))AM(e.value,t);else if(vR(e))for(let n=0;n<e.length;n++)AM(e[n],t);else if(yR(e)||_R(e))e.forEach((e=>{AM(e,t)}));else if(kR(e))for(const n in e)AM(e[n],t);return e}function IM(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return KM((()=>{e.isMounted=!0})),QM((()=>{e.isUnmounting=!0})),e}const RM=[Function,Array],MM={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:RM,onEnter:RM,onAfterEnter:RM,onEnterCancelled:RM,onBeforeLeave:RM,onLeave:RM,onAfterLeave:RM,onLeaveCancelled:RM,onBeforeAppear:RM,onAppear:RM,onAfterAppear:RM,onAppearCancelled:RM},setup(e,{slots:t}){const n=ML(),r=IM();let s;return()=>{const o=t.default&&FM(t.default(),!0);if(!o||!o.length)return;let i=o[0];if(o.length>1)for(const e of o)if(e.type!==nL){i=e;break}const a=HI(e),{mode:l}=a;if(r.isLeaving)return PM(i);const c=DM(i);if(!c)return PM(i);const u=NM(c,a,r,n);jM(c,u);const h=n.subTree,d=h&&DM(h);let p=!1;const{getTransitionKey:f}=c.type;if(f){const e=f();void 0===s?s=e:e!==s&&(s=e,p=!0)}if(d&&d.type!==nL&&(!pL(c,d)||p)){const e=NM(d,a,r,n);if(jM(d,e),"out-in"===l)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},PM(i);"in-out"===l&&c.type!==nL&&(e.delayLeave=(e,t,n)=>{LM(r,d)[String(d.key)]=d,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return i}}},OM=MM;function LM(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function NM(e,t,n,r){const{appear:s,mode:o,persisted:i=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:_}=t,y=String(e.key),b=LM(n,e),w=(e,t)=>{e&&VR(e,r,9,t)},x=(e,t)=>{const n=t[1];w(e,t),vR(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},T={mode:o,persisted:i,beforeEnter(t){let r=a;if(!n.isMounted){if(!s)return;r=m||a}t._leaveCb&&t._leaveCb(!0);const o=b[y];o&&pL(e,o)&&o.el._leaveCb&&o.el._leaveCb(),w(r,[t])},enter(e){let t=l,r=c,o=u;if(!n.isMounted){if(!s)return;t=g||l,r=v||c,o=_||u}let i=!1;const a=e._enterCb=t=>{i||(i=!0,w(t?o:r,[e]),T.delayedLeave&&T.delayedLeave(),e._enterCb=void 0)};t?x(t,[e,a]):a()},leave(t,r){const s=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();w(h,[t]);let o=!1;const i=t._leaveCb=n=>{o||(o=!0,r(),w(n?f:p,[t]),t._leaveCb=void 0,b[s]===e&&delete b[s])};b[s]=e,d?x(d,[t,i]):i()},clone:e=>NM(e,t,n,r)};return T}function PM(e){if(BM(e))return(e=bL(e)).children=null,e}function DM(e){return BM(e)?e.children?e.children[0]:void 0:e}function jM(e,t){6&e.shapeFlag&&e.component?jM(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function FM(e,t=!1,n){let r=[],s=0;for(let o=0;o<e.length;o++){let i=e[o];const a=null==n?i.key:String(n)+String(null!=i.key?i.key:o);i.type===eL?(128&i.patchFlag&&s++,r=r.concat(FM(i.children,t,a))):(t||i.type!==nL)&&r.push(null!=a?bL(i,{key:a}):i)}if(s>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}const UM=e=>!!e.type.__asyncLoader,BM=e=>e.type.__isKeepAlive;function $M(e,t){HM(e,"a",t)}function VM(e,t){HM(e,"da",t)}function HM(e,t,n=RL){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(qM(t,r,n),n){let e=n.parent;for(;e&&e.parent;)BM(e.parent.vnode)&&zM(r,t,n,e),e=e.parent}}function zM(e,t,n,r){const s=qM(t,e,r,!0);ZM((()=>{fR(r[t],s)}),n)}function qM(e,t,n=RL,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;GA(),OL(n);const s=VR(t,n,e,r);return LL(),WA(),s});return r?s.unshift(o):s.push(o),o}}const GM=e=>(t,n=RL)=>(!DL||"sp"===e)&&qM(e,t,n),WM=GM("bm"),KM=GM("m"),YM=GM("bu"),XM=GM("u"),QM=GM("bum"),ZM=GM("um"),JM=GM("sp"),eO=GM("rtg"),tO=GM("rtc");function nO(e,t=RL){qM("ec",e,t)}function rO(e,t){const n=fM;if(null===n)return e;const r=UL(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[n,o,i,a=iR]=t[e];bR(n)&&(n={mounted:n,updated:n}),n.deep&&AM(o),s.push({dir:n,instance:r,value:o,oldValue:void 0,arg:i,modifiers:a})}return e}function sO(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let l=a.dir[r];l&&(GA(),VR(l,n,8,[e.el,a,e,t]),WA())}}const oO="components",iO="directives";function aO(e,t){return hO(oO,e,!0,t)||e}const lO=Symbol();function cO(e){return wR(e)?hO(oO,e,!1)||e:e||lO}function uO(e){return hO(iO,e)}function hO(e,t,n=!0,r=!1){const s=fM||RL;if(s){const n=s.type;if(e===oO){const e=function(e,t=!0){return bR(e)?e.displayName||e.name:e.name||t&&e.__name}(n,!1);if(e&&(e===t||e===RR(t)||e===LR(RR(t))))return n}const o=dO(s[e]||n[e],t)||dO(s.appContext[e],t);return!o&&r?n:o}}function dO(e,t){return e&&(e[t]||e[RR(t)]||e[LR(RR(t))])}function pO(e,t,n,r){let s;const o=n&&n[r];if(vR(e)||wR(e)){s=new Array(e.length);for(let n=0,r=e.length;n<r;n++)s[n]=t(e[n],n,void 0,o&&o[n])}else if("number"==typeof e){s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,o&&o[n])}else if(xR(e))if(e[Symbol.iterator])s=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);s=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];s[r]=t(e[i],i,r,o&&o[r])}}else s=[];return n&&(n[r]=s),s}function fO(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(vR(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.fn)}return e}function mO(e,t,n={},r,s){if(fM.isCE||fM.parent&&UM(fM.parent)&&fM.parent.isCE)return _L("slot","default"===t?null:{name:t},r&&r());let o=e[t];o&&o._c&&(o._d=!1),iL();const i=o&&gO(o(n)),a=hL(eL,{key:n.key||`_${t}`},i||(r?r():[]),i&&1===e._?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function gO(e){return e.some((e=>!dL(e)||e.type!==nL&&!(e.type===eL&&!gO(e.children))))?e:null}const vO=e=>e?NL(e)?UL(e)||e.proxy:vO(e.parent):null,_O=pR(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vO(e.parent),$root:e=>vO(e.root),$emit:e=>e.emit,$options:e=>EO(e),$forceUpdate:e=>e.f||(e.f=()=>sM(e.update)),$nextTick:e=>e.n||(e.n=rM.bind(e.proxy)),$watch:e=>kM.bind(e)}),yO={get({_:e},t){const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=i[t];if(void 0!==a)switch(a){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(r!==iR&&gR(r,t))return i[t]=1,r[t];if(s!==iR&&gR(s,t))return i[t]=2,s[t];if((c=e.propsOptions[0])&&gR(c,t))return i[t]=3,o[t];if(n!==iR&&gR(n,t))return i[t]=4,n[t];bO&&(i[t]=0)}}const u=_O[t];let h,d;return u?("$attrs"===t&&KA(e,0,t),u(e)):(h=a.__cssModules)&&(h=h[t])?h:n!==iR&&gR(n,t)?(i[t]=4,n[t]):(d=l.config.globalProperties,gR(d,t)?d[t]:void 0)},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return s!==iR&&gR(s,t)?(s[t]=n,!0):r!==iR&&gR(r,t)?(r[t]=n,!0):!gR(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let a;return!!n[i]||e!==iR&&gR(e,i)||t!==iR&&gR(t,i)||(a=o[0])&&gR(a,i)||gR(r,i)||gR(_O,i)||gR(s.config.globalProperties,i)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:gR(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let bO=!0;function wO(e){const t=EO(e),n=e.proxy,r=e.ctx;bO=!1,t.beforeCreate&&xO(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:p,updated:f,activated:m,deactivated:g,beforeDestroy:v,beforeUnmount:_,destroyed:y,unmounted:b,render:w,renderTracked:x,renderTriggered:T,errorCaptured:E,serverPrefetch:S,expose:k,inheritAttrs:C,components:A,directives:I,filters:R}=t;if(c&&function(e,t,n=lR,r=!1){vR(e)&&(e=AO(e));for(const n in e){const s=e[n];let o;o=xR(s)?"default"in s?xM(s.from||n,s.default,!0):xM(s.from||n):xM(s),WI(o)&&r?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[n]=o}}(c,r,null,e.appContext.config.unwrapInjectedRef),i)for(const e in i){const t=i[e];bR(t)&&(r[e]=t.bind(n))}if(s){const t=s.call(n,n);xR(t)&&(e.data=DI(t))}if(bO=!0,o)for(const e in o){const t=o[e],s=bR(t)?t.bind(n,n):bR(t.get)?t.get.bind(n,n):lR,i=!bR(t)&&bR(t.set)?t.set.bind(n):lR,a=BL({get:s,set:i});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(a)for(const e in a)TO(a[e],r,n,e);if(l){const e=bR(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(RL){let n=RL.provides;const r=RL.parent&&RL.parent.provides;r===n&&(n=RL.provides=Object.create(r)),n[e]=t}}(t,e[t])}))}function M(e,t){vR(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(u&&xO(u,e,"c"),M(WM,h),M(KM,d),M(YM,p),M(XM,f),M($M,m),M(VM,g),M(nO,E),M(tO,x),M(eO,T),M(QM,_),M(ZM,b),M(JM,S),vR(k))if(k.length){const t=e.exposed||(e.exposed={});k.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});w&&e.render===lR&&(e.render=w),null!=C&&(e.inheritAttrs=C),A&&(e.components=A),I&&(e.directives=I)}function xO(e,t,n){VR(vR(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function TO(e,t,n,r){const s=r.includes(".")?CM(n,r):()=>n[r];if(wR(e)){const n=t[e];bR(n)&&EM(s,n)}else if(bR(e))EM(s,e.bind(n));else if(xR(e))if(vR(e))e.forEach((e=>TO(e,t,n,r)));else{const r=bR(e.handler)?e.handler.bind(n):t[e.handler];bR(r)&&EM(s,r,e)}}function EO(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:s.length||n||r?(l={},s.length&&s.forEach((e=>SO(l,e,i,!0))),SO(l,t,i)):l=t,o.set(t,l),l}function SO(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&SO(e,o,n,!0),s&&s.forEach((t=>SO(e,t,n,!0)));for(const s in t)if(r&&"expose"===s);else{const r=kO[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const kO={data:CO,props:RO,emits:RO,methods:RO,computed:RO,beforeCreate:IO,created:IO,beforeMount:IO,mounted:IO,beforeUpdate:IO,updated:IO,beforeDestroy:IO,beforeUnmount:IO,destroyed:IO,unmounted:IO,activated:IO,deactivated:IO,errorCaptured:IO,serverPrefetch:IO,components:RO,directives:RO,watch:function(e,t){if(!e)return t;if(!t)return e;const n=pR(Object.create(null),e);for(const r in t)n[r]=IO(e[r],t[r]);return n},provide:CO,inject:function(e,t){return RO(AO(e),AO(t))}};function CO(e,t){return t?e?function(){return pR(bR(e)?e.call(this,this):e,bR(t)?t.call(this,this):t)}:t:e}function AO(e){if(vR(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function IO(e,t){return e?[...new Set([].concat(e,t))]:t}function RO(e,t){return e?pR(pR(Object.create(null),e),t):t}function MO(e,t,n,r=!1){const s={},o={};jR(o,fL,1),e.propsDefaults=Object.create(null),OO(e,t,s,o);for(const t in e.propsOptions[0])t in s||(s[t]=void 0);n?e.props=r?s:function(e){return FI(e,!1,uI,RI,LI)}(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function OO(e,t,n,r){const[s,o]=e.propsOptions;let i,a=!1;if(t)for(let l in t){if(CR(l))continue;const c=t[l];let u;s&&gR(s,u=RR(l))?o&&o.includes(u)?(i||(i={}))[u]=c:n[u]=c:pM(e.emitsOptions,l)||l in r&&c===r[l]||(r[l]=c,a=!0)}if(o){const t=HI(n),r=i||iR;for(let i=0;i<o.length;i++){const a=o[i];n[a]=LO(s,t,a,r[a],e,!gR(r,a))}}return a}function LO(e,t,n,r,s,o){const i=e[n];if(null!=i){const e=gR(i,"default");if(e&&void 0===r){const e=i.default;if(i.type!==Function&&bR(e)){const{propsDefaults:o}=s;n in o?r=o[n]:(OL(s),r=o[n]=e.call(null,t),LL())}else r=e}i[0]&&(o&&!e?r=!1:!i[1]||""!==r&&r!==OR(n)||(r=!0))}return r}function NO(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,i={},a=[];let l=!1;if(!bR(e)){const r=e=>{l=!0;const[n,r]=NO(e,t,!0);pR(i,n),r&&a.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!o&&!l)return r.set(e,aR),aR;if(vR(o))for(let e=0;e<o.length;e++){const t=RR(o[e]);PO(t)&&(i[t]=iR)}else if(o)for(const e in o){const t=RR(e);if(PO(t)){const n=o[e],r=i[t]=vR(n)||bR(n)?{type:n}:n;if(r){const e=FO(Boolean,r.type),n=FO(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||gR(r,"default"))&&a.push(t)}}}const c=[i,a];return r.set(e,c),c}function PO(e){return"$"!==e[0]}function DO(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function jO(e,t){return DO(e)===DO(t)}function FO(e,t){return vR(t)?t.findIndex((t=>jO(t,e))):bR(t)&&jO(t,e)?0:-1}const UO=e=>"_"===e[0]||"$stable"===e,BO=e=>vR(e)?e.map(TL):[TL(e)],$O=(e,t,n)=>{if(t._n)return t;const r=vM(((...e)=>BO(t(...e))),n);return r._c=!1,r},VO=(e,t,n)=>{const r=e._ctx;for(const n in e){if(UO(n))continue;const s=e[n];if(bR(s))t[n]=$O(0,s,r);else if(null!=s){const e=BO(s);t[n]=()=>e}}},HO=(e,t)=>{const n=BO(t);e.slots.default=()=>n},zO=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=HI(t),jR(t,"_",n)):VO(t,e.slots={})}else e.slots={},t&&HO(e,t);jR(e.slots,fL,1)},qO=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,i=iR;if(32&r.shapeFlag){const e=t._;e?n&&1===e?o=!1:(pR(s,t),n||1!==e||delete s._):(o=!t.$stable,VO(t,s)),i=t}else t&&(HO(e,t),i={default:1});if(o)for(const e in s)UO(e)||e in i||delete s[e]};function GO(){return{app:null,config:{isNativeTag:cR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let WO=0;function KO(e,t){return function(n,r=null){bR(n)||(n=Object.assign({},n)),null==r||xR(r)||(r=null);const s=GO(),o=new Set;let i=!1;const a=s.app={_uid:WO++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:$L,get config(){return s.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&bR(e.install)?(o.add(e),e.install(a,...t)):bR(e)&&(o.add(e),e(a,...t))),a),mixin:e=>(s.mixins.includes(e)||s.mixins.push(e),a),component:(e,t)=>t?(s.components[e]=t,a):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,a):s.directives[e],mount(o,l,c){if(!i){const u=_L(n,r);return u.appContext=s,l&&t?t(u,o):e(u,o,c),i=!0,a._container=o,o.__vue_app__=a,UL(u.component)||u.component.proxy}},unmount(){i&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,a)};return a}}function YO(e,t,n,r,s=!1){if(vR(e))return void e.forEach(((e,o)=>YO(e,t&&(vR(t)?t[o]:t),n,r,s)));if(UM(r)&&!s)return;const o=4&r.shapeFlag?UL(r.component)||r.component.proxy:r.el,i=s?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===iR?a.refs={}:a.refs,h=a.setupState;if(null!=c&&c!==l&&(wR(c)?(u[c]=null,gR(h,c)&&(h[c]=null)):WI(c)&&(c.value=null)),bR(l))$R(l,a,12,[i,u]);else{const t=wR(l),r=WI(l);if(t||r){const a=()=>{if(e.f){const n=t?u[l]:l.value;s?vR(n)&&fR(n,o):vR(n)?n.includes(o)||n.push(o):t?(u[l]=[o],gR(h,l)&&(h[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else t?(u[l]=i,gR(h,l)&&(h[l]=i)):r&&(l.value=i,e.k&&(u[e.k]=i))};i?(a.id=-1,XO(a,n)):a()}}}const XO=function(e,t){t&&t.pendingBranch?vR(e)?t.effects.push(...e):t.effects.push(e):function(e){iM(e,ZR,QR,JR)}(e)};function QO(e){return function(e,t){const n=BR();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:p=lR,cloneNode:f,insertStaticContent:m}=e,g=(e,t,n,r=null,s=null,o=null,i=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!pL(e,t)&&(r=z(e),U(e,s,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case tL:v(e,t,n,r);break;case nL:_(e,t,n,r);break;case rL:null==e&&y(t,n,r,i);break;case eL:I(e,t,n,r,s,o,i,a,l);break;default:1&h?x(e,t,n,r,s,o,i,a,l):6&h?R(e,t,n,r,s,o,i,a,l):(64&h||128&h)&&c.process(e,t,n,r,s,o,i,a,l,G)}null!=u&&s&&YO(u,e&&e.ref,o,t||e,!t)},v=(e,t,n,s)=>{if(null==e)r(t.el=a(t.children),n,s);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},_=(e,t,n,s)=>{null==e?r(t.el=l(t.children||""),n,s):t.el=e.el},y=(e,t,n,r)=>{[e.el,e.anchor]=m(e.children,t,n,r,e.el,e.anchor)},b=({el:e,anchor:t},n,s)=>{let o;for(;e&&e!==t;)o=d(e),r(e,n,s),e=o;r(t,n,s)},w=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=d(e),s(e),e=n;s(t)},x=(e,t,n,r,s,o,i,a,l)=>{i=i||"svg"===t.type,null==e?T(t,n,r,s,o,i,a,l):k(e,t,s,o,i,a,l)},T=(e,t,n,s,a,l,c,h)=>{let d,p;const{type:m,props:g,shapeFlag:v,transition:_,patchFlag:y,dirs:b}=e;if(e.el&&void 0!==f&&-1===y)d=e.el=f(e.el);else{if(d=e.el=i(e.type,l,g&&g.is,g),8&v?u(d,e.children):16&v&&S(e.children,d,null,s,a,l&&"foreignObject"!==m,c,h),b&&sO(e,null,s,"created"),g){for(const t in g)"value"===t||CR(t)||o(d,t,null,g[t],l,e.children,s,a,H);"value"in g&&o(d,"value",null,g.value),(p=g.onVnodeBeforeMount)&&CL(p,s,e)}E(d,e,e.scopeId,c,s)}b&&sO(e,null,s,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&_&&!_.persisted;w&&_.beforeEnter(d),r(d,t,n),((p=g&&g.onVnodeMounted)||w||b)&&XO((()=>{p&&CL(p,s,e),w&&_.enter(d),b&&sO(e,null,s,"mounted")}),a)},E=(e,t,n,r,s)=>{if(n&&p(e,n),r)for(let t=0;t<r.length;t++)p(e,r[t]);if(s){if(t===s.subTree){const t=s.vnode;E(e,t,t.scopeId,t.slotScopeIds,s.parent)}}},S=(e,t,n,r,s,o,i,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?EL(e[c]):TL(e[c]);g(null,l,t,n,r,s,o,i,a)}},k=(e,t,n,r,s,i,a)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:d}=t;c|=16&e.patchFlag;const p=e.props||iR,f=t.props||iR;let m;n&&ZO(n,!1),(m=f.onVnodeBeforeUpdate)&&CL(m,n,t,e),d&&sO(t,e,n,"beforeUpdate"),n&&ZO(n,!0);const g=s&&"foreignObject"!==t.type;if(h?C(e.dynamicChildren,h,l,n,r,g,i):a||P(e,t,l,null,n,r,g,i,!1),c>0){if(16&c)A(l,t,p,f,n,r,s);else if(2&c&&p.class!==f.class&&o(l,"class",null,f.class,s),4&c&&o(l,"style",p.style,f.style,s),8&c){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const a=i[t],c=p[a],u=f[a];u===c&&"value"!==a||o(l,a,c,u,s,e.children,n,r,H)}}1&c&&e.children!==t.children&&u(l,t.children)}else a||null!=h||A(l,t,p,f,n,r,s);((m=f.onVnodeUpdated)||d)&&XO((()=>{m&&CL(m,n,t,e),d&&sO(t,e,n,"updated")}),r)},C=(e,t,n,r,s,o,i)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===eL||!pL(l,c)||70&l.shapeFlag)?h(l.el):n;g(l,c,u,null,r,s,o,i,!0)}},A=(e,t,n,r,s,i,a)=>{if(n!==r){for(const l in r){if(CR(l))continue;const c=r[l],u=n[l];c!==u&&"value"!==l&&o(e,l,u,c,a,t.children,s,i,H)}if(n!==iR)for(const l in n)CR(l)||l in r||o(e,l,n[l],null,a,t.children,s,i,H);"value"in r&&o(e,"value",n.value,r.value)}},I=(e,t,n,s,o,i,l,c,u)=>{const h=t.el=e?e.el:a(""),d=t.anchor=e?e.anchor:a("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(r(h,n,s),r(d,n,s),S(t.children,n,d,o,i,l,c,u)):p>0&&64&p&&f&&e.dynamicChildren?(C(e.dynamicChildren,f,n,o,i,l,c),(null!=t.key||o&&t===o.subTree)&&JO(e,t,!0)):P(e,t,n,d,o,i,l,c,u)},R=(e,t,n,r,s,o,i,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?s.ctx.activate(t,n,r,i,l):M(t,n,r,s,o,i,l):O(e,t,l)},M=(e,t,n,r,s,o,i)=>{const a=e.component=function(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||AL,o={uid:IL++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new MA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:NO(r,s),emitsOptions:dM(r,s),emit:null,emitted:null,propsDefaults:iR,inheritAttrs:r.inheritAttrs,ctx:iR,data:iR,props:iR,attrs:iR,slots:iR,refs:iR,setupState:iR,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};o.ctx={_:o},o.root=t?t.root:o,o.emit=hM.bind(null,o),e.ce&&e.ce(o);return o}(e,r,s);if(BM(e)&&(a.ctx.renderer=G),function(e,t=!1){DL=t;const{props:n,children:r}=e.vnode,s=NL(e);MO(e,n,s,t),zO(e,r);const o=s?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=zI(new Proxy(e.ctx,yO));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(KA(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;OL(e),GA();const s=$R(r,e,0,[e.props,n]);if(WA(),LL(),TR(s)){if(s.then(LL,LL),t)return s.then((n=>{jL(e,n,t)})).catch((t=>{HR(t,e,0)}));e.asyncDep=s}else jL(e,s,t)}else FL(e,t)}(e,t):void 0;DL=!1}(a),a.asyncDep){if(s&&s.registerDep(a,L),!e.el){const e=a.subTree=_L(nL);_(null,e,t,n)}}else L(a,e,t,n,s,o,i)},O=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:s,component:o}=e,{props:i,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!s&&!a||a&&a.$stable)||r!==i&&(r?!i||wM(r,i,c):!!i);if(1024&l)return!0;if(16&l)return r?wM(r,i,c):!!i;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(i[n]!==r[n]&&!pM(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void N(r,t,n);r.next=t,function(e){const t=GR.indexOf(e);t>WR&&GR.splice(t,1)}(r.update),r.update()}else t.el=e.el,r.vnode=t},L=(e,t,n,r,s,o,i)=>{const a=()=>{if(e.isMounted){let t,{next:n,bu:r,u:a,parent:l,vnode:c}=e,u=n;ZO(e,!1),n?(n.el=c.el,N(e,n,i)):n=c,r&&DR(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&CL(t,l,n,c),ZO(e,!0);const d=_M(e),p=e.subTree;e.subTree=d,g(p,d,h(p.el),z(p),e,s,o),n.el=d.el,null===u&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,d.el),a&&XO(a,s),(t=n.props&&n.props.onVnodeUpdated)&&XO((()=>CL(t,l,n,c)),s)}else{let i;const{el:a,props:l}=t,{bm:c,m:u,parent:h}=e,d=UM(t);if(ZO(e,!1),c&&DR(c),!d&&(i=l&&l.onVnodeBeforeMount)&&CL(i,h,t),ZO(e,!0),a&&K){const n=()=>{e.subTree=_M(e),K(a,e.subTree,e,s,null)};d?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const i=e.subTree=_M(e);g(null,i,n,r,e,s,o),t.el=i.el}if(u&&XO(u,s),!d&&(i=l&&l.onVnodeMounted)){const e=t;XO((()=>CL(i,h,e)),s)}(256&t.shapeFlag||h&&UM(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&XO(e.a,s),e.isMounted=!0,t=n=r=null}},l=e.effect=new VA(a,(()=>sM(c)),e.scope),c=e.update=()=>l.run();c.id=e.uid,ZO(e,!0),c()},N=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=e,a=HI(s),[l]=e.propsOptions;let c=!1;if(!(r||i>0)||16&i){let r;OO(e,t,s,o)&&(c=!0);for(const o in a)t&&(gR(t,o)||(r=OR(o))!==o&&gR(t,r))||(l?!n||void 0===n[o]&&void 0===n[r]||(s[o]=LO(l,a,o,void 0,e,!0)):delete s[o]);if(o!==a)for(const e in o)t&&gR(t,e)||(delete o[e],c=!0)}else if(8&i){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let i=n[r];if(pM(e.emitsOptions,i))continue;const u=t[i];if(l)if(gR(o,i))u!==o[i]&&(o[i]=u,c=!0);else{const t=RR(i);s[t]=LO(l,a,t,u,e,!1)}else u!==o[i]&&(o[i]=u,c=!0)}}c&&XA(e,"set","$attrs")}(e,t.props,r,n),qO(e,t.children,n),GA(),aM(void 0,e.update),WA()},P=(e,t,n,r,s,o,i,a,l=!1)=>{const c=e&&e.children,h=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void j(c,d,n,r,s,o,i,a,l);if(256&p)return void D(c,d,n,r,s,o,i,a,l)}8&f?(16&h&&H(c,s,o),d!==c&&u(n,d)):16&h?16&f?j(c,d,n,r,s,o,i,a,l):H(c,s,o,!0):(8&h&&u(n,""),16&f&&S(d,n,r,s,o,i,a,l))},D=(e,t,n,r,s,o,i,a,l)=>{t=t||aR;const c=(e=e||aR).length,u=t.length,h=Math.min(c,u);let d;for(d=0;d<h;d++){const r=t[d]=l?EL(t[d]):TL(t[d]);g(e[d],r,n,null,s,o,i,a,l)}c>u?H(e,s,o,!0,!1,h):S(t,n,r,s,o,i,a,l,h)},j=(e,t,n,r,s,o,i,a,l)=>{let c=0;const u=t.length;let h=e.length-1,d=u-1;for(;c<=h&&c<=d;){const r=e[c],u=t[c]=l?EL(t[c]):TL(t[c]);if(!pL(r,u))break;g(r,u,n,null,s,o,i,a,l),c++}for(;c<=h&&c<=d;){const r=e[h],c=t[d]=l?EL(t[d]):TL(t[d]);if(!pL(r,c))break;g(r,c,n,null,s,o,i,a,l),h--,d--}if(c>h){if(c<=d){const e=d+1,h=e<u?t[e].el:r;for(;c<=d;)g(null,t[c]=l?EL(t[c]):TL(t[c]),n,h,s,o,i,a,l),c++}}else if(c>d)for(;c<=h;)U(e[c],s,o,!0),c++;else{const p=c,f=c,m=new Map;for(c=f;c<=d;c++){const e=t[c]=l?EL(t[c]):TL(t[c]);null!=e.key&&m.set(e.key,c)}let v,_=0;const y=d-f+1;let b=!1,w=0;const x=new Array(y);for(c=0;c<y;c++)x[c]=0;for(c=p;c<=h;c++){const r=e[c];if(_>=y){U(r,s,o,!0);continue}let u;if(null!=r.key)u=m.get(r.key);else for(v=f;v<=d;v++)if(0===x[v-f]&&pL(r,t[v])){u=v;break}void 0===u?U(r,s,o,!0):(x[u-f]=c+1,u>=w?w=u:b=!0,g(r,t[u],n,null,s,o,i,a,l),_++)}const T=b?function(e){const t=e.slice(),n=[0];let r,s,o,i,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<l?o=a+1:i=a;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,i=n[o-1];for(;o-- >0;)n[o]=i,i=t[i];return n}(x):aR;for(v=T.length-1,c=y-1;c>=0;c--){const e=f+c,h=t[e],d=e+1<u?t[e+1].el:r;0===x[c]?g(null,h,n,d,s,o,i,a,l):b&&(v<0||c!==T[v]?F(h,n,d,2):v--)}}},F=(e,t,n,s,o=null)=>{const{el:i,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void F(e.component.subTree,t,n,s);if(128&u)return void e.suspense.move(t,n,s);if(64&u)return void a.move(e,t,n,G);if(a===eL){r(i,t,n);for(let e=0;e<c.length;e++)F(c[e],t,n,s);return void r(e.anchor,t,n)}if(a===rL)return void b(e,t,n);if(2!==s&&1&u&&l)if(0===s)l.beforeEnter(i),r(i,t,n),XO((()=>l.enter(i)),o);else{const{leave:e,delayLeave:s,afterLeave:o}=l,a=()=>r(i,t,n),c=()=>{e(i,(()=>{a(),o&&o()}))};s?s(i,a,c):c()}else r(i,t,n)},U=(e,t,n,r=!1,s=!1)=>{const{type:o,props:i,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&YO(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&d,f=!UM(e);let m;if(f&&(m=i&&i.onVnodeBeforeUnmount)&&CL(m,t,e),6&u)V(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);p&&sO(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,s,G,r):c&&(o!==eL||h>0&&64&h)?H(c,t,n,!1,!0):(o===eL&&384&h||!s&&16&u)&&H(l,t,n),r&&B(e)}(f&&(m=i&&i.onVnodeUnmounted)||p)&&XO((()=>{m&&CL(m,t,e),p&&sO(e,null,t,"unmounted")}),n)},B=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===eL)return void $(n,r);if(t===rL)return void w(e);const i=()=>{s(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,s=()=>t(n,i);r?r(e.el,i,s):s()}else i()},$=(e,t)=>{let n;for(;e!==t;)n=d(e),s(e),e=n;s(t)},V=(e,t,n)=>{const{bum:r,scope:s,update:o,subTree:i,um:a}=e;r&&DR(r),s.stop(),o&&(o.active=!1,U(i,e,t,n)),a&&XO(a,t),XO((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},H=(e,t,n,r=!1,s=!1,o=0)=>{for(let i=o;i<e.length;i++)U(e[i],t,n,r,s)},z=e=>6&e.shapeFlag?z(e.component.subTree):128&e.shapeFlag?e.suspense.next():d(e.anchor||e.el),q=(e,t,n)=>{null==e?t._vnode&&U(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,n),lM(),t._vnode=e},G={p:g,um:U,m:F,r:B,mt:M,mc:S,pc:P,pbc:C,n:z,o:e};let W,K;t&&([W,K]=t(G));return{render:q,hydrate:W,createApp:KO(q,W)}}(e)}function ZO({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function JO(e,t,n=!1){const r=e.children,s=t.children;if(vR(r)&&vR(s))for(let e=0;e<r.length;e++){const t=r[e];let o=s[e];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=s[e]=EL(s[e]),o.el=t.el),n||JO(t,o))}}const eL=Symbol(void 0),tL=Symbol(void 0),nL=Symbol(void 0),rL=Symbol(void 0),sL=[];let oL=null;function iL(e=!1){sL.push(oL=e?null:[])}let aL=1;function lL(e){aL+=e}function cL(e){return e.dynamicChildren=aL>0?oL||aR:null,sL.pop(),oL=sL[sL.length-1]||null,aL>0&&oL&&oL.push(e),e}function uL(e,t,n,r,s,o){return cL(vL(e,t,n,r,s,o,!0))}function hL(e,t,n,r,s){return cL(_L(e,t,n,r,s,!0))}function dL(e){return!!e&&!0===e.__v_isVNode}function pL(e,t){return e.type===t.type&&e.key===t.key}const fL="__vInternal",mL=({key:e})=>null!=e?e:null,gL=({ref:e,ref_key:t,ref_for:n})=>null!=e?wR(e)||WI(e)||bR(e)?{i:fM,r:e,k:t,f:!!n}:e:null;function vL(e,t=null,n=null,r=0,s=null,o=(e===eL?0:1),i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&mL(t),ref:t&&gL(t),scopeId:mM,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(SL(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=wR(n)?8:16),aL>0&&!i&&oL&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&oL.push(l),l}const _L=function(e,t=null,n=null,r=0,s=null,o=!1){e&&e!==lO||(e=nL);if(dL(e)){const r=bL(e,t,!0);return n&&SL(r,n),aL>0&&!o&&oL&&(6&r.shapeFlag?oL[oL.indexOf(e)]=r:oL.push(r)),r.patchFlag|=-2,r}i=e,bR(i)&&"__vccOpts"in i&&(e=e.__vccOpts);var i;if(t){t=yL(t);let{class:e,style:n}=t;e&&!wR(e)&&(t.class=nR(e)),xR(n)&&(VI(n)&&!vR(n)&&(n=pR({},n)),t.style=ZI(n))}const a=wR(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:xR(e)?4:bR(e)?2:0;return vL(e,t,n,r,s,a,o,!0)};function yL(e){return e?VI(e)||fL in e?pR({},e):e:null}function bL(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:i}=e,a=t?kL(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&mL(a),ref:t&&t.ref?n&&s?vR(s)?s.concat(gL(t)):[s,gL(t)]:gL(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==eL?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&bL(e.ssContent),ssFallback:e.ssFallback&&bL(e.ssFallback),el:e.el,anchor:e.anchor}}function wL(e=" ",t=0){return _L(tL,null,e,t)}function xL(e="",t=!1){return t?(iL(),hL(nL,null,e)):_L(nL,null,e)}function TL(e){return null==e||"boolean"==typeof e?_L(nL):vR(e)?_L(eL,null,e.slice()):"object"==typeof e?EL(e):_L(tL,null,String(e))}function EL(e){return null===e.el||e.memo?e:bL(e)}function SL(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(vR(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),SL(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||fL in t?3===r&&fM&&(1===fM.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=fM}}else bR(t)?(t={default:t,_ctx:fM},n=32):(t=String(t),64&r?(n=16,t=[wL(t)]):n=8);e.children=t,e.shapeFlag|=n}function kL(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=nR([t.class,r.class]));else if("style"===e)t.style=ZI([t.style,r.style]);else if(hR(e)){const n=t[e],s=r[e];!s||n===s||vR(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=r[e])}return t}function CL(e,t,n,r=null){VR(e,t,7,[n,r])}const AL=GO();let IL=0;let RL=null;const ML=()=>RL||fM,OL=e=>{RL=e,e.scope.on()},LL=()=>{RL&&RL.scope.off(),RL=null};function NL(e){return 4&e.vnode.shapeFlag}let PL,DL=!1;function jL(e,t,n){bR(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xR(t)&&(e.setupState=YI(t)),FL(e,n)}function FL(e,t,n){const r=e.type;if(!e.render){if(!t&&PL&&!r.render){const t=r.template;if(t){const{isCustomElement:n,compilerOptions:s}=e.appContext.config,{delimiters:o,compilerOptions:i}=r,a=pR(pR({isCustomElement:n,delimiters:o},s),i);r.render=PL(t,a)}}e.render=r.render||lR}OL(e),GA(),wO(e),WA(),LL()}function UL(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(YI(zI(e.exposed)),{get:(t,n)=>n in t?t[n]:n in _O?_O[n](e):void 0}))}const BL=(e,t)=>function(e,t,n=!1){let r,s;const o=(e=>"function"==typeof e)(e);return o?(r=e,s=gA):(r=e.get,s=e.set),new XI(r,s,o||!s,n)}(e,0,DL);const $L="3.2.37";function VL(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const HL=VL("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function zL(e){return!!e||""===e}const qL=/^on[^a-z]/,GL=Object.assign,WL=Array.isArray,KL=e=>"string"==typeof e,YL=e=>null!==e&&"object"==typeof e,XL=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},QL=/-(\w)/g,ZL=XL((e=>e.replace(QL,((e,t)=>t?t.toUpperCase():"")))),JL=/\B([A-Z])/g,eN=XL((e=>e.replace(JL,"-$1").toLowerCase())),tN=XL((e=>e.charAt(0).toUpperCase()+e.slice(1))),nN=e=>{const t=parseFloat(e);return isNaN(t)?e:t},rN="undefined"!=typeof document?document:null,sN=rN&&rN.createElement("template"),oN={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?rN.createElementNS("http://www.w3.org/2000/svg",e):rN.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&s.setAttribute("multiple",r.multiple),s},createText:e=>rN.createTextNode(e),createComment:e=>rN.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rN.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,o){const i=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),s!==o&&(s=s.nextSibling););else{sN.innerHTML=r?`<svg>${e}</svg>`:e;const s=sN.content;if(r){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}t.insertBefore(s,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const iN=/\s*!important$/;function aN(e,t,n){if(WL(n))n.forEach((n=>aN(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=cN[t];if(n)return n;let r=RR(t);if("filter"!==r&&r in e)return cN[t]=r;r=tN(r);for(let n=0;n<lN.length;n++){const s=lN[n]+r;if(s in e)return cN[t]=s}return t}(e,t);iN.test(n)?e.setProperty(eN(r),n.replace(iN,""),"important"):e[r]=n}}const lN=["Webkit","Moz","ms"],cN={};const uN="http://www.w3.org/1999/xlink";const[hN,dN]=(()=>{let e=Date.now,t=!1;if("undefined"!=typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let pN=0;const fN=Promise.resolve(),mN=()=>{pN=0},gN=()=>pN||(fN.then(mN),pN=hN());function vN(e,t,n,r,s=null){const o=e._vei||(e._vei={}),i=o[t];if(r&&i)i.value=r;else{const[n,a]=function(e){let t;if(_N.test(e)){let n;for(t={};n=e.match(_N);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[eN(e.slice(2)),t]}(t);if(r){const i=o[t]=function(e,t){const n=e=>{const r=e.timeStamp||hN();(dN||r>=n.attached-1)&&VR(function(e,t){if(WL(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=gN(),n}(r,s);!function(e,t,n,r){e.addEventListener(t,n,r)}(e,n,i,a)}else i&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,i,a),o[t]=void 0)}}const _N=/(?:Once|Passive|Capture)$/;const yN=/^on[a-z]/;const bN="undefined"!=typeof HTMLElement?HTMLElement:class{};class wN extends bN{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,rM((()=>{this._connected||(nP(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let e=0;e<this.attributes.length;e++)this._setAttr(this.attributes[e].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=e=>{const{props:t,styles:n}=e,r=!WL(t),s=t?r?Object.keys(t):t:[];let o;if(r)for(const e in this._props){const n=t[e];(n===Number||n&&n.type===Number)&&(this._props[e]=nN(this._props[e]),(o||(o=Object.create(null)))[e]=!0)}this._numberProps=o;for(const e of Object.keys(this))"_"!==e[0]&&this._setProp(e,this[e],!0,!1);for(const e of s.map(ZL))Object.defineProperty(this,e,{get(){return this._getProp(e)},set(t){this._setProp(e,t)}});this._applyStyles(n),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=nN(t)),this._setProp(ZL(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!0){t!==this._props[e]&&(this._props[e]=t,r&&this._instance&&this._update(),n&&(!0===t?this.setAttribute(eN(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(eN(e),t+""):t||this.removeAttribute(eN(e))))}_update(){nP(this._createVNode(),this.shadowRoot)}_createVNode(){const e=_L(this._def,GL({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0,e.emit=(e,...t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof wN){e.parent=t._instance;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}const xN="transition",TN="animation",EN=(e,{slots:t})=>function(e,t,n){const r=arguments.length;return 2===r?xR(t)&&!vR(t)?dL(t)?_L(e,null,[t]):_L(e,t):_L(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&dL(n)&&(n=[n]),_L(e,t,n))}(OM,IN(e),t);EN.displayName="Transition";const SN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kN=EN.props=GL({},OM.props,SN),CN=(e,t=[])=>{WL(e)?e.forEach((e=>e(...t))):e&&e(...t)},AN=e=>!!e&&(WL(e)?e.some((e=>e.length>1)):e.length>1);function IN(e){const t={};for(const n in e)n in SN||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=i,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,f=function(e){if(null==e)return null;if(YL(e))return[RN(e.enter),RN(e.leave)];{const t=RN(e);return[t,t]}}(s),m=f&&f[0],g=f&&f[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:y,onLeave:b,onLeaveCancelled:w,onBeforeAppear:x=v,onAppear:T=_,onAppearCancelled:E=y}=t,S=(e,t,n)=>{ON(e,t?u:a),ON(e,t?c:i),n&&n()},k=(e,t)=>{e._isLeaving=!1,ON(e,h),ON(e,p),ON(e,d),t&&t()},C=e=>(t,n)=>{const s=e?T:_,i=()=>S(t,e,n);CN(s,[t,i]),LN((()=>{ON(t,e?l:o),MN(t,e?u:a),AN(s)||PN(t,r,m,i)}))};return GL(t,{onBeforeEnter(e){CN(v,[e]),MN(e,o),MN(e,i)},onBeforeAppear(e){CN(x,[e]),MN(e,l),MN(e,c)},onEnter:C(!1),onAppear:C(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>k(e,t);MN(e,h),UN(),MN(e,d),LN((()=>{e._isLeaving&&(ON(e,h),MN(e,p),AN(b)||PN(e,r,g,n))})),CN(b,[e,n])},onEnterCancelled(e){S(e,!1),CN(y,[e])},onAppearCancelled(e){S(e,!0),CN(E,[e])},onLeaveCancelled(e){k(e),CN(w,[e])}})}function RN(e){return nN(e)}function MN(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function ON(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function LN(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let NN=0;function PN(e,t,n,r){const s=e._endId=++NN,o=()=>{s===e._endId&&r()};if(n)return setTimeout(o,n);const{type:i,timeout:a,propCount:l}=DN(e,t);if(!i)return r();const c=i+"end";let u=0;const h=()=>{e.removeEventListener(c,d),o()},d=t=>{t.target===e&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),e.addEventListener(c,d)}function DN(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),s=r(xN+"Delay"),o=r(xN+"Duration"),i=jN(s,o),a=r(TN+"Delay"),l=r(TN+"Duration"),c=jN(a,l);let u=null,h=0,d=0;t===xN?i>0&&(u=xN,h=i,d=o.length):t===TN?c>0&&(u=TN,h=c,d=l.length):(h=Math.max(i,c),u=h>0?i>c?xN:TN:null,d=u?u===xN?o.length:l.length:0);return{type:u,timeout:h,propCount:d,hasTransform:u===xN&&/\b(transform|all)(,|$)/.test(n[xN+"Property"])}}function jN(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>FN(t)+FN(e[n]))))}function FN(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function UN(){return document.body.offsetHeight}const BN=new WeakMap,$N=new WeakMap,VN={name:"TransitionGroup",props:GL({},kN,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=ML(),r=IM();let s,o;return XM((()=>{if(!s.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))}));n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const s=1===t.nodeType?t:t.parentNode;s.appendChild(r);const{hasTransform:o}=DN(r);return s.removeChild(r),o}(s[0].el,n.vnode.el,t))return;s.forEach(zN),s.forEach(qN);const r=s.filter(GN);UN(),r.forEach((e=>{const n=e.el,r=n.style;MN(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const s=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",s),n._moveCb=null,ON(n,t))};n.addEventListener("transitionend",s)}))})),()=>{const i=HI(e),a=IN(i);let l=i.tag||eL;s=o,o=t.default?FM(t.default()):[];for(let e=0;e<o.length;e++){const t=o[e];null!=t.key&&jM(t,NM(t,a,r,n))}if(s)for(let e=0;e<s.length;e++){const t=s[e];jM(t,NM(t,a,r,n)),BN.set(t,t.el.getBoundingClientRect())}return _L(l,null,o)}}},HN=VN;function zN(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function qN(e){$N.set(e,e.el.getBoundingClientRect())}function GN(e){const t=BN.get(e),n=$N.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${s}px)`,t.transitionDuration="0s",e}}const WN=["ctrl","shift","alt","meta"],KN={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>WN.some((n=>e[`${n}Key`]&&!t.includes(n)))},YN=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=KN[t[e]];if(r&&r(n,t))return}return e(n,...r)},XN={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},QN=(e,t)=>n=>{if(!("key"in n))return;const r=eN(n.key);return t.some((e=>e===r||XN[e]===r))?e(n):void 0},ZN={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):JN(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),JN(e,!0),r.enter(e)):r.leave(e,(()=>{JN(e,!1)})):JN(e,t))},beforeUnmount(e,{value:t}){JN(e,t)}};function JN(e,t){e.style.display=t?e._vod:"none"}const eP=GL({patchProp:(e,t,n,r,s=!1,o,i,a,l)=>{"class"===t?function(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,s):"style"===t?function(e,t,n){const r=e.style,s=KL(n);if(n&&!s){for(const e in n)aN(r,e,n[e]);if(t&&!KL(t))for(const e in t)null==n[e]&&aN(r,e,"")}else{const o=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}(e,n,r):(e=>qL.test(e))(t)?(e=>e.startsWith("onUpdate:"))(t)||vN(e,t,0,r,i):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&yN.test(t)&&(e=>"function"==typeof e)(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(yN.test(t)&&KL(n))return!1;return t in e}(e,t,r,s))?function(e,t,n,r,s,o,i){if("innerHTML"===t||"textContent"===t)return r&&i(r,s,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let a=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=zL(n):null==n&&"string"===r?(n="",a=!0):"number"===r&&(n=0,a=!0)}try{e[t]=n}catch(e){}a&&e.removeAttribute(t)}(e,t,r,o,i,a,l):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r,s){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(uN,t.slice(6,t.length)):e.setAttributeNS(uN,t,n);else{const r=HL(t);null==n||r&&!zL(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,r,s))}},oN);let tP;const nP=(...e)=>{(tP||(tP=QO(eP))).render(...e)};var rP=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n};const sP={name:"AppLoader",props:{show:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1},type:{type:String,required:!0},messageId:{type:String,default:""}}},oP=vL("div",{id:"vac-circle"},null,-1),iP=vL("div",{id:"vac-circle"},null,-1),aP=vL("div",{id:"vac-circle"},null,-1),lP=vL("div",{id:"vac-circle"},null,-1),cP=vL("div",{id:"vac-circle"},null,-1),uP=vL("div",{id:"vac-circle"},null,-1);var hP=rP(sP,[["render",function(e,t,n,r,s,o){return iL(),hL(EN,{name:"vac-fade-spinner",appear:""},{default:vM((()=>[n.show?(iL(),uL("div",{key:0,class:nR(["vac-loader-wrapper",{"vac-container-center":!n.infinite,"vac-container-top":n.infinite}])},["rooms"===n.type?mO(e.$slots,"spinner-icon-rooms",{key:0},(()=>[oP])):xL("",!0),"infinite-rooms"===n.type?mO(e.$slots,"spinner-icon-infinite-rooms",{key:1},(()=>[iP])):xL("",!0),"message-file"===n.type?mO(e.$slots,"spinner-icon-message-file_"+n.messageId,{key:2},(()=>[aP])):xL("",!0),"room-file"===n.type?mO(e.$slots,"spinner-icon-room-file",{key:3},(()=>[lP])):xL("",!0),"messages"===n.type?mO(e.$slots,"spinner-icon-messages",{key:4},(()=>[cP])):xL("",!0),"infinite-messages"===n.type?mO(e.$slots,"spinner-icon-infinite-messages",{key:5},(()=>[uP])):xL("",!0)],2)):xL("",!0)])),_:3})}]]);const dP=["viewBox"],pP=["id","d"],fP=["id","d"];var mP=rP({name:"SvgIcon",props:{name:{type:String,default:null},param:{type:String,default:null}},data:()=>({svgItem:{search:{path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},add:{path:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},toggle:{path:"M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z"},menu:{path:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},close:{path:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},file:{path:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},paperclip:{path:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},"close-outline":{path:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},send:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},emoji:{path:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},document:{path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},pencil:{path:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},checkmark:{path:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},"double-checkmark":{path:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"},eye:{path:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},dropdown:{path:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},deleted:{path:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"},microphone:{size:"large",path:"M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z"},"audio-play":{size:"medium",path:"M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z"},"audio-pause":{size:"medium",path:"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z",path2:"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"}}}),computed:{svgId(){const e=this.param?"-"+this.param:"";return`vac-icon-${this.name}${e}`},size(){const e=this.svgItem[this.name];return"large"===e.size?512:"medium"===e.size?48:24}}},[["render",function(e,t,n,r,s,o){return iL(),uL("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:`0 0 ${o.size} ${o.size}`},[vL("path",{id:o.svgId,d:s.svgItem[n.name].path},null,8,pP),s.svgItem[n.name].path2?(iL(),uL("path",{key:0,id:o.svgId,d:s.svgItem[n.name].path2},null,8,fP)):xL("",!0)],8,dP)}]]);const gP={name:"RoomsSearch",components:{SvgIcon:mP},props:{textMessages:{type:Object,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0}},emits:["search-room","add-room"],computed:{showSearchBar(){return this.showSearch||this.showAddRoom}}},vP={key:0,class:"vac-icon-search"},_P=["placeholder"];var yP=rP(gP,[["render",function(e,t,n,r,s,o){const i=aO("svg-icon");return iL(),uL("div",{class:nR({"vac-box-search":o.showSearchBar,"vac-box-empty":!o.showSearchBar})},[n.showSearch?(iL(),uL(eL,{key:0},[!n.loadingRooms&&n.rooms.length?(iL(),uL("div",vP,[mO(e.$slots,"search-icon",{},(()=>[_L(i,{name:"search"})]))])):xL("",!0),!n.loadingRooms&&n.rooms.length?(iL(),uL("input",{key:1,type:"search",placeholder:n.textMessages.SEARCH,autocomplete:"off",class:"vac-input",onInput:t[0]||(t[0]=t=>e.$emit("search-room",t))},null,40,_P)):xL("",!0)],64)):xL("",!0),n.showAddRoom?(iL(),uL("div",{key:1,class:"vac-svg-button vac-add-icon",onClick:t[1]||(t[1]=t=>e.$emit("add-room"))},[mO(e.$slots,"add-icon",{},(()=>[_L(i,{name:"add"})]))])):xL("",!0)],2)}]]),bP={},wP={};wP.__esModule=!0,wP.inherits=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(e.prototype);for(var s in n)r[s]=n[s];return r.constructor=t,t.prototype=r,t};var xP={__esModule:!0},TP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EP={defaultProtocol:"http",events:null,format:kP,formatHref:kP,nl2br:!1,tagName:"a",target:function(e,t){return"url"===t?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function SP(e){e=e||{},this.defaultProtocol=e.hasOwnProperty("defaultProtocol")?e.defaultProtocol:EP.defaultProtocol,this.events=e.hasOwnProperty("events")?e.events:EP.events,this.format=e.hasOwnProperty("format")?e.format:EP.format,this.formatHref=e.hasOwnProperty("formatHref")?e.formatHref:EP.formatHref,this.nl2br=e.hasOwnProperty("nl2br")?e.nl2br:EP.nl2br,this.tagName=e.hasOwnProperty("tagName")?e.tagName:EP.tagName,this.target=e.hasOwnProperty("target")?e.target:EP.target,this.validate=e.hasOwnProperty("validate")?e.validate:EP.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||EP.attributes,this.className=e.hasOwnProperty("className")?e.className:e.linkClass||EP.className;for(var t=e.hasOwnProperty("ignoreTags")?e.ignoreTags:EP.ignoreTags,n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function kP(e){return e}xP.defaults=EP,xP.Options=SP,xP.contains=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},SP.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var r=void 0,s=this[e];if(!s)return s;switch(void 0===s?"undefined":TP(s)){case"function":return s(t,n.type);case"object":return"function"==typeof(r=s.hasOwnProperty(n.type)?s[n.type]:EP[e])?r(t,n.type):r}return s},getObject:function(e,t,n){var r=this[e];return"function"==typeof r?r(t,n.type):r}};var CP={},AP={__esModule:!0};AP.stateify=AP.TokenState=AP.CharacterState=void 0;var IP=wP;var RP=function(e){this.j=[],this.T=e||null};RP.prototype={defaultTransition:!1,on:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)this.j.push([e[n],t]);return this}return this.j.push([e,t]),this},next:function(e){for(var t=0;t<this.j.length;t++){var n=this.j[t],r=n[0],s=n[1];if(this.test(e,r))return s}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,t){return e===t},emit:function(){return this.T}};var MP=(0,IP.inherits)(RP,(function(e){this.j=[],this.T=e||null}),{test:function(e,t){return e===t||t instanceof RegExp&&t.test(e)}}),OP=(0,IP.inherits)(RP,(function(e){this.j=[],this.T=e||null}),{jump:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.next(new e(""));return n===this.defaultTransition?(n=new this.constructor(t),this.on(e,n)):t&&(n.T=t),n},test:function(e,t){return e instanceof t}});AP.CharacterState=MP,AP.TokenState=OP,AP.stateify=function(e,t,n,r){for(var s=0,o=e.length,i=t,a=[],l=void 0;s<o&&(l=i.next(e[s]));)i=l,s++;if(s>=o)return[];for(;s<o-1;)l=new MP(r),a.push(l),i.on(e[s],l),i=l,s++;return l=new MP(n),a.push(l),i.on(e[o-1],l),a};var LP={},NP={};NP.__esModule=!0,NP.createTokenClass=function(){return function(e){e&&(this.v=e)}},LP.__esModule=!0,LP.AMPERSAND=LP.CLOSEPAREN=LP.CLOSEANGLEBRACKET=LP.CLOSEBRACKET=LP.CLOSEBRACE=LP.OPENPAREN=LP.OPENANGLEBRACKET=LP.OPENBRACKET=LP.OPENBRACE=LP.WS=LP.TLD=LP.SYM=LP.UNDERSCORE=LP.SLASH=LP.MAILTO=LP.PROTOCOL=LP.QUERY=LP.POUND=LP.PLUS=LP.NUM=LP.NL=LP.LOCALHOST=LP.PUNCTUATION=LP.DOT=LP.COLON=LP.AT=LP.DOMAIN=LP.Base=void 0;var PP=NP,DP=wP,jP=(0,PP.createTokenClass)();function FP(e){var t=e?{v:e}:{};return(0,DP.inherits)(jP,(0,PP.createTokenClass)(),t)}jP.prototype={toString:function(){return this.v+""}};var UP=FP(),BP=FP("@"),$P=FP(":"),VP=FP("."),HP=FP(),zP=FP(),qP=FP("\n"),GP=FP(),WP=FP("+"),KP=FP("#"),YP=FP(),XP=FP("mailto:"),QP=FP("?"),ZP=FP("/"),JP=FP("_"),eD=FP(),tD=FP(),nD=FP(),rD=FP("{"),sD=FP("["),oD=FP("<"),iD=FP("("),aD=FP("}"),lD=FP("]"),cD=FP(">"),uD=FP(")"),hD=FP("&");LP.Base=jP,LP.DOMAIN=UP,LP.AT=BP,LP.COLON=$P,LP.DOT=VP,LP.PUNCTUATION=HP,LP.LOCALHOST=zP,LP.NL=qP,LP.NUM=GP,LP.PLUS=WP,LP.POUND=KP,LP.QUERY=QP,LP.PROTOCOL=YP,LP.MAILTO=XP,LP.SLASH=ZP,LP.UNDERSCORE=JP,LP.SYM=eD,LP.TLD=tD,LP.WS=nD,LP.OPENBRACE=rD,LP.OPENBRACKET=sD,LP.OPENANGLEBRACKET=oD,LP.OPENPAREN=iD,LP.CLOSEBRACE=aD,LP.CLOSEBRACKET=lD,LP.CLOSEANGLEBRACKET=cD,LP.CLOSEPAREN=uD,LP.AMPERSAND=hD,CP.__esModule=!0,CP.start=CP.run=CP.TOKENS=CP.State=void 0;var dD=AP,pD=LP,fD=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(pD);var mD="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),gD="0123456789".split(""),vD="0123456789abcdefghijklmnopqrstuvwxyz".split(""),_D=[" ","\f","\r","\t","\v"," "," ","᠎"],yD=[],bD=function(e){return new dD.CharacterState(e)},wD=bD(),xD=bD(pD.NUM),TD=bD(pD.DOMAIN),ED=bD(),SD=bD(pD.WS);wD.on("@",bD(pD.AT)).on(".",bD(pD.DOT)).on("+",bD(pD.PLUS)).on("#",bD(pD.POUND)).on("?",bD(pD.QUERY)).on("/",bD(pD.SLASH)).on("_",bD(pD.UNDERSCORE)).on(":",bD(pD.COLON)).on("{",bD(pD.OPENBRACE)).on("[",bD(pD.OPENBRACKET)).on("<",bD(pD.OPENANGLEBRACKET)).on("(",bD(pD.OPENPAREN)).on("}",bD(pD.CLOSEBRACE)).on("]",bD(pD.CLOSEBRACKET)).on(">",bD(pD.CLOSEANGLEBRACKET)).on(")",bD(pD.CLOSEPAREN)).on("&",bD(pD.AMPERSAND)).on([",",";","!",'"',"'"],bD(pD.PUNCTUATION)),wD.on("\n",bD(pD.NL)).on(_D,SD),SD.on(_D,SD);for(var kD=0;kD<mD.length;kD++){var CD=(0,dD.stateify)(mD[kD],wD,pD.TLD,pD.DOMAIN);yD.push.apply(yD,CD)}var AD=(0,dD.stateify)("file",wD,pD.DOMAIN,pD.DOMAIN),ID=(0,dD.stateify)("ftp",wD,pD.DOMAIN,pD.DOMAIN),RD=(0,dD.stateify)("http",wD,pD.DOMAIN,pD.DOMAIN),MD=(0,dD.stateify)("mailto",wD,pD.DOMAIN,pD.DOMAIN);yD.push.apply(yD,AD),yD.push.apply(yD,ID),yD.push.apply(yD,RD),yD.push.apply(yD,MD);var OD=AD.pop(),LD=ID.pop(),ND=RD.pop(),PD=MD.pop(),DD=bD(pD.DOMAIN),jD=bD(pD.PROTOCOL),FD=bD(pD.MAILTO);LD.on("s",DD).on(":",jD),ND.on("s",DD).on(":",jD),yD.push(DD),OD.on(":",jD),DD.on(":",jD),PD.on(":",FD);var UD=(0,dD.stateify)("localhost",wD,pD.LOCALHOST,pD.DOMAIN);yD.push.apply(yD,UD),wD.on(gD,xD),xD.on("-",ED).on(gD,xD).on(vD,TD),TD.on("-",ED).on(vD,TD);for(var BD=0;BD<yD.length;BD++)yD[BD].on("-",ED).on(vD,TD);ED.on("-",ED).on(gD,TD).on(vD,TD),wD.defaultTransition=bD(pD.SYM);var $D=wD;CP.State=dD.CharacterState,CP.TOKENS=fD,CP.run=function(e){for(var t=e.replace(/[A-Z]/g,(function(e){return e.toLowerCase()})),n=e.length,r=[],s=0;s<n;){for(var o=wD,i=null,a=0,l=null,c=-1;s<n&&(i=o.next(t[s]));)(o=i).accepts()?(c=0,l=o):c>=0&&c++,a++,s++;if(!(c<0)){s-=c,a-=c;var u=l.emit();r.push(new u(e.substr(s-a,a)))}}return r},CP.start=$D;var VD={},HD={__esModule:!0};HD.URL=HD.TEXT=HD.NL=HD.EMAIL=HD.MAILTOEMAIL=HD.Base=void 0;var zD=NP,qD=wP,GD=LP;function WD(e){return e instanceof GD.DOMAIN||e instanceof GD.TLD}var KD=(0,zD.createTokenClass)();KD.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],t=0;t<this.v.length;t++)e.push(this.v[t].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var YD=(0,qD.inherits)(KD,(0,zD.createTokenClass)(),{type:"email",isLink:!0}),XD=(0,qD.inherits)(KD,(0,zD.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),QD=(0,qD.inherits)(KD,(0,zD.createTokenClass)(),{type:"text"}),ZD=(0,qD.inherits)(KD,(0,zD.createTokenClass)(),{type:"nl"}),JD=(0,qD.inherits)(KD,(0,zD.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=!1,n=!1,r=this.v,s=[],o=0;r[o]instanceof GD.PROTOCOL;)t=!0,s.push(r[o].toString().toLowerCase()),o++;for(;r[o]instanceof GD.SLASH;)n=!0,s.push(r[o].toString()),o++;for(;WD(r[o]);)s.push(r[o].toString().toLowerCase()),o++;for(;o<r.length;o++)s.push(r[o].toString());return s=s.join(""),t||n||(s=e+"://"+s),s},hasProtocol:function(){return this.v[0]instanceof GD.PROTOCOL}});HD.Base=KD,HD.MAILTOEMAIL=YD,HD.EMAIL=XD,HD.NL=ZD,HD.TEXT=QD,HD.URL=JD,VD.__esModule=!0,VD.start=VD.run=VD.TOKENS=VD.State=void 0;var ej=AP,tj=HD,nj=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(tj),rj=LP;var sj=function(e){return new ej.TokenState(e)},oj=sj(),ij=sj(),aj=sj(),lj=sj(),cj=sj(),uj=sj(),hj=sj(),dj=sj(tj.URL),pj=sj(),fj=sj(tj.URL),mj=sj(tj.URL),gj=sj(),vj=sj(),_j=sj(),yj=sj(),bj=sj(),wj=sj(tj.URL),xj=sj(tj.URL),Tj=sj(tj.URL),Ej=sj(tj.URL),Sj=sj(),kj=sj(),Cj=sj(),Aj=sj(),Ij=sj(),Rj=sj(),Mj=sj(tj.EMAIL),Oj=sj(),Lj=sj(tj.EMAIL),Nj=sj(tj.MAILTOEMAIL),Pj=sj(),Dj=sj(),jj=sj(),Fj=sj(),Uj=sj(tj.NL);oj.on(rj.NL,Uj).on(rj.PROTOCOL,ij).on(rj.MAILTO,aj).on(rj.SLASH,lj),ij.on(rj.SLASH,lj),lj.on(rj.SLASH,cj),oj.on(rj.TLD,uj).on(rj.DOMAIN,uj).on(rj.LOCALHOST,dj).on(rj.NUM,uj),cj.on(rj.TLD,mj).on(rj.DOMAIN,mj).on(rj.NUM,mj).on(rj.LOCALHOST,mj),uj.on(rj.DOT,hj),Ij.on(rj.DOT,Rj),hj.on(rj.TLD,dj).on(rj.DOMAIN,uj).on(rj.NUM,uj).on(rj.LOCALHOST,uj),Rj.on(rj.TLD,Mj).on(rj.DOMAIN,Ij).on(rj.NUM,Ij).on(rj.LOCALHOST,Ij),dj.on(rj.DOT,hj),Mj.on(rj.DOT,Rj),dj.on(rj.COLON,pj).on(rj.SLASH,mj),pj.on(rj.NUM,fj),fj.on(rj.SLASH,mj),Mj.on(rj.COLON,Oj),Oj.on(rj.NUM,Lj);var Bj=[rj.DOMAIN,rj.AT,rj.LOCALHOST,rj.NUM,rj.PLUS,rj.POUND,rj.PROTOCOL,rj.SLASH,rj.TLD,rj.UNDERSCORE,rj.SYM,rj.AMPERSAND],$j=[rj.COLON,rj.DOT,rj.QUERY,rj.PUNCTUATION,rj.CLOSEBRACE,rj.CLOSEBRACKET,rj.CLOSEANGLEBRACKET,rj.CLOSEPAREN,rj.OPENBRACE,rj.OPENBRACKET,rj.OPENANGLEBRACKET,rj.OPENPAREN];mj.on(rj.OPENBRACE,vj).on(rj.OPENBRACKET,_j).on(rj.OPENANGLEBRACKET,yj).on(rj.OPENPAREN,bj),gj.on(rj.OPENBRACE,vj).on(rj.OPENBRACKET,_j).on(rj.OPENANGLEBRACKET,yj).on(rj.OPENPAREN,bj),vj.on(rj.CLOSEBRACE,mj),_j.on(rj.CLOSEBRACKET,mj),yj.on(rj.CLOSEANGLEBRACKET,mj),bj.on(rj.CLOSEPAREN,mj),wj.on(rj.CLOSEBRACE,mj),xj.on(rj.CLOSEBRACKET,mj),Tj.on(rj.CLOSEANGLEBRACKET,mj),Ej.on(rj.CLOSEPAREN,mj),Sj.on(rj.CLOSEBRACE,mj),kj.on(rj.CLOSEBRACKET,mj),Cj.on(rj.CLOSEANGLEBRACKET,mj),Aj.on(rj.CLOSEPAREN,mj),vj.on(Bj,wj),_j.on(Bj,xj),yj.on(Bj,Tj),bj.on(Bj,Ej),vj.on($j,Sj),_j.on($j,kj),yj.on($j,Cj),bj.on($j,Aj),wj.on(Bj,wj),xj.on(Bj,xj),Tj.on(Bj,Tj),Ej.on(Bj,Ej),wj.on($j,wj),xj.on($j,xj),Tj.on($j,Tj),Ej.on($j,Ej),Sj.on(Bj,wj),kj.on(Bj,xj),Cj.on(Bj,Tj),Aj.on(Bj,Ej),Sj.on($j,Sj),kj.on($j,kj),Cj.on($j,Cj),Aj.on($j,Aj),mj.on(Bj,mj),gj.on(Bj,mj),mj.on($j,gj),gj.on($j,gj),aj.on(rj.TLD,Nj).on(rj.DOMAIN,Nj).on(rj.NUM,Nj).on(rj.LOCALHOST,Nj),Nj.on(Bj,Nj).on($j,Pj),Pj.on(Bj,Nj).on($j,Pj);var Vj=[rj.DOMAIN,rj.NUM,rj.PLUS,rj.POUND,rj.QUERY,rj.UNDERSCORE,rj.SYM,rj.AMPERSAND,rj.TLD];uj.on(Vj,Dj).on(rj.AT,jj),dj.on(Vj,Dj).on(rj.AT,jj),hj.on(Vj,Dj),Dj.on(Vj,Dj).on(rj.AT,jj).on(rj.DOT,Fj),Fj.on(Vj,Dj),jj.on(rj.TLD,Ij).on(rj.DOMAIN,Ij).on(rj.LOCALHOST,Mj);VD.State=ej.TokenState,VD.TOKENS=nj,VD.run=function(e){for(var t=e.length,n=0,r=[],s=[];n<t;){for(var o=oj,i=null,a=null,l=0,c=null,u=-1;n<t&&!(i=o.next(e[n]));)s.push(e[n++]);for(;n<t&&(a=i||o.next(e[n]));)i=null,(o=a).accepts()?(u=0,c=o):u>=0&&u++,n++,l++;if(u<0)for(var h=n-l;h<n;h++)s.push(e[h]);else{s.length>0&&(r.push(new tj.TEXT(s)),s=[]),n-=u,l-=u;var d=c.emit();r.push(new d(e.slice(n-l,n)))}}return s.length>0&&r.push(new tj.TEXT(s)),r},VD.start=oj,bP.__esModule=!0,bP.tokenize=bP.test=bP.scanner=bP.parser=bP.options=bP.inherits=bP.find=void 0;var Hj=wP,zj=Wj(xP),qj=Wj(CP),Gj=Wj(VD);function Wj(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var Kj=function(e){return Gj.run(qj.run(e))};bP.find=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Kj(e),r=[],s=0;s<n.length;s++){var o=n[s];!o.isLink||t&&o.type!==t||r.push(o.toObject())}return r},bP.inherits=Hj.inherits,bP.options=zj,bP.parser=Gj,bP.scanner=qj,bP.test=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Kj(e);return 1===n.length&&n[0].isLink&&(!t||n[0].type===t)},bP.tokenize=Kj;var Yj=bP,Xj=(e,t,n)=>{const r={bold:n.bold,italic:n.italic,strike:n.strike,underline:n.underline,multilineCode:n.multilineCode,inlineCode:n.inlineCode},s={[r.bold]:{end:"\\"+r.bold,allowed_chars:".",type:"bold"},[r.italic]:{end:r.italic,allowed_chars:".",type:"italic"},[r.strike]:{end:r.strike,allowed_chars:".",type:"strike"},[r.underline]:{end:r.underline,allowed_chars:".",type:"underline"},[r.multilineCode]:{end:r.multilineCode,allowed_chars:"(.|\n)",type:"multiline-code"},[r.inlineCode]:{end:r.inlineCode,allowed_chars:".",type:"inline-code"},"<usertag>":{allowed_chars:".",end:"</usertag>",type:"tag"}},o=function(e,t){const n=[];return e.forEach((e=>{"string"==typeof e?n.push({types:[],value:e}):t[e.start]&&n.push(function(e){const t=[];return Zj(e,t,[]),t}(e))})),n}(Qj(e,s),s),i=[].concat.apply([],o);return t&&function(e){const t=[];e.forEach((e=>{const n=Yj.find(e.value);if(n.length){const r=e.value.replace(n[0].value,"");t.push({types:e.types,value:r}),e.types=["url"].concat(e.types),e.href=n[0].href,e.value=n[0].value}t.push(e)}))}(i),i};function Qj(e,t){let n=[],r=-1,s=null,o=Yj.find(e),i=!1;if(o.length>0&&(r=e.indexOf(o[0].value),i=!0),Object.keys(t).forEach((t=>{const n=e.indexOf(t);n>=0&&(r<0||n<r)&&(r=n,s=t,i=!1)})),i&&-1!==s){let s=e.substr(0,r),i=e.substr(r,o[0].value.length),a=e.substr(r+o[0].value.length);return n.push(s),n.push(i),n=n.concat(Qj(a,t)),n}if(s){let o=e.substr(0,r);const i=s;let a=e.substr(r+i.length);if(e.replace(/\s/g,"").length===2*i.length)return[e];const l=a.match(new RegExp("^("+(t[i].allowed_chars||".")+"*"+(t[i].end?"?":"")+")"+(t[i].end?"("+t[i].end+")":""),"m"));if(l&&l[1]){o&&n.push(o);const e={start:i,content:Qj(l[1],t),end:l[2],type:t[i].type};n.push(e),a=a.substr(l[0].length)}else o+=i,n.push(o);return n=n.concat(Qj(a,t)),n}return e?[e]:[]}function Zj(e,t,n){e.content.forEach((r=>{"string"==typeof r?t.push({types:Jj(n.concat([e.type])),value:r}):Zj(r,t,Jj([r.type].concat([e.type]).concat(n)))}))}function Jj(e){return[...new Set(e)]}const eF=["png","jpg","jpeg","webp","svg","gif"],tF=["mp4","video/ogg","webm","quicktime"],nF=["mp3","audio/ogg","wav","mpeg"],rF={name:"FormatMessage",components:{SvgIcon:mP},props:{messageId:{type:String,default:""},roomId:{type:String,default:""},roomList:{type:Boolean,default:!1},content:{type:[String,Number],required:!0},deleted:{type:Boolean,default:!1},users:{type:Array,default:()=>[]},linkify:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!1},reply:{type:Boolean,default:!1},textFormatting:{type:Object,required:!0},textMessages:{type:Object,default:()=>{}},linkOptions:{type:Object,required:!0}},emits:["open-user-tag"],computed:{linkifiedMessage(){if(this.deleted)return[{value:this.textMessages.MESSAGE_DELETED}];const e=Xj(this.formatTags(this.content),this.linkify&&!this.linkOptions.disabled,this.textFormatting);return e.forEach((e=>{e.url=this.checkType(e,"url"),e.bold=this.checkType(e,"bold"),e.italic=this.checkType(e,"italic"),e.strike=this.checkType(e,"strike"),e.underline=this.checkType(e,"underline"),e.inline=this.checkType(e,"inline-code"),e.multiline=this.checkType(e,"multiline-code"),e.tag=this.checkType(e,"tag"),e.image=this.checkImageType(e),e.value=this.replaceEmojiByElement(e.value)})),e},formattedContent(){return this.deleted?this.textMessages.MESSAGE_DELETED:this.formatTags(this.content)}},methods:{checkType:(e,t)=>e.types&&-1!==e.types.indexOf(t),checkImageType(e){let t=e.value.lastIndexOf(".");e.value.lastIndexOf("/")>t&&(t=-1);const n=e.value.substring(t+1,e.value.length),r=t>0&&eF.some((e=>n.toLowerCase().includes(e)));return r&&this.setImageSize(e),r},setImageSize(e){const t=new Image;t.src=e.value,t.addEventListener("load",(function n(r){const s=r.path[0].width/150;e.height=Math.round(r.path[0].height/s)+"px",t.removeEventListener("load",n)}))},formatTags(e){const t="<usertag>",n=[...e.matchAll(new RegExp(t,"gi"))].map((e=>e.index)),r=e;return n.forEach((t=>{const n=r.substring(t+9,r.indexOf("</usertag>",t)),s=this.users.find((e=>e._id===n));e=e.replaceAll(n,`@${(null==s?void 0:s.username)||"unknown"}`)})),e},openTag(e){if(!this.singleLine&&this.checkType(e,"tag")){const t=this.users.find((t=>-1!==e.value.indexOf(t.username)));this.$emit("open-user-tag",t)}},replaceEmojiByElement(e){let t;if(this.singleLine)t=16;else{const e=this.containsOnlyEmojis();t=e?28:20}return e.replaceAll(/[\p{Extended_Pictographic}\u{1F3FB}-\u{1F3FF}\u{1F9B0}-\u{1F9B3}]/gu,(e=>`<span style="font-size: ${t}px">${e}</span>`))},containsOnlyEmojis(){const e=this.content.replace(new RegExp("[\0-ữf]","g"),""),t=this.content.replace(new RegExp("[\n\rs]+|( )+","g"),"");return e.length===t.length}}},sF={class:"vac-image-link-container"},oF={class:"vac-image-link-message"},iF=["innerHTML"],aF=["innerHTML"];var lF=rP(rF,[["render",function(e,t,n,r,s,o){const i=aO("svg-icon");return iL(),uL("div",{class:nR(["vac-format-message-wrapper",{"vac-text-ellipsis":n.singleLine}])},[n.textFormatting.disabled?(iL(),uL("div",{key:1,innerHTML:o.formattedContent},null,8,aF)):(iL(),uL("div",{key:0,class:nR({"vac-text-ellipsis":n.singleLine})},[(iL(!0),uL(eL,null,pO(o.linkifiedMessage,((t,r)=>(iL(),uL("div",{key:r,class:"vac-format-container"},[(iL(),hL(cO(t.url?"a":"span"),{class:nR({"vac-text-ellipsis":n.singleLine,"vac-text-bold":t.bold,"vac-text-italic":n.deleted||t.italic,"vac-text-strike":t.strike,"vac-text-underline":t.underline,"vac-text-inline-code":!n.singleLine&&t.inline,"vac-text-multiline-code":!n.singleLine&&t.multiline,"vac-text-tag":!n.singleLine&&!n.reply&&t.tag}),href:t.href,target:t.href?n.linkOptions.target:null,rel:t.href?n.linkOptions.rel:null,onClick:e=>o.openTag(t)},{default:vM((()=>[n.deleted?(iL(),uL(eL,{key:0},[mO(e.$slots,n.roomList?"deleted-icon-room_"+n.roomId:"deleted-icon_"+n.messageId,{},(()=>[_L(i,{name:"deleted",class:nR(["vac-icon-deleted",{"vac-icon-deleted-room":n.roomList}])},null,8,["class"])])),wL(" "+sR(n.textMessages.MESSAGE_DELETED),1)],64)):t.url&&t.image?(iL(),uL(eL,{key:1},[vL("div",sF,[vL("div",{class:"vac-image-link",style:ZI({"background-image":`url('${t.value}')`,height:t.height})},null,4)]),vL("div",oF,[vL("span",null,sR(t.value),1)])],64)):(iL(),uL("span",{key:2,innerHTML:t.value},null,8,iF))])),_:2},1032,["class","href","target","rel","onClick"]))])))),128))],2))],2)}]]);const cF="__v-click-outside",uF="undefined"!=typeof window,hF="undefined"!=typeof navigator,dF=uF&&("ontouchstart"in window||hF&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],pF=({event:e,handler:t,middleware:n})=>{n(e)&&t(e)},fF=(e,{value:t})=>{const{events:n,handler:r,middleware:s,isActive:o,detectIframe:i,capture:a}=(e=>{const t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||(e=>e),events:e.events||dF,isActive:!(!1===e.isActive),detectIframe:!(!1===e.detectIframe),capture:Boolean(e.capture)}})(t);if(o){if(e[cF]=n.map((t=>({event:t,srcTarget:document.documentElement,handler:t=>(({el:e,event:t,handler:n,middleware:r})=>{const s=t.path||t.composedPath&&t.composedPath();(s?s.indexOf(e)<0:!e.contains(t.target))&&pF({event:t,handler:n,middleware:r})})({el:e,event:t,handler:r,middleware:s}),capture:a}))),i){const t={event:"blur",srcTarget:window,handler:t=>(({el:e,event:t,handler:n,middleware:r})=>{setTimeout((()=>{const{activeElement:s}=document;s&&"IFRAME"===s.tagName&&!e.contains(s)&&pF({event:t,handler:n,middleware:r})}),0)})({el:e,event:t,handler:r,middleware:s}),capture:a};e[cF]=[...e[cF],t]}e[cF].forEach((({event:t,srcTarget:n,handler:r})=>setTimeout((()=>{e[cF]&&n.addEventListener(t,r,a)}),0)))}},mF=e=>{(e[cF]||[]).forEach((({event:e,srcTarget:t,handler:n,capture:r})=>t.removeEventListener(e,n,r))),delete e[cF]},gF={beforeMount:fF,updated:(e,{value:t,oldValue:n})=>{JSON.stringify(t)!==JSON.stringify(n)&&(mF(e),fF(e,{value:t}))},unmounted:mF};var vF=uF?gF:{},_F=(e,t,n)=>{if(e.typingUsers&&e.typingUsers.length){const r=e.users.filter((n=>{if(n._id!==t&&-1!==e.typingUsers.indexOf(n._id)&&(!n.status||"offline"!==n.status.state))return!0}));if(!r.length)return;return 2===e.users.length?n.IS_TYPING:r.map((e=>e.username)).join(", ")+" "+n.IS_TYPING}};function yF(e,t){if(t&&t.type)return e.some((e=>t.type.toLowerCase().includes(e)))}function bF(e){return yF(eF,e)}function wF(e){return yF(tF,e)}function xF(e){return yF(eF,e)||yF(tF,e)}function TF(e){return yF(nF,e)}const EF={name:"RoomsContent",components:{SvgIcon:mP,FormatMessage:lF},directives:{clickOutside:vF},props:{currentUserId:{type:[String,Number],required:!0},room:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},roomActions:{type:Array,required:!0}},emits:["room-action-handler"],data:()=>({roomMenuOpened:null}),computed:{getLastMessage(){const e=this.typingUsers;if(e)return e;const t=this.room.lastMessage.content;if(this.room.users.length<=2)return t;const n=this.room.users.find((e=>e._id===this.room.lastMessage.senderId));return this.room.lastMessage.username?`${this.room.lastMessage.username} - ${t}`:n&&n._id!==this.currentUserId?`${n.username} - ${t}`:t},userStatus(){if(!this.room.users||2!==this.room.users.length)return;const e=this.room.users.find((e=>e._id!==this.currentUserId));return e&&e.status?e.status.state:null},typingUsers(){return _F(this.room,this.currentUserId,this.textMessages)},isMessageCheckmarkVisible(){return!this.typingUsers&&this.room.lastMessage&&!this.room.lastMessage.deleted&&this.room.lastMessage.senderId===this.currentUserId&&(this.room.lastMessage.saved||this.room.lastMessage.distributed||this.room.lastMessage.seen)},formattedDuration(){var e,t;const n=null==(t=null==(e=this.room.lastMessage)?void 0:e.files)?void 0:t[0];if(n){if(!n.duration)return`${n.name}.${n.extension}`;let e=Math.floor(n.duration);return(e-(e%=60))/60+(e>9?":":":0")+e}return""},isAudio(){return!!this.room.lastMessage.files&&TF(this.room.lastMessage.files[0])}},methods:{roomActionHandler(e){this.closeRoomMenu(),this.$emit("room-action-handler",{action:e,roomId:this.room.roomId})},closeRoomMenu(){this.roomMenuOpened=null}}},SF={class:"vac-room-container"},kF={class:"vac-name-container vac-text-ellipsis"},CF={class:"vac-title-container"},AF={class:"vac-room-name vac-text-ellipsis"},IF={key:1,class:"vac-text-date"},RF={key:0},MF={key:1,class:"vac-text-ellipsis"},OF={key:3,class:"vac-text-ellipsis"},LF={class:"vac-room-options-container"},NF={key:0,class:"vac-badge-counter vac-room-badge"},PF={key:0,class:"vac-menu-options"},DF={class:"vac-menu-list"},jF=["onClick"];var FF=rP(EF,[["render",function(e,t,n,r,s,o){const i=aO("svg-icon"),a=aO("format-message"),l=uO("click-outside");return iL(),uL("div",SF,[mO(e.$slots,"room-list-item_"+n.room.roomId,{},(()=>[mO(e.$slots,"room-list-avatar_"+n.room.roomId,{},(()=>[n.room.avatar?(iL(),uL("div",{key:0,class:"vac-avatar",style:ZI({"background-image":`url('${n.room.avatar}')`})},null,4)):xL("",!0)])),vL("div",kF,[vL("div",CF,[o.userStatus?(iL(),uL("div",{key:0,class:nR(["vac-state-circle",{"vac-state-online":"online"===o.userStatus}])},null,2)):xL("",!0),vL("div",AF,sR(n.room.roomName),1),n.room.lastMessage?(iL(),uL("div",IF,sR(n.room.lastMessage.timestamp),1)):xL("",!0)]),vL("div",{class:nR(["vac-text-last",{"vac-message-new":n.room.lastMessage&&n.room.lastMessage.new&&!o.typingUsers}])},[o.isMessageCheckmarkVisible?(iL(),uL("span",RF,[mO(e.$slots,"checkmark-icon_"+n.room.roomId,{},(()=>[_L(i,{name:n.room.lastMessage.distributed?"double-checkmark":"checkmark",param:n.room.lastMessage.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])]))])):xL("",!0),n.room.lastMessage&&!n.room.lastMessage.deleted&&o.isAudio?(iL(),uL("div",MF,[mO(e.$slots,"microphone-icon_"+n.room.roomId,{},(()=>[_L(i,{name:"microphone",class:"vac-icon-microphone"})])),wL(" "+sR(o.formattedDuration),1)])):n.room.lastMessage?(iL(),hL(a,{key:2,"message-id":n.room.lastMessage._id,"room-id":n.room.roomId,"room-list":!0,content:o.getLastMessage,deleted:!!n.room.lastMessage.deleted&&!o.typingUsers,users:n.room.users,"text-messages":n.textMessages,linkify:!1,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"single-line":!0},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["message-id","room-id","content","deleted","users","text-messages","text-formatting","link-options"])):xL("",!0),!n.room.lastMessage&&o.typingUsers?(iL(),uL("div",OF,sR(o.typingUsers),1)):xL("",!0),vL("div",LF,[n.room.unreadCount?(iL(),uL("div",NF,sR(n.room.unreadCount),1)):xL("",!0),mO(e.$slots,"room-list-options_"+n.room.roomId,{},(()=>[n.roomActions.length?(iL(),uL("div",{key:0,class:"vac-svg-button vac-list-room-options",onClick:t[0]||(t[0]=YN((e=>s.roomMenuOpened=n.room.roomId),["stop"]))},[mO(e.$slots,"room-list-options-icon_"+n.room.roomId,{},(()=>[_L(i,{name:"dropdown",param:"room"})]))])):xL("",!0),n.roomActions.length?(iL(),hL(EN,{key:1,name:"vac-slide-left"},{default:vM((()=>[s.roomMenuOpened===n.room.roomId?rO((iL(),uL("div",PF,[vL("div",DF,[(iL(!0),uL(eL,null,pO(n.roomActions,(e=>(iL(),uL("div",{key:e.name},[vL("div",{class:"vac-menu-item",onClick:YN((t=>o.roomActionHandler(e)),["stop"])},sR(e.title),9,jF)])))),128))])])),[[l,o.closeRoomMenu]]):xL("",!0)])),_:1})):xL("",!0)]))])],2)])]))])}]]),UF=(e,t,n,r=!1)=>n&&""!==n?e.filter((e=>r?BF(e[t]).startsWith(BF(n)):BF(e[t]).includes(BF(n)))):e;function BF(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const $F={name:"RoomsList",components:{Loader:hP,RoomsSearch:yP,RoomContent:FF},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},showRoomsList:{type:Boolean,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0},roomsLoaded:{type:Boolean,required:!0},room:{type:Object,required:!0},customSearchRoomEnabled:{type:[Boolean,String],default:!1},roomActions:{type:Array,required:!0},scrollDistance:{type:Number,required:!0}},emits:["add-room","search-room","room-action-handler","loading-more-rooms","fetch-room","fetch-more-rooms"],data(){return{filteredRooms:this.rooms||[],observer:null,showLoader:!0,loadingMoreRooms:!1,selectedRoomId:""}},watch:{rooms:{deep:!0,handler(e,t){this.filteredRooms=e,(e.length!==t.length||this.roomsLoaded)&&(this.loadingMoreRooms=!1)}},loadingRooms(e){e||setTimeout((()=>this.initIntersectionObserver()))},loadingMoreRooms(e){this.$emit("loading-more-rooms",e)},roomsLoaded:{immediate:!0,handler(e){e&&(this.loadingMoreRooms=!1,this.loadingRooms||(this.showLoader=!1))}},room:{immediate:!0,handler(e){e&&!this.isMobile&&(this.selectedRoomId=e.roomId)}}},methods:{initIntersectionObserver(){this.observer&&(this.showLoader=!0,this.observer.disconnect());const e=this.$el.querySelector("#infinite-loader-rooms");if(e){const t={root:this.$el.querySelector("#rooms-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver((e=>{e[0].isIntersecting&&this.loadMoreRooms()}),t),this.observer.observe(e)}},searchRoom(e){this.customSearchRoomEnabled?this.$emit("search-room",e.target.value):this.filteredRooms=UF(this.rooms,"roomName",e.target.value)},openRoom(e){(e.roomId!==this.room.roomId||this.isMobile)&&(this.isMobile||(this.selectedRoomId=e.roomId),this.$emit("fetch-room",{room:e}))},loadMoreRooms(){if(!this.loadingMoreRooms){if(this.roomsLoaded)return this.loadingMoreRooms=!1,void(this.showLoader=!1);this.$emit("fetch-more-rooms"),this.loadingMoreRooms=!0}}}},VF={key:0,class:"vac-rooms-empty"},HF={key:1,id:"rooms-list",class:"vac-room-list"},zF=["id","onClick"],qF={key:0,id:"infinite-loader-rooms"};var GF=rP($F,[["render",function(e,t,n,r,s,o){const i=aO("rooms-search"),a=aO("loader"),l=aO("room-content");return rO((iL(),uL("div",{class:nR(["vac-rooms-container",{"vac-rooms-container-full":n.isMobile,"vac-app-border-r":!n.isMobile}])},[mO(e.$slots,"rooms-header"),mO(e.$slots,"rooms-list-search",{},(()=>[_L(i,{rooms:n.rooms,"loading-rooms":n.loadingRooms,"text-messages":n.textMessages,"show-search":n.showSearch,"show-add-room":n.showAddRoom,onSearchRoom:o.searchRoom,onAddRoom:t[0]||(t[0]=t=>e.$emit("add-room"))},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["rooms","loading-rooms","text-messages","show-search","show-add-room","onSearchRoom"])])),_L(a,{show:n.loadingRooms,type:"rooms"},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["show"]),n.loadingRooms||n.rooms.length?xL("",!0):(iL(),uL("div",VF,[mO(e.$slots,"rooms-empty",{},(()=>[wL(sR(n.textMessages.ROOMS_EMPTY),1)]))])),n.loadingRooms?xL("",!0):(iL(),uL("div",HF,[(iL(!0),uL(eL,null,pO(s.filteredRooms,(r=>(iL(),uL("div",{id:r.roomId,key:r.roomId,class:nR(["vac-room-item",{"vac-room-selected":s.selectedRoomId===r.roomId}]),onClick:e=>o.openRoom(r)},[_L(l,{"current-user-id":n.currentUserId,room:r,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"text-messages":n.textMessages,"room-actions":n.roomActions,onRoomActionHandler:t[1]||(t[1]=t=>e.$emit("room-action-handler",t))},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["current-user-id","room","text-formatting","link-options","text-messages","room-actions"])],10,zF)))),128)),_L(EN,{name:"vac-fade-message"},{default:vM((()=>[n.rooms.length&&!n.loadingRooms?(iL(),uL("div",qF,[_L(a,{show:s.showLoader,infinite:!0,type:"infinite-rooms"},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["show"])])):xL("",!0)])),_:3})]))],2)),[[ZN,n.showRoomsList]])}]]);const WF={name:"RoomHeader",components:{SvgIcon:mP},directives:{clickOutside:vF},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},room:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},messageSelectionActions:{type:Array,required:!0},selectedMessagesTotal:{type:Number,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","cancel-message-selection","message-selection-action-handler"],data:()=>({menuOpened:!1,messageSelectionAnimationEnded:!0}),computed:{typingUsers(){return _F(this.room,this.currentUserId,this.textMessages)},userStatus(){if(!this.room.users||2!==this.room.users.length)return;const e=this.room.users.find((e=>e._id!==this.currentUserId));if(!(null==e?void 0:e.status))return;let t="";return"online"===e.status.state?t=this.textMessages.IS_ONLINE:e.status.lastChanged&&(t=this.textMessages.LAST_SEEN+e.status.lastChanged),t}},watch:{messageSelectionEnabled(e){e?this.messageSelectionAnimationEnded=!1:setTimeout((()=>{this.messageSelectionAnimationEnded=!0}),300)}},methods:{menuActionHandler(e){this.closeMenu(),this.$emit("menu-action-handler",e)},closeMenu(){this.menuOpened=!1},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",e)}}},KF={class:"vac-room-header vac-app-border-b"},YF={class:"vac-room-wrapper"},XF={key:0,class:"vac-room-selection"},QF=["id"],ZF=["onClick"],JF={class:"vac-selection-button-count"},eU={class:"vac-text-ellipsis"},tU={class:"vac-room-name vac-text-ellipsis"},nU={key:0,class:"vac-room-info vac-text-ellipsis"},rU={key:1,class:"vac-room-info vac-text-ellipsis"},sU={key:0,class:"vac-menu-options"},oU={class:"vac-menu-list"},iU=["onClick"];var aU=rP(WF,[["render",function(e,t,n,r,s,o){const i=aO("svg-icon"),a=uO("click-outside");return iL(),uL("div",KF,[mO(e.$slots,"room-header",{},(()=>[vL("div",YF,[_L(EN,{name:"vac-slide-up"},{default:vM((()=>[n.messageSelectionEnabled?(iL(),uL("div",XF,[(iL(!0),uL(eL,null,pO(n.messageSelectionActions,(e=>(iL(),uL("div",{id:e.name,key:e.name},[vL("div",{class:"vac-selection-button",onClick:t=>o.messageSelectionActionHandler(e)},[wL(sR(e.title)+" ",1),vL("span",JF,sR(n.selectedMessagesTotal),1)],8,ZF)],8,QF)))),128)),vL("div",{class:"vac-selection-cancel vac-item-clickable",onClick:t[0]||(t[0]=t=>e.$emit("cancel-message-selection"))},sR(n.textMessages.CANCEL_SELECT_MESSAGE),1)])):xL("",!0)])),_:1}),!n.messageSelectionEnabled&&s.messageSelectionAnimationEnded?(iL(),uL(eL,{key:0},[n.singleRoom?xL("",!0):(iL(),uL("div",{key:0,class:nR(["vac-svg-button vac-toggle-button",{"vac-rotate-icon-init":!n.isMobile,"vac-rotate-icon":!n.showRoomsList&&!n.isMobile}]),onClick:t[1]||(t[1]=t=>e.$emit("toggle-rooms-list"))},[mO(e.$slots,"toggle-icon",{},(()=>[_L(i,{name:"toggle"})]))],2)),vL("div",{class:nR(["vac-info-wrapper",{"vac-item-clickable":n.roomInfoEnabled}]),onClick:t[2]||(t[2]=t=>e.$emit("room-info"))},[mO(e.$slots,"room-header-avatar",{},(()=>[n.room.avatar?(iL(),uL("div",{key:0,class:"vac-avatar",style:ZI({"background-image":`url('${n.room.avatar}')`})},null,4)):xL("",!0)])),mO(e.$slots,"room-header-info",{},(()=>[vL("div",eU,[vL("div",tU,sR(n.room.roomName),1),o.typingUsers?(iL(),uL("div",nU,sR(o.typingUsers),1)):(iL(),uL("div",rU,sR(o.userStatus),1))])]))],2),n.room.roomId?mO(e.$slots,"room-options",{key:1},(()=>[n.menuActions.length?(iL(),uL("div",{key:0,class:"vac-svg-button vac-room-options",onClick:t[3]||(t[3]=e=>s.menuOpened=!s.menuOpened)},[mO(e.$slots,"menu-icon",{},(()=>[_L(i,{name:"menu"})]))])):xL("",!0),n.menuActions.length?(iL(),hL(EN,{key:1,name:"vac-slide-left"},{default:vM((()=>[s.menuOpened?rO((iL(),uL("div",sU,[vL("div",oU,[(iL(!0),uL(eL,null,pO(n.menuActions,(e=>(iL(),uL("div",{key:e.name},[vL("div",{class:"vac-menu-item",onClick:t=>o.menuActionHandler(e)},sR(e.title),9,iU)])))),128))])])),[[a,o.closeMenu]]):xL("",!0)])),_:1})):xL("",!0)])):xL("",!0)],64)):xL("",!0)])]))])}]]);function lU(e){if("string"!=typeof e||!e)throw new Error("expected a non-empty string, got: "+e)}function cU(e){if("number"!=typeof e)throw new Error("expected a number, got: "+e)}const uU=1,hU=1,dU="emoji",pU="keyvalue",fU="favorites",mU="tokens",gU="tokens",vU="unicode",_U="count",yU="group",bU="order",wU="group-order",xU="eTag",TU="url",EU="skinTone",SU="readonly",kU="readwrite",CU="skinUnicodes",AU="skinUnicodes";function IU(e){return function(e,t){const n=new Set,r=[];for(const s of e){const e=t(s);n.has(e)||(n.add(e),r.push(s))}return r}(e,(e=>e.unicode))}const RU={},MU={},OU={};function LU(e,t,n){n.onerror=()=>t(n.error),n.onblocked=()=>t(new Error("IDB blocked")),n.onsuccess=()=>e(n.result)}async function NU(e){const t=await new Promise(((t,n)=>{const r=indexedDB.open(e,uU);RU[e]=r,r.onupgradeneeded=e=>{e.oldVersion<hU&&function(e){function t(t,n,r){const s=n?e.createObjectStore(t,{keyPath:n}):e.createObjectStore(t);if(r)for(const[e,[t,n]]of Object.entries(r))s.createIndex(e,t,{multiEntry:n});return s}t(pU),t(dU,vU,{[gU]:[mU,!0],[wU]:[[yU,bU]],[CU]:[AU,!0]}),t(fU,void 0,{[_U]:[""]})}(r.result)},LU(t,n,r)}));return t.onclose=()=>DU(e),t}function PU(e,t,n,r){return new Promise(((s,o)=>{const i=e.transaction(t,n,{durability:"relaxed"}),a="string"==typeof t?i.objectStore(t):t.map((e=>i.objectStore(e)));let l;r(a,i,(e=>{l=e})),i.oncomplete=()=>s(l),i.onerror=()=>o(i.error)}))}function DU(e){const t=RU[e],n=t&&t.result;if(n){n.close();const t=OU[e];if(t)for(const e of t)e()}delete RU[e],delete MU[e],delete OU[e]}const jU=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function FU(e){return e.split(/[\s_]+/).map((e=>!e.match(/\w/)||jU.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase())).filter(Boolean)}const UU=2;function BU(e){return e.filter(Boolean).map((e=>e.toLowerCase())).filter((e=>e.length>=UU))}function $U(e,t,n,r){e[t](n).onsuccess=e=>r&&r(e.target.result)}function VU(e,t,n){$U(e,"get",t,n)}function HU(e,t,n){$U(e,"getAll",t,n)}function zU(e){e.commit&&e.commit()}function qU(e,t){const n=function(e,t){let n=e[0];for(let r=1;r<e.length;r++){const s=e[r];t(n)>t(s)&&(n=s)}return n}(e,(e=>e.length)),r=[];for(const s of n)e.some((e=>-1===e.findIndex((e=>t(e)===t(s)))))||r.push(s);return r}async function GU(e,t,n,r){try{const s=function(e){return e.map((({annotation:e,emoticon:t,group:n,order:r,shortcodes:s,skins:o,tags:i,emoji:a,version:l})=>{const c=[...new Set(BU([...(s||[]).map(FU).flat(),...i.map(FU).flat(),...FU(e),t]))].sort(),u={annotation:e,group:n,order:r,tags:i,tokens:c,unicode:a,version:l};if(t&&(u.emoticon=t),s&&(u.shortcodes=s),o){u.skinTones=[],u.skinUnicodes=[],u.skinVersions=[];for(const{tone:e,emoji:t,version:n}of o)u.skinTones.push(e),u.skinUnicodes.push(t),u.skinVersions.push(n)}return u}))}(t);await PU(e,[dU,pU],kU,(([e,t],o)=>{let i,a,l=0;function c(){2==++l&&function(){if(i===r&&a===n)return;e.clear();for(const t of s)e.put(t);t.put(r,xU),t.put(n,TU),zU(o)}()}VU(t,xU,(e=>{i=e,c()})),VU(t,TU,(e=>{a=e,c()}))}))}finally{}}async function WU(e,t){const n=BU(FU(t));return n.length?PU(e,dU,SU,((e,t,r)=>{const s=[],o=()=>{const e=qU(s,(e=>e.unicode));r(e.sort(((e,t)=>e.order<t.order?-1:1)))};for(let t=0;t<n.length;t++){const r=n[t],i=t===n.length-1?IDBKeyRange.bound(r,r+"￿",!1,!0):IDBKeyRange.only(r);HU(e.index(gU),i,(e=>{s.push(e),s.length===n.length&&o()}))}})):[]}async function KU(e,t){const n=await WU(e,t);if(!n.length){const n=e=>(e.shortcodes||[]).includes(t.toLowerCase());return await async function(e,t){return PU(e,dU,SU,((e,n,r)=>{let s;const o=()=>{e.getAll(s&&IDBKeyRange.lowerBound(s,!0),50).onsuccess=e=>{const n=e.target.result;for(const e of n)if(s=e.unicode,t(e))return r(e);if(n.length<50)return r();o()}};o()}))}(e,n)||null}return n.filter((e=>(e.shortcodes||[]).map((e=>e.toLowerCase())).includes(t.toLowerCase())))[0]||null}function YU(e,t,n){return PU(e,t,SU,((e,t,r)=>VU(e,n,r)))}const XU="";const QU=["name","url"];function ZU(e){!function(e){const t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||QU.some((t=>!(t in e[0]))));if(!t||n)throw new Error("Custom emojis are in the wrong format")}(e);const t=(e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1,n=e.sort(t),r=function(e,t){const n=new Map;for(const r of e){const e=t(r);for(const t of e){let e=n;for(let n=0;n<t.length;n++){const r=t.charAt(n);let s=e.get(r);s||(s=new Map,e.set(r,s)),e=s}let s=e.get(XU);s||(s=[],e.set(XU,s)),s.push(r)}}return(e,t)=>{let r=n;for(let t=0;t<e.length;t++){const n=e.charAt(t),s=r.get(n);if(!s)return[];r=s}if(t)return r.get(XU)||[];const s=[],o=[r];for(;o.length;){const e=[...o.shift().entries()].sort(((e,t)=>e[0]<t[0]?-1:1));for(const[t,n]of e)t===XU?s.push(...n):o.push(n)}return s}}(e,(e=>[...new Set((e.shortcodes||[]).map((e=>FU(e))).flat())])),s=e=>r(e,!0),o=e=>r(e,!1),i=new Map,a=new Map;for(const t of e){a.set(t.name.toLowerCase(),t);for(const e of t.shortcodes||[])i.set(e.toLowerCase(),t)}return{all:n,search:e=>{const n=FU(e),r=n.map(((e,t)=>(t<n.length-1?s:o)(e)));return qU(r,(e=>e.name)).sort(t)},byShortcode:e=>i.get(e.toLowerCase()),byName:e=>a.get(e.toLowerCase())}}function JU(e){if(!e)return e;if(delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function eB(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const tB=["annotation","emoji","group","order","tags","version"];function nB(e,t){if(2!==Math.floor(e.status/100))throw new Error("Failed to fetch: "+t+":  "+e.status)}async function rB(e){const t=await fetch(e);nB(t,e);const n=t.headers.get("etag");eB(n);const r=await t.json();return function(e){if(!e||!Array.isArray(e)||!e[0]||"object"!=typeof e[0]||tB.some((t=>!(t in e[0]))))throw new Error("Emoji data is in the wrong format")}(r),[n,r]}async function sB(e){const t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),s=-1;++s<t;)r[s]=e.charCodeAt(s);return n}(JSON.stringify(e)),n=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,s=-1;++s<r;)t+=String.fromCharCode(n[s]);return t}(await crypto.subtle.digest("SHA-1",t));return btoa(n)}async function oB(e,t){let n,r=await async function(e){const t=await fetch(e,{method:"HEAD"});nB(t,e);const n=t.headers.get("etag");return eB(n),n}(t);if(!r){const e=await rB(t);r=e[0],n=e[1],r||(r=await sB(n))}if(await async function(e,t,n){const[r,s]=await Promise.all([xU,TU].map((t=>YU(e,pU,t))));return r===n&&s===t}(e,t,r));else{if(!n){n=(await rB(t))[1]}await GU(e,n,t,r)}}class iB{constructor({dataSource:e="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",locale:t="en",customEmoji:n=[]}={}){this.dataSource=e,this.locale=t,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=ZU(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await(t=this._dbName,MU[t]||(MU[t]=NU(t)),MU[t]);var t;!function(e,t){let n=OU[e];n||(n=OU[e]=[]),n.push(t)}(this._dbName,this._clear);const n=this.dataSource,r=await async function(e){return!await YU(e,pU,TU)}(e);r?await async function(e,t){let[n,r]=await rB(t);n||(n=await sB(r)),await GU(e,r,t,n)}(e,n):this._lazyUpdate=oB(e,n)}async ready(){const e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return cU(e),await this.ready(),IU(await async function(e,t){return PU(e,dU,SU,((e,n,r)=>{const s=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);HU(e.index(wU),s,r)}))}(this._db,e)).map(JU)}async getEmojiBySearchQuery(e){lU(e),await this.ready();return[...this._custom.search(e),...IU(await WU(this._db,e)).map(JU)]}async getEmojiByShortcode(e){lU(e),await this.ready();const t=this._custom.byShortcode(e);return t||JU(await KU(this._db,e))}async getEmojiByUnicodeOrName(e){lU(e),await this.ready();const t=this._custom.byName(e);return t||JU(await async function(e,t){return PU(e,dU,SU,((e,n,r)=>VU(e,t,(n=>{if(n)return r(n);VU(e.index(CU),t,(e=>r(e||null)))}))))}(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await YU(this._db,pU,EU)||0}async setPreferredSkinTone(e){return cU(e),await this.ready(),function(e,t,n,r){return PU(e,t,kU,((e,t)=>{e.put(r,n),zU(t)}))}(this._db,pU,EU,e)}async incrementFavoriteEmojiCount(e){return lU(e),await this.ready(),function(e,t){return PU(e,fU,kU,((e,n)=>VU(e,t,(r=>{e.put((r||0)+1,t),zU(n)}))))}(this._db,e)}async getTopFavoriteEmoji(e){return cU(e),await this.ready(),(await function(e,t,n){return 0===n?[]:PU(e,[fU,dU],SU,(([e,r],s,o)=>{const i=[];e.index(_U).openCursor(void 0,"prev").onsuccess=e=>{const s=e.target.result;if(!s)return o(i);function a(e){if(i.push(e),i.length===n)return o(i);s.continue()}const l=s.primaryKey,c=t.byName(l);if(c)return a(c);VU(r,l,(e=>{if(e)return a(e);s.continue()}))}}))}(this._db,this._custom,e)).map(JU)}set customEmoji(e){this._custom=ZU(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(e){}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await DU(this._dbName)}async delete(){var e;await this._shutdown(),await(e=this._dbName,new Promise(((t,n)=>{DU(e),LU(t,n,indexedDB.deleteDatabase(e))})))}}function aB(){}function lB(e){return e()}function cB(){return Object.create(null)}function uB(e){e.forEach(lB)}function hB(e){return"function"==typeof e}function dB(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let pB,fB;function mB(e,t){return pB||(pB=document.createElement("a")),pB.href=t,e===pB.href}function gB(e,t){e.appendChild(t)}function vB(e,t,n){e.insertBefore(t,n||null)}function _B(e){e.parentNode.removeChild(e)}function yB(e){return document.createElement(e)}function bB(e){return document.createTextNode(e)}function wB(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function xB(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function TB(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function EB(e,t){e.value=null==t?"":t}function SB(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function kB(e){fB=e}const CB=[],AB=[],IB=[],RB=[],MB=Promise.resolve();let OB=!1;function LB(){OB||(OB=!0,MB.then(jB))}function NB(e){IB.push(e)}const PB=new Set;let DB=0;function jB(){const e=fB;do{for(;DB<CB.length;){const e=CB[DB];DB++,kB(e),FB(e.$$)}for(kB(null),CB.length=0,DB=0;AB.length;)AB.pop()();for(let e=0;e<IB.length;e+=1){const t=IB[e];PB.has(t)||(PB.add(t),t())}IB.length=0}while(CB.length);for(;RB.length;)RB.pop()();OB=!1,PB.clear(),kB(e)}function FB(e){if(null!==e.fragment){e.update(),uB(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(NB)}}const UB=new Set;const BB="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:n.g;function $B(e,t){e.d(1),t.delete(e.key)}function VB(e,t,n,r,s,o,i,a,l,c,u,h){let d=e.length,p=o.length,f=d;const m={};for(;f--;)m[e[f].key]=f;const g=[],v=new Map,_=new Map;for(f=p;f--;){const e=h(s,o,f),a=n(e);let l=i.get(a);l?r&&l.p(e,t):(l=c(a,e),l.c()),v.set(a,g[f]=l),a in m&&_.set(a,Math.abs(f-m[a]))}const y=new Set,b=new Set;function w(e){!function(e,t){e&&e.i&&(UB.delete(e),e.i(t))}(e,1),e.m(a,u),i.set(e.key,e),u=e.first,p--}for(;d&&p;){const t=g[p-1],n=e[d-1],r=t.key,s=n.key;t===n?(u=t.first,d--,p--):v.has(s)?!i.has(r)||y.has(r)?w(t):b.has(s)?d--:_.get(r)>_.get(s)?(b.add(r),w(t)):(y.add(s),d--):(l(n,i),d--)}for(;d--;){const t=e[d];v.has(t.key)||l(t,i)}for(;p;)w(g[p-1]);return g}function HB(e,t,n,r,s,o,i,a=[-1]){const l=fB;kB(e);const c=e.$$={fragment:null,ctx:null,props:o,update:aB,not_equal:s,bound:cB(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:cB(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};i&&i(c.root);let u=!1;c.ctx=n?n(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return c.ctx&&s(c.ctx[t],c.ctx[t]=o)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](o),u&&function(e,t){-1===e.$$.dirty[0]&&(CB.push(e),LB(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),u=!0,uB(c.before_update),c.fragment=!!r&&r(c.ctx),t.target&&(c.fragment&&c.fragment.c(),function(e,t,n,r){const{fragment:s,on_mount:o,on_destroy:i,after_update:a}=e.$$;s&&s.m(t,n),r||NB((()=>{const t=o.map(lB).filter(hB);i?i.push(...t):uB(t),e.$$.on_mount=[]})),a.forEach(NB)}(e,t.target,void 0,void 0),jB()),kB(l)}class zB{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(uB(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=aB}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const qB=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map((([e,t,n])=>({id:e,emoji:t,name:n}))),GB=qB.slice(1),WB=qB[0],KB="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function YB(e){return e.unicode.includes("‍")}const XB={"🫠":14,"🥲":13.1,"🥻":12.1,"🥰":11,"🤩":5,"👱‍♀️":4,"🤣":3,"👁️‍🗨️":2,"😀":1,"😐️":.7,"😃":.6},QB=["😊","😒","♥️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],ZB='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',JB=(e,t)=>e<t?-1:e>t?1:0,e$=(e,t)=>{const n=document.createElement("canvas");n.width=n.height=1;const r=n.getContext("2d");return r.textBaseline="top",r.font=`100px ${ZB}`,r.fillStyle=t,r.scale(.01,.01),r.fillText(e,0,0),r.getImageData(0,0,1,1).data},t$=(e,t)=>{const n=[...e].join(",");return n===[...t].join(",")&&!n.startsWith("0,0,0,")};function n$(e){const t=e$(e,"#000"),n=e$(e,"#fff");return t&&n&&t$(t,n)}const r$=new Promise((e=>KB((()=>e(function(){const e=Object.entries(XB);try{for(const[t,n]of e)if(n$(t))return n}catch(e){}return e[0][1]}()))))),s$=new Map,o$="️",i$="\ud83c",a$="‍",l$=127995,c$=57339;function u$(e){e.preventDefault(),e.stopPropagation()}function h$(e,t,n){return(t+=e?-1:1)<0?t=n.length-1:t>=n.length&&(t=0),t}function d$(e,t){const n=new Set,r=[];for(const s of e){const e=t(s);n.has(e)||(n.add(e),r.push(s))}return r}const p$=requestAnimationFrame;let f$,m$="function"==typeof ResizeObserver;function g$(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}const{Map:v$}=BB;function _$(e,t,n){const r=e.slice();return r[63]=t[n],r[65]=n,r}function y$(e,t,n){const r=e.slice();return r[66]=t[n],r[65]=n,r}function b$(e,t,n){const r=e.slice();return r[63]=t[n],r[65]=n,r}function w$(e,t,n){const r=e.slice();return r[69]=t[n],r}function x$(e,t,n){const r=e.slice();return r[72]=t[n],r[65]=n,r}function T$(e,t){let n,r,s,o,i,a,l,c=t[72]+"";return{key:e,first:null,c(){n=yB("div"),r=bB(c),xB(n,"id",s="skintone-"+t[65]),xB(n,"class",o="emoji hide-focus "+(t[65]===t[20]?"active":"")),xB(n,"aria-selected",i=t[65]===t[20]),xB(n,"role","option"),xB(n,"title",a=t[0].skinTones[t[65]]),xB(n,"tabindex","-1"),xB(n,"aria-label",l=t[0].skinTones[t[65]]),this.first=n},m(e,t){vB(e,n,t),gB(n,r)},p(e,u){t=e,512&u[0]&&c!==(c=t[72]+"")&&TB(r,c),512&u[0]&&s!==(s="skintone-"+t[65])&&xB(n,"id",s),1049088&u[0]&&o!==(o="emoji hide-focus "+(t[65]===t[20]?"active":""))&&xB(n,"class",o),1049088&u[0]&&i!==(i=t[65]===t[20])&&xB(n,"aria-selected",i),513&u[0]&&a!==(a=t[0].skinTones[t[65]])&&xB(n,"title",a),513&u[0]&&l!==(l=t[0].skinTones[t[65]])&&xB(n,"aria-label",l)},d(e){e&&_B(n)}}}function E$(e,t){let n,r,s,o,i,a,l,c,u,h=t[69].emoji+"";function d(){return t[49](t[69])}return{key:e,first:null,c(){n=yB("button"),r=yB("div"),s=bB(h),xB(r,"class","nav-emoji emoji"),xB(n,"role","tab"),xB(n,"class","nav-button"),xB(n,"aria-controls",o="tab-"+t[69].id),xB(n,"aria-label",i=t[0].categories[t[69].name]),xB(n,"aria-selected",a=!t[4]&&t[13].id===t[69].id),xB(n,"title",l=t[0].categories[t[69].name]),this.first=n},m(e,t){vB(e,n,t),gB(n,r),gB(r,s),c||(u=wB(n,"click",d),c=!0)},p(e,r){t=e,4096&r[0]&&h!==(h=t[69].emoji+"")&&TB(s,h),4096&r[0]&&o!==(o="tab-"+t[69].id)&&xB(n,"aria-controls",o),4097&r[0]&&i!==(i=t[0].categories[t[69].name])&&xB(n,"aria-label",i),12304&r[0]&&a!==(a=!t[4]&&t[13].id===t[69].id)&&xB(n,"aria-selected",a),4097&r[0]&&l!==(l=t[0].categories[t[69].name])&&xB(n,"title",l)},d(e){e&&_B(n),c=!1,u()}}}function S$(e){let t,n;return{c(){t=yB("img"),xB(t,"class","custom-emoji"),mB(t.src,n=e[63].url)||xB(t,"src",n),xB(t,"alt",""),xB(t,"loading","lazy")},m(e,n){vB(e,t,n)},p(e,r){32768&r[0]&&!mB(t.src,n=e[63].url)&&xB(t,"src",n)},d(e){e&&_B(t)}}}function k$(e){let t,n=e[27](e[63],e[8])+"";return{c(){t=bB(n)},m(e,n){vB(e,t,n)},p(e,r){33024&r[0]&&n!==(n=e[27](e[63],e[8])+"")&&TB(t,n)},d(e){e&&_B(t)}}}function C$(e,t){let n,r,s,o,i,a,l;function c(e,t){return e[63].unicode?k$:S$}let u=c(t),h=u(t);return{key:e,first:null,c(){n=yB("button"),h.c(),xB(n,"role",r=t[4]?"option":"menuitem"),xB(n,"aria-selected",s=t[4]?t[65]==t[5]:""),xB(n,"aria-label",o=t[28](t[63],t[8])),xB(n,"title",i=t[63].title),xB(n,"class",a="emoji "+(t[4]&&t[65]===t[5]?"active":"")),xB(n,"id",l="emo-"+t[63].id),this.first=n},m(e,t){vB(e,n,t),h.m(n,null)},p(e,d){u===(u=c(t=e))&&h?h.p(t,d):(h.d(1),h=u(t),h&&(h.c(),h.m(n,null))),16&d[0]&&r!==(r=t[4]?"option":"menuitem")&&xB(n,"role",r),32816&d[0]&&s!==(s=t[4]?t[65]==t[5]:"")&&xB(n,"aria-selected",s),33024&d[0]&&o!==(o=t[28](t[63],t[8]))&&xB(n,"aria-label",o),32768&d[0]&&i!==(i=t[63].title)&&xB(n,"title",i),32816&d[0]&&a!==(a="emoji "+(t[4]&&t[65]===t[5]?"active":""))&&xB(n,"class",a),32768&d[0]&&l!==(l="emo-"+t[63].id)&&xB(n,"id",l)},d(e){e&&_B(n),h.d()}}}function A$(e,t){let n,r,s,o,i,a,l,c,u=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"",h=[],d=new v$,p=t[66].emojis;const f=e=>e[63].id;for(let e=0;e<p.length;e+=1){let n=b$(t,p,e),r=f(n);d.set(r,h[e]=C$(r,n))}return{key:e,first:null,c(){n=yB("div"),r=bB(u),i=yB("div");for(let e=0;e<h.length;e+=1)h[e].c();xB(n,"id",s="menu-label-"+t[65]),xB(n,"class",o="category "+(1===t[15].length&&""===t[15][0].category?"gone":"")),xB(n,"aria-hidden","true"),xB(i,"class","emoji-menu"),xB(i,"role",a=t[4]?"listbox":"menu"),xB(i,"aria-labelledby",l="menu-label-"+t[65]),xB(i,"id",c=t[4]?"search-results":""),this.first=n},m(e,t){vB(e,n,t),gB(n,r),vB(e,i,t);for(let e=0;e<h.length;e+=1)h[e].m(i,null)},p(e,m){t=e,40977&m[0]&&u!==(u=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"")&&TB(r,u),32768&m[0]&&s!==(s="menu-label-"+t[65])&&xB(n,"id",s),32768&m[0]&&o!==(o="category "+(1===t[15].length&&""===t[15][0].category?"gone":""))&&xB(n,"class",o),402686256&m[0]&&(p=t[66].emojis,h=VB(h,m,f,1,t,p,d,i,$B,C$,null,b$)),16&m[0]&&a!==(a=t[4]?"listbox":"menu")&&xB(i,"role",a),32768&m[0]&&l!==(l="menu-label-"+t[65])&&xB(i,"aria-labelledby",l),16&m[0]&&c!==(c=t[4]?"search-results":"")&&xB(i,"id",c)},d(e){e&&_B(n),e&&_B(i);for(let e=0;e<h.length;e+=1)h[e].d()}}}function I$(e){let t,n;return{c(){t=yB("img"),xB(t,"class","custom-emoji"),mB(t.src,n=e[63].url)||xB(t,"src",n),xB(t,"alt",""),xB(t,"loading","lazy")},m(e,n){vB(e,t,n)},p(e,r){1024&r[0]&&!mB(t.src,n=e[63].url)&&xB(t,"src",n)},d(e){e&&_B(t)}}}function R$(e){let t,n=e[27](e[63],e[8])+"";return{c(){t=bB(n)},m(e,n){vB(e,t,n)},p(e,r){1280&r[0]&&n!==(n=e[27](e[63],e[8])+"")&&TB(t,n)},d(e){e&&_B(t)}}}function M$(e,t){let n,r,s,o;function i(e,t){return e[63].unicode?R$:I$}let a=i(t),l=a(t);return{key:e,first:null,c(){n=yB("button"),l.c(),xB(n,"role","menuitem"),xB(n,"aria-label",r=t[28](t[63],t[8])),xB(n,"title",s=t[63].title),xB(n,"class","emoji"),xB(n,"id",o="fav-"+t[63].id),this.first=n},m(e,t){vB(e,n,t),l.m(n,null)},p(e,c){a===(a=i(t=e))&&l?l.p(t,c):(l.d(1),l=a(t),l&&(l.c(),l.m(n,null))),1280&c[0]&&r!==(r=t[28](t[63],t[8]))&&xB(n,"aria-label",r),1024&c[0]&&s!==(s=t[63].title)&&xB(n,"title",s),1024&c[0]&&o!==(o="fav-"+t[63].id)&&xB(n,"id",o)},d(e){e&&_B(n),l.d()}}}function O$(e){let t,n,r,s,o,i,a,l,c,u,h,d,p,f,m,g,v,_,y,b,w,x,T,E,S,k,C,A,I,R,M,O,L,N,P,D,j,F,U,B,$,V,H,z,q=e[0].searchLabel+"",G=e[0].searchDescription+"",W=e[0].skinToneDescription+"",K=[],Y=new v$,X=[],Q=new v$,Z=[],J=new v$,ee=[],te=new v$,ne=e[9];const re=e=>e[72];for(let t=0;t<ne.length;t+=1){let n=x$(e,ne,t),r=re(n);Y.set(r,K[t]=T$(r,n))}let se=e[12];const oe=e=>e[69].id;for(let t=0;t<se.length;t+=1){let n=w$(e,se,t),r=oe(n);Q.set(r,X[t]=E$(r,n))}let ie=e[15];const ae=e=>e[66].category;for(let t=0;t<ie.length;t+=1){let n=y$(e,ie,t),r=ae(n);J.set(r,Z[t]=A$(r,n))}let le=e[10];const ce=e=>e[63].id;for(let t=0;t<le.length;t+=1){let n=_$(e,le,t),r=ce(n);te.set(r,ee[t]=M$(r,n))}return{c(){t=yB("section"),n=yB("div"),r=yB("div"),s=yB("div"),o=yB("input"),c=yB("label"),u=bB(q),h=yB("span"),d=bB(G),p=yB("div"),f=yB("button"),m=bB(e[21]),_=yB("span"),y=bB(W),b=yB("div");for(let e=0;e<K.length;e+=1)K[e].c();S=yB("div");for(let e=0;e<X.length;e+=1)X[e].c();C=yB("div"),A=yB("div"),I=yB("div"),R=bB(e[18]),O=yB("div"),L=yB("div");for(let e=0;e<Z.length;e+=1)Z[e].c();F=yB("div");for(let e=0;e<ee.length;e+=1)ee[e].c();$=yB("button"),$.textContent="😀",xB(n,"class","pad-top"),xB(o,"id","search"),xB(o,"class","search"),xB(o,"type","search"),xB(o,"role","combobox"),xB(o,"enterkeyhint","search"),xB(o,"placeholder",i=e[0].searchLabel),xB(o,"autocapitalize","none"),xB(o,"autocomplete","off"),xB(o,"spellcheck","true"),xB(o,"aria-expanded",a=!(!e[4]||!e[1].length)),xB(o,"aria-controls","search-results"),xB(o,"aria-describedby","search-description"),xB(o,"aria-autocomplete","list"),xB(o,"aria-activedescendant",l=e[26]?`emo-${e[26]}`:""),xB(c,"class","sr-only"),xB(c,"for","search"),xB(h,"id","search-description"),xB(h,"class","sr-only"),xB(s,"class","search-wrapper"),xB(f,"id","skintone-button"),xB(f,"class",g="emoji "+(e[6]?"hide-focus":"")),xB(f,"aria-label",e[23]),xB(f,"title",e[23]),xB(f,"aria-describedby","skintone-description"),xB(f,"aria-haspopup","listbox"),xB(f,"aria-expanded",e[6]),xB(f,"aria-controls","skintone-list"),xB(p,"class",v="skintone-button-wrapper "+(e[19]?"expanded":"")),xB(_,"id","skintone-description"),xB(_,"class","sr-only"),xB(b,"id","skintone-list"),xB(b,"class",w="skintone-list "+(e[6]?"":"hidden no-animate")),SB(b,"transform","translateY("+(e[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),xB(b,"role","listbox"),xB(b,"aria-label",x=e[0].skinTonesLabel),xB(b,"aria-activedescendant",T="skintone-"+e[20]),xB(b,"aria-hidden",E=!e[6]),xB(r,"class","search-row"),xB(S,"class","nav"),xB(S,"role","tablist"),SB(S,"grid-template-columns","repeat("+e[12].length+", 1fr)"),xB(S,"aria-label",k=e[0].categoriesLabel),xB(A,"class","indicator"),SB(A,"transform","translateX("+(e[24]?-1:1)*e[11]*100+"%)"),xB(C,"class","indicator-wrapper"),xB(I,"class",M="message "+(e[18]?"":"gone")),xB(I,"role","alert"),xB(I,"aria-live","polite"),xB(O,"class",N="tabpanel "+(!e[14]||e[18]?"gone":"")),xB(O,"role",P=e[4]?"region":"tabpanel"),xB(O,"aria-label",D=e[4]?e[0].searchResultsLabel:e[0].categories[e[13].name]),xB(O,"id",j=e[4]?"":`tab-${e[13].id}`),xB(O,"tabindex","0"),xB(F,"class",U="favorites emoji-menu "+(e[18]?"gone":"")),xB(F,"role","menu"),xB(F,"aria-label",B=e[0].favoritesLabel),SB(F,"padding-inline-end",e[25]+"px"),xB($,"aria-hidden","true"),xB($,"tabindex","-1"),xB($,"class","abs-pos hidden emoji"),xB(t,"class","picker"),xB(t,"aria-label",V=e[0].regionLabel),xB(t,"style",e[22])},m(i,a){vB(i,t,a),gB(t,n),gB(t,r),gB(r,s),gB(s,o),EB(o,e[2]),gB(s,c),gB(c,u),gB(s,h),gB(h,d),gB(r,p),gB(p,f),gB(f,m),gB(r,_),gB(_,y),gB(r,b);for(let e=0;e<K.length;e+=1)K[e].m(b,null);e[48](b),gB(t,S);for(let e=0;e<X.length;e+=1)X[e].m(S,null);gB(t,C),gB(C,A),gB(t,I),gB(I,R),gB(t,O),gB(O,L);for(let e=0;e<Z.length;e+=1)Z[e].m(L,null);e[50](O),gB(t,F);for(let e=0;e<ee.length;e+=1)ee[e].m(F,null);var l;gB(t,$),e[51]($),e[52](t),H||(z=[wB(o,"input",e[47]),wB(o,"keydown",e[30]),wB(f,"click",e[35]),wB(b,"focusout",e[38]),wB(b,"click",e[34]),wB(b,"keydown",e[36]),wB(b,"keyup",e[37]),wB(S,"keydown",e[32]),(l=e[29].call(null,L),l&&hB(l.destroy)?l.destroy:aB),wB(O,"click",e[33]),wB(F,"click",e[33])],H=!0)},p(e,n){1&n[0]&&i!==(i=e[0].searchLabel)&&xB(o,"placeholder",i),18&n[0]&&a!==(a=!(!e[4]||!e[1].length))&&xB(o,"aria-expanded",a),67108864&n[0]&&l!==(l=e[26]?`emo-${e[26]}`:"")&&xB(o,"aria-activedescendant",l),4&n[0]&&EB(o,e[2]),1&n[0]&&q!==(q=e[0].searchLabel+"")&&TB(u,q),1&n[0]&&G!==(G=e[0].searchDescription+"")&&TB(d,G),2097152&n[0]&&TB(m,e[21]),64&n[0]&&g!==(g="emoji "+(e[6]?"hide-focus":""))&&xB(f,"class",g),8388608&n[0]&&xB(f,"aria-label",e[23]),8388608&n[0]&&xB(f,"title",e[23]),64&n[0]&&xB(f,"aria-expanded",e[6]),524288&n[0]&&v!==(v="skintone-button-wrapper "+(e[19]?"expanded":""))&&xB(p,"class",v),1&n[0]&&W!==(W=e[0].skinToneDescription+"")&&TB(y,W),1049089&n[0]&&(ne=e[9],K=VB(K,n,re,1,e,ne,Y,b,$B,T$,null,x$)),64&n[0]&&w!==(w="skintone-list "+(e[6]?"":"hidden no-animate"))&&xB(b,"class",w),64&n[0]&&SB(b,"transform","translateY("+(e[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),1&n[0]&&x!==(x=e[0].skinTonesLabel)&&xB(b,"aria-label",x),1048576&n[0]&&T!==(T="skintone-"+e[20])&&xB(b,"aria-activedescendant",T),64&n[0]&&E!==(E=!e[6])&&xB(b,"aria-hidden",E),12305&n[0]|1&n[1]&&(se=e[12],X=VB(X,n,oe,1,e,se,Q,S,$B,E$,null,w$)),4096&n[0]&&SB(S,"grid-template-columns","repeat("+e[12].length+", 1fr)"),1&n[0]&&k!==(k=e[0].categoriesLabel)&&xB(S,"aria-label",k),16779264&n[0]&&SB(A,"transform","translateX("+(e[24]?-1:1)*e[11]*100+"%)"),262144&n[0]&&TB(R,e[18]),262144&n[0]&&M!==(M="message "+(e[18]?"":"gone"))&&xB(I,"class",M),402694449&n[0]&&(ie=e[15],Z=VB(Z,n,ae,1,e,ie,J,L,$B,A$,null,y$)),278528&n[0]&&N!==(N="tabpanel "+(!e[14]||e[18]?"gone":""))&&xB(O,"class",N),16&n[0]&&P!==(P=e[4]?"region":"tabpanel")&&xB(O,"role",P),8209&n[0]&&D!==(D=e[4]?e[0].searchResultsLabel:e[0].categories[e[13].name])&&xB(O,"aria-label",D),8208&n[0]&&j!==(j=e[4]?"":`tab-${e[13].id}`)&&xB(O,"id",j),402654464&n[0]&&(le=e[10],ee=VB(ee,n,ce,1,e,le,te,F,$B,M$,null,_$)),262144&n[0]&&U!==(U="favorites emoji-menu "+(e[18]?"gone":""))&&xB(F,"class",U),1&n[0]&&B!==(B=e[0].favoritesLabel)&&xB(F,"aria-label",B),33554432&n[0]&&SB(F,"padding-inline-end",e[25]+"px"),1&n[0]&&V!==(V=e[0].regionLabel)&&xB(t,"aria-label",V),4194304&n[0]&&xB(t,"style",e[22])},i:aB,o:aB,d(n){n&&_B(t);for(let e=0;e<K.length;e+=1)K[e].d();e[48](null);for(let e=0;e<X.length;e+=1)X[e].d();for(let e=0;e<Z.length;e+=1)Z[e].d();e[50](null);for(let e=0;e<ee.length;e+=1)ee[e].d();e[51](null),e[52](null),H=!1,uB(z)}}}function L$(e,t,n){let r,s,o,i,a,l,c,u,h,d,{skinToneEmoji:p}=t,{i18n:f}=t,{database:m}=t,{customEmoji:g}=t,{customCategorySorting:v}=t,_=[],y=[],b="",w="",x=!1,T=-1,E=!1,S=!1,k=0,C=0,A="",I=[],R=[],M=8,O=!1,L=0,N=0,P=GB,D=!1;const j=e=>{r.getRootNode().getElementById(e).focus()},F=(e,t)=>{r.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))},U=(e,t)=>t&&e.skins&&e.skins[t]||e.unicode,B=e=>/^skintone-/.test(e.id);function $(e){const t=r.getRootNode();!function(e,t,n){for(const r of e){const e=g$(n(r));void 0===f$&&(f$=g$(t));const s=e/1.8<f$;s$.set(r.unicode,s)}}(e,s,(e=>t.getElementById(`emo-${e.id}`))),n(1,_)}function V(e){return!e.unicode||!YB(e)||s$.get(e.unicode)}async function H(e){const t=await r$;return e.filter((({version:e})=>!e||e<=t))}async function z(e){return function(e,t){const n=e=>{const n={};for(const r of e)"number"==typeof r.tone&&r.version<=t&&(n[r.tone]=r.unicode);return n};return e.map((({unicode:e,skins:t,shortcodes:r,url:s,name:o,category:i})=>({unicode:e,name:o,shortcodes:r,url:s,category:i,id:e||o,skins:t&&n(t),title:(r||[]).join(", ")})))}(e,await r$)}function q(e){n(2,b=""),n(44,w=""),n(5,T=-1),n(11,N=P.findIndex((t=>t.id===e.id)))}async function G(e){const t=await m.getEmojiByUnicodeOrName(e),n=[..._,...R].find((t=>t.id===e)),r=n.unicode&&U(n,k);await m.incrementFavoriteEmojiCount(e),F("emoji-click",{emoji:t,skinTone:k,...r&&{unicode:r},...n.name&&{name:n.name}})}async function W(e){const{target:t}=e;if(!B(t))return;u$(e);const r=parseInt(t.id.slice(9),10);n(8,k=r),n(6,E=!1),j("skintone-button"),F("skin-tone-change",{skinTone:r}),m.setPreferredSkinTone(r)}r$.then((e=>{e||n(18,i=f.emojiUnsupportedMessage)}));return e.$$set=e=>{"skinToneEmoji"in e&&n(40,p=e.skinToneEmoji),"i18n"in e&&n(0,f=e.i18n),"database"in e&&n(39,m=e.database),"customEmoji"in e&&n(41,g=e.customEmoji),"customCategorySorting"in e&&n(42,v=e.customCategorySorting)},e.$$.update=()=>{if(1280&e.$$.dirty[1]&&g&&m&&n(39,m.customEmoji=g,m),1&e.$$.dirty[0]|256&e.$$.dirty[1]){async function t(){let e=!1;const t=setTimeout((()=>{e=!0,n(18,i=f.loadingMessage)}),1e3);try{await m.ready(),n(14,D=!0)}catch(e){console.error(e),n(18,i=f.networkErrorMessage)}finally{clearTimeout(t),e&&(e=!1,n(18,i=""))}}m&&t()}if(6144&e.$$.dirty[0]|1024&e.$$.dirty[1]&&(g&&g.length?n(12,P=[WB,...GB]):P!==GB&&(N&&n(11,N--,N),n(12,P=GB))),4&e.$$.dirty[0]&&KB((()=>{n(44,w=(b||"").trim()),n(5,T=-1)})),6144&e.$$.dirty[0]&&n(13,h=P[N]),24576&e.$$.dirty[0]|8192&e.$$.dirty[1]){async function r(){if(D){if(w.length>=2){const e=w,t=await async function(e){return z(await H(await m.getEmojiBySearchQuery(e)))}(e);e===w&&(n(1,_=t),n(4,x=!0))}else if(h){const e=h.id,t=await async function(e){if(void 0===e)return[];const t=-1===e?g:await m.getEmojiByGroup(e);return z(await H(t))}(e);e===h.id&&(n(1,_=t),n(4,x=!1))}}else n(1,_=[]),n(4,x=!1)}r()}if(4112&e.$$.dirty[0]&&n(22,c=`\n  --font-family: ${ZB};\n  --num-groups: ${P.length}; \n  --indicator-opacity: ${x?0:1}; \n  --num-skintones: 6;`),16384&e.$$.dirty[0]|256&e.$$.dirty[1]){async function s(){D&&n(8,k=await m.getPreferredSkinTone())}s()}if(512&e.$$.dirty[1]&&n(9,I=Array(6).fill().map(((e,t)=>function(e,t){if(0===t)return e;const n=e.indexOf(a$);return-1!==n?e.substring(0,n)+String.fromCodePoint(l$+t-1)+e.substring(n):(e.endsWith(o$)&&(e=e.substring(0,e.length-1)),e+i$+String.fromCodePoint(c$+t-1))}(p,t)))),768&e.$$.dirty[0]&&n(21,l=I[k]),257&e.$$.dirty[0]&&n(23,A=f.skinToneLabel.replace("{skinTone}",f.skinTones[k])),16384&e.$$.dirty[0]|256&e.$$.dirty[1]){async function C(){n(45,u=(await Promise.all(QB.map((e=>m.getEmojiByUnicodeOrName(e))))).filter(Boolean))}D&&C()}if(16384&e.$$.dirty[0]|49408&e.$$.dirty[1]){async function O(){const e=await m.getTopFavoriteEmoji(M),t=await z(d$([...e,...u],(e=>e.unicode||e.name)).slice(0,M));n(10,R=t)}D&&u&&O()}if(10&e.$$.dirty[0]){const L=_.filter((e=>e.unicode)).filter((e=>YB(e)&&!s$.has(e.unicode)));L.length?p$((()=>$(L))):(n(1,_=_.filter(V)),p$((()=>{(o||{}).scrollTop=0})))}if(e.$$.dirty[0],e.$$.dirty[1],18&e.$$.dirty[0]|2048&e.$$.dirty[1]){let j=function(){if(x)return[{category:"",emojis:_}];const e=new Map;for(const t of _){const n=t.category||"";let r=e.get(n);r||(r=[],e.set(n,r)),r.push(t)}return[...e.entries()].map((([e,t])=>({category:e,emojis:t}))).sort(((e,t)=>v(e.category,t.category)))};n(15,y=j())}34&e.$$.dirty[0]&&n(26,d=-1!==T&&_[T].id),192&e.$$.dirty[0]&&(E?a.addEventListener("transitionend",(()=>{n(19,S=!0)}),{once:!0}):n(19,S=!1))},[f,_,b,o,x,T,E,a,k,I,R,N,P,h,D,y,r,s,i,S,C,l,c,A,O,L,d,U,(e,t)=>{return(n=[e.name||U(e,t),...e.shortcodes||[]],d$(n,(e=>e))).join(", ");var n},function(e){return function(e,t){let n;return m$?(n=new ResizeObserver((e=>t(e[0].contentRect.width))),n.observe(e)):p$((()=>t(e.getBoundingClientRect().width))),{destroy(){n&&n.disconnect()}}}(e,(t=>{{const s=getComputedStyle(r),o=parseInt(s.getPropertyValue("--num-columns"),10),i="rtl"===s.getPropertyValue("direction"),a=e.parentElement.getBoundingClientRect().width-t;n(46,M=o),n(25,L=a),n(24,O=i)}}))},function(e){if(!x||!_.length)return;const t=t=>{u$(e),n(5,T=h$(t,T,_))};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==T)return u$(e),G(_[T].id);_.length&&n(5,T=0)}},q,function(e){const{target:t,key:n}=e,r=t=>{t&&(u$(e),t.focus())};switch(n){case"ArrowLeft":return r(t.previousSibling);case"ArrowRight":return r(t.nextSibling);case"Home":return r(t.parentElement.firstChild);case"End":return r(t.parentElement.lastChild)}},async function(e){const{target:t}=e;if(!t.classList.contains("emoji"))return;u$(e),G(t.id.substring(4))},W,async function(e){n(6,E=!E),n(20,C=k),E&&(u$(e),p$((()=>j(`skintone-${C}`))))},function(e){if(!E)return;const t=async t=>{u$(e),n(20,C=t),await(LB(),MB),j(`skintone-${C}`)};switch(e.key){case"ArrowUp":return t(h$(!0,C,I));case"ArrowDown":return t(h$(!1,C,I));case"Home":return t(0);case"End":return t(I.length-1);case"Enter":return W(e);case"Escape":return u$(e),n(6,E=!1),j("skintone-button")}},function(e){if(E)return" "===e.key?W(e):void 0},async function(e){const{relatedTarget:t}=e;t&&B(t)||n(6,E=!1)},m,p,g,v,!0,w,u,M,function(){b=this.value,n(2,b)},function(e){AB[e?"unshift":"push"]((()=>{a=e,n(7,a)}))},e=>q(e),function(e){AB[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){AB[e?"unshift":"push"]((()=>{s=e,n(17,s)}))},function(e){AB[e?"unshift":"push"]((()=>{r=e,n(16,r)}))}]}class N$ extends zB{constructor(e){super(),HB(this,e,L$,O$,dB,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}var P$={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const D$=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class j$ extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});const t=document.createElement("style");t.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(t),this._ctx={locale:"en",dataSource:"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",skinToneEmoji:"🖐️",customCategorySorting:JB,customEmoji:null,i18n:P$,...e};for(const e of D$)"database"!==e&&Object.prototype.hasOwnProperty.call(this,e)&&(this._ctx[e]=this[e],delete this[e]);this._dbFlush()}connectedCallback(){this._cmp=new N$({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e&&e.close().catch((e=>console.error(e)))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(e,t,n){this._set(e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),n)}_set(e,t){this._ctx[e]=t,this._cmp&&this._cmp.$set({[e]:t}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){const{locale:e,dataSource:t,database:n}=this._ctx;n&&n.locale===e&&n.dataSource===t||this._set("database",new iB({locale:e,dataSource:t}))}_dbFlush(){Promise.resolve().then((()=>this._dbCreate()))}}const F$={};for(const e of D$)F$[e]={get(){return"database"===e&&this._dbCreate(),this._ctx[e]},set(t){if("database"===e)throw new Error("database is read-only");this._set(e,t)}};function U$(e,t){for(;e&&!e.querySelector(t);){const n=(e=e.parentNode).querySelector(t);if(n)return n}return null}Object.defineProperties(j$.prototype,F$),customElements.get("emoji-picker")||customElements.define("emoji-picker",j$);const B$={name:"EmojiPickerContainer",components:{SvgIcon:mP},props:{emojiOpened:{type:Boolean,default:!1},emojiReaction:{type:Boolean,default:!1},positionTop:{type:Boolean,default:!1},positionRight:{type:Boolean,default:!1},messageId:{type:String,default:""},emojiDataSource:{type:String,default:void 0}},emits:["add-emoji","open-emoji"],data:()=>({emojiPickerHeight:320,emojiPickerTop:0,emojiPickerRight:""}),watch:{emojiOpened(e){e&&setTimeout((()=>{this.addCustomStyling(),this.$refs.emojiPicker.shadowRoot.addEventListener("emoji-click",(({detail:e})=>{this.$emit("add-emoji",{unicode:e.unicode})}))}),0)}},methods:{addCustomStyling(){const e=document.createElement("style");e.textContent=".picker {\n\t\t\t\tborder: none;\n\t\t\t}.nav {\n\t\t\t\toverflow-x: auto;\n\t\t\t}.search-wrapper {\n\t\t\t\tpadding-right: 2px;\n\t\t\t\tpadding-left: 2px;\n\t\t\t}input.search {\n\t\t\t\theight: 32px;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tborder-radius: 10rem;\n\t\t\t\tborder: var(--chat-border-style);\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\toutline: none;\n\t\t\t\tbackground: var(--chat-bg-color-input);\n\t\t\t\tcolor: var(--chat-color);\n\t\t\t}",this.$refs.emojiPicker.shadowRoot.appendChild(e)},openEmoji(e){this.$emit("open-emoji",!this.emojiOpened),this.setEmojiPickerPosition(e.clientY,e.view.innerWidth,e.view.innerHeight)},setEmojiPickerPosition(e,t,n){const r=t<500||n<700,s=U$(this.$el,"#room-footer");if(s)if(r)this.emojiPickerRight=t/2-(this.positionTop?200:150)+"px",this.emojiPickerTop=100,this.emojiPickerHeight=n-200;else{const t=s.getBoundingClientRect().top-e>this.emojiPickerHeight-50;this.emojiPickerTop=t?e+10:e-this.emojiPickerHeight-10,this.emojiPickerRight=this.positionTop?"0px":this.positionRight?"60px":""}else r&&(this.emojiPickerRight="-50px")}}},$$={class:"vac-emoji-wrapper"};var V$=rP(B$,[["render",function(e,t,n,r,s,o){const i=aO("svg-icon"),a=aO("emoji-picker");return iL(),uL("div",$$,[vL("div",{class:nR(["vac-svg-button",{"vac-emoji-reaction":n.emojiReaction}]),onClick:t[0]||(t[0]=(...e)=>o.openEmoji&&o.openEmoji(...e))},[mO(e.$slots,n.messageId?"emoji-picker-reaction-icon_"+n.messageId:"emoji-picker-icon",{},(()=>[_L(i,{name:"emoji",param:n.emojiReaction?"reaction":""},null,8,["param"])]))],2),n.emojiOpened?(iL(),hL(EN,{key:0,name:"vac-slide-up",appear:""},{default:vM((()=>[vL("div",{class:nR(["vac-emoji-picker",{"vac-picker-reaction":n.emojiReaction}]),style:ZI({height:`${s.emojiPickerHeight}px`,top:n.positionTop?s.emojiPickerHeight:`${s.emojiPickerTop}px`,right:s.emojiPickerRight,display:s.emojiPickerTop||!n.emojiReaction?"initial":"none"})},[n.emojiOpened?(iL(),hL(a,{key:0,ref:"emojiPicker","data-source":n.emojiDataSource},null,8,["data-source"])):xL("",!0)],6)])),_:1})):xL("",!0)])}]]);const H$={class:"vac-room-file-container"},z$=["src"],q$={class:"vac-text-ellipsis"},G$={key:0,class:"vac-text-ellipsis vac-text-extension"};var W$=rP({name:"RoomFiles",components:{Loader:hP,SvgIcon:mP},props:{file:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["remove-file"],computed:{isImage(){return bF(this.file)},isVideo(){return wF(this.file)}}},[["render",function(e,t,n,r,s,o){const i=aO("loader"),a=aO("svg-icon");return iL(),uL("div",H$,[_L(i,{show:n.file.loading,type:"room-file"},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["show"]),vL("div",{class:"vac-svg-button vac-icon-remove",onClick:t[0]||(t[0]=t=>e.$emit("remove-file",n.index))},[mO(e.$slots,"image-close-icon",{},(()=>[_L(a,{name:"close",param:"image"})]))]),o.isImage?(iL(),uL("div",{key:0,class:nR(["vac-message-image",{"vac-blur-loading":n.file.loading}]),style:ZI({"background-image":`url('${n.file.localUrl||n.file.url}')`})},null,6)):o.isVideo?(iL(),uL("video",{key:1,controls:"",class:nR({"vac-blur-loading":n.file.loading})},[vL("source",{src:n.file.localUrl||n.file.url},null,8,z$)],2)):(iL(),uL("div",{key:2,class:nR(["vac-file-container",{"vac-blur-loading":n.file.loading}])},[vL("div",null,[mO(e.$slots,"file-icon",{},(()=>[_L(a,{name:"file"})]))]),vL("div",q$,sR(n.file.name),1),n.file.extension?(iL(),uL("div",G$,sR(n.file.extension),1)):xL("",!0)],2))])}]]);const K$={key:0,class:"vac-room-files-container"},Y$={class:"vac-files-box"},X$={class:"vac-icon-close"};var Q$=rP({name:"RoomFiles",components:{SvgIcon:mP,RoomFile:W$},props:{files:{type:Array,required:!0}},emits:["remove-file","reset-message"],computed:{}},[["render",function(e,t,n,r,s,o){const i=aO("room-file"),a=aO("svg-icon");return iL(),hL(EN,{name:"vac-slide-up"},{default:vM((()=>[n.files.length?(iL(),uL("div",K$,[vL("div",Y$,[(iL(!0),uL(eL,null,pO(n.files,((n,r)=>(iL(),uL("div",{key:r},[_L(i,{file:n,index:r,onRemoveFile:t[0]||(t[0]=t=>e.$emit("remove-file",t))},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["file","index"])])))),128))]),vL("div",X$,[vL("div",{class:"vac-svg-button",onClick:t[1]||(t[1]=t=>e.$emit("reset-message"))},[mO(e.$slots,"files-close-icon",{},(()=>[_L(a,{name:"close-outline"})]))])])])):xL("",!0)])),_:3})}]]);const Z$={props:{percentage:{type:Number,default:0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","change-linehead"],data:()=>({isMouseDown:!1}),methods:{onMouseDown(e){if(this.messageSelectionEnabled)return;this.isMouseDown=!0;const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseUp(e){if(this.messageSelectionEnabled)return;this.isMouseDown=!1,document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t)},onMouseMove(e){if(this.messageSelectionEnabled)return;const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t)},calculateLineHeadPosition(e,t){const n=t.getBoundingClientRect().width,r=t.getBoundingClientRect().left;let s=(e.clientX-r)/n;return s=s<0?0:s,s=s>1?1:s,s}}},J$={class:"vac-player-progress"},eV={class:"vac-line-container"};const tV={name:"AudioPlayer",components:{SvgIcon:mP,AudioControl:rP(Z$,[["render",function(e,t,n,r,s,o){return iL(),uL("div",{ref:"progress",class:"vac-player-bar",onMousedown:t[0]||(t[0]=(...e)=>o.onMouseDown&&o.onMouseDown(...e)),onMouseover:t[1]||(t[1]=t=>e.$emit("hover-audio-progress",!0)),onMouseout:t[2]||(t[2]=t=>e.$emit("hover-audio-progress",!1))},[vL("div",J$,[vL("div",eV,[vL("div",{class:"vac-line-progress",style:ZI({width:`${n.percentage}%`})},null,4),vL("div",{class:nR(["vac-line-dot",{"vac-line-dot__active":s.isMouseDown}]),style:ZI({left:`${n.percentage}%`})},null,6)])])],544)}]])},props:{messageId:{type:[String,Number],default:null},src:{type:String,default:null},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","update-progress-time"],data(){return{isPlaying:!1,duration:this.convertTimeMMSS(0),playedTime:this.convertTimeMMSS(0),progress:0}},computed:{playerUniqId(){return`audio-player${this.messageId}`},audioSource(){return this.src?this.src:(this.resetProgress(),null)}},mounted(){this.player=this.$el.querySelector("#"+this.playerUniqId),this.player.addEventListener("ended",(()=>{this.isPlaying=!1})),this.player.addEventListener("loadeddata",(()=>{this.resetProgress(),this.duration=this.convertTimeMMSS(this.player.duration),this.updateProgressTime()})),this.player.addEventListener("timeupdate",this.onTimeUpdate)},methods:{convertTimeMMSS:e=>new Date(1e3*e).toISOString().substr(14,5),playback(){!this.messageSelectionEnabled&&this.audioSource&&(this.isPlaying?this.player.pause():setTimeout((()=>this.player.play())),this.isPlaying=!this.isPlaying)},resetProgress(){this.isPlaying&&this.player.pause(),this.duration=this.convertTimeMMSS(0),this.playedTime=this.convertTimeMMSS(0),this.progress=0,this.isPlaying=!1,this.updateProgressTime()},onTimeUpdate(){this.playedTime=this.convertTimeMMSS(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100,this.updateProgressTime()},onUpdateProgress(e){e&&(this.player.currentTime=e*this.player.duration)},updateProgressTime(){this.$emit("update-progress-time",this.progress>1?this.playedTime:this.duration)}}},nV={class:"vac-audio-player"},rV=["id","src"];var sV=rP(tV,[["render",function(e,t,n,r,s,o){const i=aO("svg-icon"),a=aO("audio-control");return iL(),uL("div",null,[vL("div",nV,[vL("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=(...e)=>o.playback&&o.playback(...e))},[s.isPlaying?mO(e.$slots,"audio-pause-icon_"+n.messageId,{key:0},(()=>[_L(i,{name:"audio-pause"})])):mO(e.$slots,"audio-play-icon_"+n.messageId,{key:1},(()=>[_L(i,{name:"audio-play"})]))]),_L(a,{percentage:s.progress,"message-selection-enabled":n.messageSelectionEnabled,onChangeLinehead:o.onUpdateProgress,onHoverAudioProgress:t[1]||(t[1]=t=>e.$emit("hover-audio-progress",t))},null,8,["percentage","message-selection-enabled","onChangeLinehead"]),vL("audio",{id:o.playerUniqId,src:o.audioSource},null,8,rV)])])}]]);const oV={name:"RoomMessageReply",components:{SvgIcon:mP,FormatMessage:lF,AudioPlayer:sV},props:{room:{type:Object,required:!0},messageReply:{type:Object,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["reset-message"],computed:{firstFile(){var e,t;return(null==(t=null==(e=this.messageReply)?void 0:e.files)?void 0:t.length)?this.messageReply.files[0]:{}},isImage(){return bF(this.firstFile)},isVideo(){return wF(this.firstFile)},isAudio(){return TF(this.firstFile)},isOtherFile(){var e,t;return(null==(t=null==(e=this.messageReply)?void 0:e.files)?void 0:t.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},iV={key:0,class:"vac-reply-container"},aV={class:"vac-reply-box"},lV={class:"vac-reply-info"},cV={class:"vac-reply-username"},uV={class:"vac-reply-content"},hV=["src"],dV={key:1,controls:"",class:"vac-image-reply"},pV=["src"],fV={key:3,class:"vac-image-reply vac-file-container"},mV={class:"vac-text-ellipsis"},gV={key:0,class:"vac-text-ellipsis vac-text-extension"},vV={class:"vac-icon-reply"};var _V=rP(oV,[["render",function(e,t,n,r,s,o){const i=aO("format-message"),a=aO("audio-player"),l=aO("svg-icon");return iL(),hL(EN,{name:"vac-slide-up"},{default:vM((()=>[n.messageReply?(iL(),uL("div",iV,[vL("div",aV,[vL("div",lV,[vL("div",cV,sR(n.messageReply.username),1),vL("div",uV,[_L(i,{"message-id":n.messageReply._id,content:n.messageReply.content,users:n.room.users,"text-formatting":n.textFormatting,"link-options":n.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])]),o.isImage?(iL(),uL("img",{key:0,src:o.firstFile.url,class:"vac-image-reply"},null,8,hV)):o.isVideo?(iL(),uL("video",dV,[vL("source",{src:o.firstFile.url},null,8,pV)])):o.isAudio?(iL(),hL(a,{key:2,src:o.firstFile.url,"message-selection-enabled":!1,class:"vac-audio-reply"},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["src"])):o.isOtherFile?(iL(),uL("div",fV,[vL("div",null,[mO(e.$slots,"file-icon",{},(()=>[_L(l,{name:"file"})]))]),vL("div",mV,sR(o.firstFile.name),1),o.firstFile.extension?(iL(),uL("div",gV,sR(o.firstFile.extension),1)):xL("",!0)])):xL("",!0)]),vL("div",vV,[vL("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=t=>e.$emit("reset-message"))},[mO(e.$slots,"reply-close-icon",{},(()=>[_L(l,{name:"close-outline"})]))])])])):xL("",!0)])),_:3})}]]);const yV={name:"RoomUsersTag",props:{filteredUsersTag:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-user-tag","activate-item"],data:()=>({activeItem:null}),watch:{filteredUsersTag(e,t){t.length&&e.length===t.length||(this.activeItem=0)},selectItem(e){e&&this.$emit("select-user-tag",this.filteredUsersTag[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredUsersTag.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},bV={key:0,class:"vac-tags-container"},wV=["onMouseover","onClick"],xV={class:"vac-tags-info"},TV={class:"vac-tags-username"};var EV=rP(yV,[["render",function(e,t,n,r,s,o){return iL(),hL(EN,{name:"vac-slide-up"},{default:vM((()=>[n.filteredUsersTag.length?(iL(),uL("div",bV,[(iL(!0),uL(eL,null,pO(n.filteredUsersTag,((t,n)=>(iL(),uL("div",{key:t._id,class:nR(["vac-tags-box",{"vac-tags-box-active":n===s.activeItem}]),onMouseover:e=>s.activeItem=n,onClick:n=>e.$emit("select-user-tag",t)},[vL("div",xV,[t.avatar?(iL(),uL("div",{key:0,class:"vac-avatar vac-tags-avatar",style:ZI({"background-image":`url('${t.avatar}')`})},null,4)):xL("",!0),vL("div",TV,sR(t.username),1)])],42,wV)))),128))])):xL("",!0)])),_:1})}]]);const SV={name:"RoomEmojis",props:{filteredEmojis:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-emoji","activate-item"],data:()=>({activeItem:null}),watch:{filteredEmojis(e,t){t.length&&e.length===t.length||(this.activeItem=0)},selectItem(e){e&&this.$emit("select-emoji",this.filteredEmojis[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredEmojis.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},kV={key:0,class:"vac-emojis-container"},CV=["onMouseover","onClick"];var AV=rP(SV,[["render",function(e,t,n,r,s,o){return iL(),hL(EN,{name:"vac-slide-up"},{default:vM((()=>[n.filteredEmojis.length?(iL(),uL("div",kV,[(iL(!0),uL(eL,null,pO(n.filteredEmojis,((t,n)=>(iL(),uL("div",{key:t,class:nR(["vac-emoji-element",{"vac-emoji-element-active":n===s.activeItem}]),onMouseover:e=>s.activeItem=n,onClick:n=>e.$emit("select-emoji",t)},sR(t),43,CV)))),128))])):xL("",!0)])),_:1})}]]);const IV={name:"RoomTemplatesText",props:{filteredTemplatesText:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-template-text","activate-item"],data:()=>({activeItem:null}),watch:{filteredTemplatesText(e,t){t.length&&e.length===t.length||(this.activeItem=0)},selectItem(e){e&&this.$emit("select-template-text",this.filteredTemplatesText[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredTemplatesText.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},RV={key:0,class:"vac-template-container vac-app-box-shadow"},MV=["onMouseover","onClick"],OV={class:"vac-template-info"},LV={class:"vac-template-tag"},NV={class:"vac-template-text"};var PV=rP(IV,[["render",function(e,t,n,r,s,o){return iL(),hL(EN,{name:"vac-slide-up"},{default:vM((()=>[n.filteredTemplatesText.length?(iL(),uL("div",RV,[(iL(!0),uL(eL,null,pO(n.filteredTemplatesText,((t,n)=>(iL(),uL("div",{key:n,class:nR(["vac-template-box",{"vac-template-active":n===s.activeItem}]),onMouseover:e=>s.activeItem=n,onClick:n=>e.$emit("select-template-text",t)},[vL("div",OV,[vL("div",LV," /"+sR(t.tag),1),vL("div",NV,sR(t.text),1)])],42,MV)))),128))])):xL("",!0)])),_:1})}]]);function DV(e){return new Int16Array(e)}function jV(e){return new Int32Array(e)}function FV(e){return new Float32Array(e)}var UV={fill:function(e,t,n,r){if(2==arguments.length)for(var s=0;s<e.length;s++)e[s]=arguments[1];else for(s=t;s<n;s++)e[s]=r}},BV={arraycopy:function(e,t,n,r,s){for(var o=t+s;t<o;)n[r++]=e[t++]},out:{}};BV.out.println=function(e){console.log(e)},BV.out.printf=function(){console.log.apply(console,arguments)};var $V={};function VV(e){this.ordinal=e}$V.SQRT2=1.4142135623730951,$V.FAST_LOG10=function(e){return Math.log10(e)},$V.FAST_LOG10_X=function(e,t){return Math.log10(e)*t},VV.short_block_allowed=new VV(0),VV.short_block_coupled=new VV(1),VV.short_block_dispensed=new VV(2),VV.short_block_forced=new VV(3);var HV={};function zV(e){this.ordinal=e}HV.MAX_VALUE=34028235e31,zV.vbr_off=new zV(0),zV.vbr_mt=new zV(1),zV.vbr_rh=new zV(2),zV.vbr_abr=new zV(3),zV.vbr_mtrh=new zV(4),zV.vbr_default=zV.vbr_mtrh;var qV={System:BV,VbrMode:zV,Float:HV,ShortBlock:VV,Util:$V,Arrays:UV,new_array_n:function e(t){if(1==t.length)return new Array(t[0]);var n=t[0];t=t.slice(1);for(var r=[],s=0;s<n;s++)r.push(e(t));return r},new_byte:function(e){return new Int8Array(e)},new_double:function(e){return new Float64Array(e)},new_float:FV,new_float_n:function e(t){if(1==t.length)return FV(t[0]);var n=t[0];t=t.slice(1);for(var r=[],s=0;s<n;s++)r.push(e(t));return r},new_int:jV,new_int_n:function e(t){if(1==t.length)return jV(t[0]);var n=t[0];t=t.slice(1);for(var r=[],s=0;s<n;s++)r.push(e(t));return r},new_short:DV,new_short_n:function e(t){if(1==t.length)return DV(t[0]);var n=t[0];t=t.slice(1);for(var r=[],s=0;s<n;s++)r.push(e(t));return r},assert:function(e){}},GV=qV.System,WV=qV.Util,KV=qV.Arrays,YV=qV.new_float;function XV(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*WV.SQRT2*.5/2384e-9,.017876148*WV.SQRT2*.5/2384e-9,.003134727*WV.SQRT2*.5/2384e-9,.002457142*WV.SQRT2*.5/2384e-9,971317e-9*WV.SQRT2*.5/2384e-9,218868e-9*WV.SQRT2*.5/2384e-9,101566e-9*WV.SQRT2*.5/2384e-9,13828e-9*WV.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],t=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],n=t[uH.SHORT_TYPE],r=t[uH.SHORT_TYPE],s=t[uH.SHORT_TYPE],o=t[uH.SHORT_TYPE],i=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function a(t,n,r){for(var s,o,i,a=10,l=n+238-14-286,c=-15;c<0;c++){var u,h,d;u=e[a+-10],h=t[l+-224]*u,d=t[n+224]*u,u=e[a+-9],h+=t[l+-160]*u,d+=t[n+160]*u,u=e[a+-8],h+=t[l+-96]*u,d+=t[n+96]*u,u=e[a+-7],h+=t[l+-32]*u,d+=t[n+32]*u,u=e[a+-6],h+=t[l+32]*u,d+=t[n+-32]*u,u=e[a+-5],h+=t[l+96]*u,d+=t[n+-96]*u,u=e[a+-4],h+=t[l+160]*u,d+=t[n+-160]*u,u=e[a+-3],h+=t[l+224]*u,d+=t[n+-224]*u,u=e[a+-2],h+=t[n+-256]*u,d-=t[l+256]*u,u=e[a+-1],h+=t[n+-192]*u,d-=t[l+192]*u,u=e[a+0],h+=t[n+-128]*u,d-=t[l+128]*u,u=e[a+1],h+=t[n+-64]*u,d-=t[l+64]*u,u=e[a+2],h+=t[n+0]*u,d-=t[l+0]*u,u=e[a+3],h+=t[n+64]*u,d-=t[l+-64]*u,u=e[a+4],h+=t[n+128]*u,d-=t[l+-128]*u,u=e[a+5],h+=t[n+192]*u,u=(d-=t[l+-192]*u)-(h*=e[a+6]),r[30+2*c]=d+h,r[31+2*c]=e[a+7]*u,a+=18,n--,l++}d=t[n+-16]*e[a+-10],h=t[n+-32]*e[a+-2],d+=(t[n+-48]-t[n+16])*e[a+-9],h+=t[n+-96]*e[a+-1],d+=(t[n+-80]+t[n+48])*e[a+-8],h+=t[n+-160]*e[a+0],d+=(t[n+-112]-t[n+80])*e[a+-7],h+=t[n+-224]*e[a+1],d+=(t[n+-144]+t[n+112])*e[a+-6],h-=t[n+32]*e[a+2],d+=(t[n+-176]-t[n+144])*e[a+-5],h-=t[n+96]*e[a+3],d+=(t[n+-208]+t[n+176])*e[a+-4],h-=t[n+160]*e[a+4],d+=(t[n+-240]-t[n+208])*e[a+-3],s=(h-=t[n+224])-d,o=h+d,d=r[14],h=r[15]-d,r[31]=o+d,r[30]=s+h,r[15]=s-h,r[14]=o-d,i=r[28]-r[0],r[0]+=r[28],r[28]=i*e[a+-36+7],i=r[29]-r[1],r[1]+=r[29],r[29]=i*e[a+-36+7],i=r[26]-r[2],r[2]+=r[26],r[26]=i*e[a+-72+7],i=r[27]-r[3],r[3]+=r[27],r[27]=i*e[a+-72+7],i=r[24]-r[4],r[4]+=r[24],r[24]=i*e[a+-108+7],i=r[25]-r[5],r[5]+=r[25],r[25]=i*e[a+-108+7],i=r[22]-r[6],r[6]+=r[22],r[22]=i*WV.SQRT2,i=r[23]-r[7],r[7]+=r[23],r[23]=i*WV.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],i=r[6],r[6]=r[31]-i,r[31]=r[31]+i,i=r[7],r[7]=r[30]-i,r[30]=r[30]+i,i=r[22],r[22]=r[15]-i,r[15]=r[15]+i,i=r[23],r[23]=r[14]-i,r[14]=r[14]+i,i=r[20]-r[8],r[8]+=r[20],r[20]=i*e[a+-180+7],i=r[21]-r[9],r[9]+=r[21],r[21]=i*e[a+-180+7],i=r[18]-r[10],r[10]+=r[18],r[18]=i*e[a+-216+7],i=r[19]-r[11],r[11]+=r[19],r[19]=i*e[a+-216+7],i=r[16]-r[12],r[12]+=r[16],r[16]=i*e[a+-252+7],i=r[17]-r[13],r[13]+=r[17],r[17]=i*e[a+-252+7],i=-r[20]+r[24],r[20]+=r[24],r[24]=i*e[a+-216+7],i=-r[21]+r[25],r[21]+=r[25],r[25]=i*e[a+-216+7],i=r[4]-r[8],r[4]+=r[8],r[8]=i*e[a+-216+7],i=r[5]-r[9],r[5]+=r[9],r[9]=i*e[a+-216+7],i=r[0]-r[12],r[0]+=r[12],r[12]=i*e[a+-72+7],i=r[1]-r[13],r[1]+=r[13],r[13]=i*e[a+-72+7],i=r[16]-r[28],r[16]+=r[28],r[28]=i*e[a+-72+7],i=-r[17]+r[29],r[17]+=r[29],r[29]=i*e[a+-72+7],i=WV.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=i,i=WV.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=i,i=WV.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=i-r[18],i=WV.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=i-r[19],i=r[2],r[19]-=r[3],r[3]-=i,r[2]=r[31]-i,r[31]+=i,i=r[3],r[11]-=r[19],r[18]-=i,r[3]=r[30]-i,r[30]+=i,i=r[18],r[27]-=r[11],r[19]-=i,r[18]=r[15]-i,r[15]+=i,i=r[19],r[10]-=i,r[19]=r[14]-i,r[14]+=i,i=r[10],r[11]-=i,r[10]=r[23]-i,r[23]+=i,i=r[11],r[26]-=i,r[11]=r[22]-i,r[22]+=i,i=r[26],r[27]-=i,r[26]=r[7]-i,r[7]+=i,i=r[27],r[27]=r[6]-i,r[6]+=i,i=WV.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=i,i=WV.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=i,i=WV.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=i,i=WV.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=i,i=-WV.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=i-r[8],i=-WV.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=i-r[9],i=-WV.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=i-r[25],i=-WV.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=i-r[24],i=r[24]-r[16],r[24]=i,i=r[20]-i,r[20]=i,i=r[28]-i,r[28]=i,i=r[25]-r[17],r[25]=i,i=r[21]-i,r[21]=i,i=r[29]-i,r[29]=i,i=r[17]-r[1],r[17]=i,i=r[9]-i,r[9]=i,i=r[25]-i,r[25]=i,i=r[5]-i,r[5]=i,i=r[21]-i,r[21]=i,i=r[13]-i,r[13]=i,i=r[29]-i,r[29]=i,i=r[1]-r[0],r[1]=i,i=r[16]-i,r[16]=i,i=r[17]-i,r[17]=i,i=r[8]-i,r[8]=i,i=r[9]-i,r[9]=i,i=r[24]-i,r[24]=i,i=r[25]-i,r[25]=i,i=r[4]-i,r[4]=i,i=r[5]-i,r[5]=i,i=r[20]-i,r[20]=i,i=r[21]-i,r[21]=i,i=r[12]-i,r[12]=i,i=r[13]-i,r[13]=i,i=r[28]-i,r[28]=i,i=r[29]-i,r[29]=i,i=r[0],r[0]+=r[31],r[31]-=i,i=r[1],r[1]+=r[30],r[30]-=i,i=r[16],r[16]+=r[15],r[15]-=i,i=r[17],r[17]+=r[14],r[14]-=i,i=r[8],r[8]+=r[23],r[23]-=i,i=r[9],r[9]+=r[22],r[22]-=i,i=r[24],r[24]+=r[7],r[7]-=i,i=r[25],r[25]+=r[6],r[6]-=i,i=r[4],r[4]+=r[27],r[27]-=i,i=r[5],r[5]+=r[26],r[26]-=i,i=r[20],r[20]+=r[11],r[11]-=i,i=r[21],r[21]+=r[10],r[10]-=i,i=r[12],r[12]+=r[19],r[19]-=i,i=r[13],r[13]+=r[18],r[18]-=i,i=r[28],r[28]+=r[3],r[3]-=i,i=r[29],r[29]+=r[2],r[2]-=i}function l(e,n){for(var r=0;r<3;r++){var s,o,i,a,l,c;o=(a=e[n+6]*t[uH.SHORT_TYPE][0]-e[n+15])+(s=e[n+0]*t[uH.SHORT_TYPE][2]-e[n+9]),i=a-s,l=(a=e[n+15]*t[uH.SHORT_TYPE][0]+e[n+6])+(s=e[n+9]*t[uH.SHORT_TYPE][2]+e[n+0]),c=-a+s,s=2069978111953089e-26*(e[n+3]*t[uH.SHORT_TYPE][1]-e[n+12]),a=2069978111953089e-26*(e[n+12]*t[uH.SHORT_TYPE][1]+e[n+3]),e[n+0]=190752519173728e-25*o+s,e[n+15]=190752519173728e-25*-l+a,i=.8660254037844387*i*1907525191737281e-26,l=.5*l*1907525191737281e-26+a,e[n+3]=i-l,e[n+6]=i+l,o=.5*o*1907525191737281e-26-s,c=.8660254037844387*c*1907525191737281e-26,e[n+9]=o+c,e[n+12]=o-c,n++}}function c(e,t,n){var s,o,i,a,l,c,u,h,d,p,f,m,g,v,_,y,b,w;i=n[17]-n[9],l=n[15]-n[11],c=n[14]-n[12],u=n[0]+n[8],h=n[1]+n[7],d=n[2]+n[6],p=n[3]+n[5],e[t+17]=u+d-p-(h-n[4]),o=(u+d-p)*r[19]+(h-n[4]),s=(i-l-c)*r[18],e[t+5]=s+o,e[t+6]=s-o,a=(n[16]-n[10])*r[18],h=h*r[19]+n[4],s=i*r[12]+a+l*r[13]+c*r[14],o=-u*r[16]+h-d*r[17]+p*r[15],e[t+1]=s+o,e[t+2]=s-o,s=i*r[13]-a-l*r[14]+c*r[12],o=-u*r[17]+h-d*r[15]+p*r[16],e[t+9]=s+o,e[t+10]=s-o,s=i*r[14]-a+l*r[12]-c*r[13],o=u*r[15]-h+d*r[16]-p*r[17],e[t+13]=s+o,e[t+14]=s-o,f=n[8]-n[0],g=n[6]-n[2],v=n[5]-n[3],_=n[17]+n[9],y=n[16]+n[10],b=n[15]+n[11],w=n[14]+n[12],e[t+0]=_+b+w+(y+n[13]),s=(_+b+w)*r[19]-(y+n[13]),o=(f-g+v)*r[18],e[t+11]=s+o,e[t+12]=s-o,m=(n[7]-n[1])*r[18],y=n[13]-y*r[19],s=_*r[15]-y+b*r[16]+w*r[17],o=f*r[14]+m+g*r[12]+v*r[13],e[t+3]=s+o,e[t+4]=s-o,s=-_*r[17]+y-b*r[15]-w*r[16],o=f*r[13]+m-g*r[14]-v*r[12],e[t+7]=s+o,e[t+8]=s-o,s=-_*r[16]+y-b*r[17]-w*r[15],o=f*r[12]-m+g*r[13]-v*r[14],e[t+15]=s+o,e[t+16]=s-o}this.mdct_sub48=function(e,r,u){for(var h=r,d=286,p=0;p<e.channels_out;p++){for(var f=0;f<e.mode_gr;f++){for(var m,g=e.l3_side.tt[f][p],v=g.xr,_=0,y=e.sb_sample[p][1-f],b=0,w=0;w<9;w++)for(a(h,d,y[b]),a(h,d+32,y[b+1]),b+=2,d+=64,m=1;m<32;m+=2)y[b-1][m]*=-1;for(m=0;m<32;m++,_+=18){var x=g.block_type,T=e.sb_sample[p][f],E=e.sb_sample[p][1-f];if(0!=g.mixed_block_flag&&m<2&&(x=0),e.amp_filter[m]<1e-12)KV.fill(v,_+0,_+18,0);else{if(e.amp_filter[m]<1)for(w=0;w<18;w++)E[w][i[m]]*=e.amp_filter[m];if(x==uH.SHORT_TYPE){for(w=-3;w<0;w++){var S=t[uH.SHORT_TYPE][w+3];v[_+3*w+9]=T[9+w][i[m]]*S-T[8-w][i[m]],v[_+3*w+18]=T[14-w][i[m]]*S+T[15+w][i[m]],v[_+3*w+10]=T[15+w][i[m]]*S-T[14-w][i[m]],v[_+3*w+19]=E[2-w][i[m]]*S+E[3+w][i[m]],v[_+3*w+11]=E[3+w][i[m]]*S-E[2-w][i[m]],v[_+3*w+20]=E[8-w][i[m]]*S+E[9+w][i[m]]}l(v,_)}else{var k=YV(18);for(w=-9;w<0;w++){var C,A;C=t[x][w+27]*E[w+9][i[m]]+t[x][w+36]*E[8-w][i[m]],A=t[x][w+9]*T[w+9][i[m]]-t[x][w+18]*T[8-w][i[m]],k[w+9]=C-A*n[3+w+9],k[w+18]=C*n[3+w+9]+A}c(v,_,k)}}if(x!=uH.SHORT_TYPE&&0!=m)for(w=7;w>=0;--w){var I,R;I=v[_+w]*s[20+w]+v[_+-1-w]*o[28+w],R=v[_+w]*o[28+w]-v[_+-1-w]*s[20+w],v[_+-1-w]=I,v[_+w]=R}}}if(h=u,d=286,1==e.mode_gr)for(var M=0;M<18;M++)GV.arraycopy(e.sb_sample[p][1][M],0,e.sb_sample[p][0][M],0,32)}}}var QV=qV.System,ZV=qV.new_float,JV=qV.new_float_n;function eH(){this.l=ZV(uH.SBMAX_l),this.s=JV([uH.SBMAX_s,3]);var e=this;this.assign=function(t){QV.arraycopy(t.l,0,e.l,0,uH.SBMAX_l);for(var n=0;n<uH.SBMAX_s;n++)for(var r=0;r<3;r++)e.s[n][r]=t.s[n][r]}}function tH(){this.thm=new eH,this.en=new eH}function nH(e){var t=e;this.ordinal=function(){return t}}nH.STEREO=new nH(0),nH.JOINT_STEREO=new nH(1),nH.DUAL_CHANNEL=new nH(2),nH.MONO=new nH(3),nH.NOT_SET=new nH(4);var rH=qV.System,sH=qV.VbrMode,oH=qV.new_array_n,iH=qV.new_float,aH=qV.new_float_n,lH=qV.new_int,cH=qV.assert;function uH(){var e=uH.FFTOFFSET,t=uH.MPG_MD_MS_LR,n=null;this.psy=null;var r=null,s=null,o=null;this.setModules=function(e,t,i,a){n=e,this.psy=t,r=t,s=a,o=i};var i=new XV;this.lame_encode_mp3_frame=function(a,l,c,u,h,d){var p,f=oH([2,2]);f[0][0]=new tH,f[0][1]=new tH,f[1][0]=new tH,f[1][1]=new tH;var m,g=oH([2,2]);g[0][0]=new tH,g[0][1]=new tH,g[1][0]=new tH,g[1][1]=new tH;var v,_,y,b=[null,null],w=a.internal_flags,x=aH([2,4]),T=[.5,.5],E=[[0,0],[0,0]],S=[[0,0],[0,0]];if(b[0]=l,b[1]=c,0==w.lame_encode_frame_init&&function(e,t){var n,r,s=e.internal_flags;if(0==s.lame_encode_frame_init){var o,a,l=iH(2014),c=iH(2014);for(s.lame_encode_frame_init=1,o=0,a=0;o<286+576*(1+s.mode_gr);++o)o<576*s.mode_gr?(l[o]=0,2==s.channels_out&&(c[o]=0)):(l[o]=t[0][a],2==s.channels_out&&(c[o]=t[1][a]),++a);for(r=0;r<s.mode_gr;r++)for(n=0;n<s.channels_out;n++)s.l3_side.tt[r][n].block_type=uH.SHORT_TYPE;i.mdct_sub48(s,l,c),cH(s.mf_size>=uH.BLKSIZE+e.framesize-uH.FFTOFFSET),cH(s.mf_size>=512+e.framesize-32)}}(a,b),w.padding=0,(w.slot_lag-=w.frac_SpF)<0&&(w.slot_lag+=a.out_samplerate,w.padding=1),0!=w.psymodel){var k=[null,null],C=0,A=lH(2);for(y=0;y<w.mode_gr;y++){for(_=0;_<w.channels_out;_++)k[_]=b[_],C=576+576*y-uH.FFTOFFSET;if(0!=(a.VBR==sH.vbr_mtrh||a.VBR==sH.vbr_mt?r.L3psycho_anal_vbr(a,k,C,y,f,g,E[y],S[y],x[y],A):r.L3psycho_anal_ns(a,k,C,y,f,g,E[y],S[y],x[y],A)))return-4;for(a.mode==nH.JOINT_STEREO&&(T[y]=x[y][2]+x[y][3],T[y]>0&&(T[y]=x[y][3]/T[y])),_=0;_<w.channels_out;_++){var I=w.l3_side.tt[y][_];I.block_type=A[_],I.mixed_block_flag=0}}}else for(y=0;y<w.mode_gr;y++)for(_=0;_<w.channels_out;_++)w.l3_side.tt[y][_].block_type=uH.NORM_TYPE,w.l3_side.tt[y][_].mixed_block_flag=0,S[y][_]=E[y][_]=700;if(function(e){var t,n;if(0!=e.ATH.useAdjust)if(n=e.loudness_sq[0][0],t=e.loudness_sq[1][0],2==e.channels_out?(n+=e.loudness_sq[0][1],t+=e.loudness_sq[1][1]):(n+=n,t+=t),2==e.mode_gr&&(n=Math.max(n,t)),n*=.5,(n*=e.ATH.aaSensitivityP)>.03125)e.ATH.adjust>=1?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var r=31.98*n+625e-6;e.ATH.adjust>=r?(e.ATH.adjust*=.075*r+.925,e.ATH.adjust<r&&(e.ATH.adjust=r)):e.ATH.adjustLimit>=r?e.ATH.adjust=r:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=r}else e.ATH.adjust=1}(w),i.mdct_sub48(w,b[0],b[1]),w.mode_ext=uH.MPG_MD_LR_LR,a.force_ms)w.mode_ext=uH.MPG_MD_MS_LR;else if(a.mode==nH.JOINT_STEREO){var R=0,M=0;for(y=0;y<w.mode_gr;y++)for(_=0;_<w.channels_out;_++)R+=S[y][_],M+=E[y][_];if(R<=1*M){var O=w.l3_side.tt[0],L=w.l3_side.tt[w.mode_gr-1];O[0].block_type==O[1].block_type&&L[0].block_type==L[1].block_type&&(w.mode_ext=uH.MPG_MD_MS_LR)}}if(w.mode_ext==t?(m=g,v=S):(m=f,v=E),a.analysis&&null!=w.pinfo)for(y=0;y<w.mode_gr;y++)for(_=0;_<w.channels_out;_++)w.pinfo.ms_ratio[y]=w.ms_ratio[y],w.pinfo.ms_ener_ratio[y]=T[y],w.pinfo.blocktype[y][_]=w.l3_side.tt[y][_].block_type,w.pinfo.pe[y][_]=v[y][_],rH.arraycopy(w.l3_side.tt[y][_].xr,0,w.pinfo.xr[y][_],0,576),w.mode_ext==t&&(w.pinfo.ers[y][_]=w.pinfo.ers[y][_+2],rH.arraycopy(w.pinfo.energy[y][_+2],0,w.pinfo.energy[y][_],0,w.pinfo.energy[y][_].length));if(a.VBR==sH.vbr_off||a.VBR==sH.vbr_abr){var N,P;for(N=0;N<18;N++)w.nsPsy.pefirbuf[N]=w.nsPsy.pefirbuf[N+1];for(P=0,y=0;y<w.mode_gr;y++)for(_=0;_<w.channels_out;_++)P+=v[y][_];for(w.nsPsy.pefirbuf[18]=P,P=w.nsPsy.pefirbuf[9],N=0;N<9;N++)P+=(w.nsPsy.pefirbuf[N]+w.nsPsy.pefirbuf[18-N])*uH.fircoef[N];for(P=3350*w.mode_gr*w.channels_out/P,y=0;y<w.mode_gr;y++)for(_=0;_<w.channels_out;_++)v[y][_]*=P}if(w.iteration_loop.iteration_loop(a,v,T,m),n.format_bitstream(a),p=n.copy_buffer(w,u,h,d,1),a.bWriteVbrTag&&s.addVbrFrame(a),a.analysis&&null!=w.pinfo){for(_=0;_<w.channels_out;_++){var D;for(D=0;D<e;D++)w.pinfo.pcmdata[_][D]=w.pinfo.pcmdata[_][D+a.framesize];for(D=e;D<1600;D++)w.pinfo.pcmdata[_][D]=b[_][D-e]}o.set_frame_pinfo(a,m)}return function(e){var t,n;for(cH(e.bitrate_index>=0&&e.bitrate_index<16),cH(e.mode_ext>=0&&e.mode_ext<4),e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,2==e.channels_out&&(e.bitrate_stereoMode_Hist[e.bitrate_index][e.mode_ext]++,e.bitrate_stereoMode_Hist[15][e.mode_ext]++),t=0;t<e.mode_gr;++t)for(n=0;n<e.channels_out;++n){var r=0|e.l3_side.tt[t][n].block_type;0!=e.l3_side.tt[t][n].mixed_block_flag&&(r=4),e.bitrate_blockType_Hist[e.bitrate_index][r]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][r]++,e.bitrate_blockType_Hist[15][5]++}}(w),p}}uH.ENCDELAY=576,uH.POSTDELAY=1152,uH.MDCTDELAY=48,uH.FFTOFFSET=224+uH.MDCTDELAY,uH.DECDELAY=528,uH.SBLIMIT=32,uH.CBANDS=64,uH.SBPSY_l=21,uH.SBPSY_s=12,uH.SBMAX_l=22,uH.SBMAX_s=13,uH.PSFB21=6,uH.PSFB12=6,uH.BLKSIZE=1024,uH.HBLKSIZE=uH.BLKSIZE/2+1,uH.BLKSIZE_s=256,uH.HBLKSIZE_s=uH.BLKSIZE_s/2+1,uH.NORM_TYPE=0,uH.START_TYPE=1,uH.SHORT_TYPE=2,uH.STOP_TYPE=3,uH.MPG_MD_LR_LR=0,uH.MPG_MD_LR_I=1,uH.MPG_MD_MS_LR=2,uH.MPG_MD_MS_I=3,uH.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5];var hH=qV.Util,dH=qV.new_float;function pH(){var e=dH(uH.BLKSIZE),t=dH(uH.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(e,t,r){var s,o,i,a=0,l=t+(r<<=1);s=4;do{var c,u,h,d,p,f,m;m=s>>1,f=(p=s<<1)+(d=s),s=p<<1,i=(o=t)+m;do{x=e[o+0]-e[o+d],w=e[o+0]+e[o+d],k=e[o+p]-e[o+f],E=e[o+p]+e[o+f],e[o+p]=w-E,e[o+0]=w+E,e[o+f]=x-k,e[o+d]=x+k,x=e[i+0]-e[i+d],w=e[i+0]+e[i+d],k=hH.SQRT2*e[i+f],E=hH.SQRT2*e[i+p],e[i+p]=w-E,e[i+0]=w+E,e[i+f]=x-k,e[i+d]=x+k,i+=s,o+=s}while(o<l);for(u=n[a+0],c=n[a+1],h=1;h<m;h++){var g,v;g=1-2*c*c,v=2*c*u,o=t+h,i=t+d-h;do{var _,y,b,w,x,T,E,S,k,C;y=v*e[o+d]-g*e[i+d],_=g*e[o+d]+v*e[i+d],x=e[o+0]-_,w=e[o+0]+_,T=e[i+0]-y,b=e[i+0]+y,y=v*e[o+f]-g*e[i+f],_=g*e[o+f]+v*e[i+f],k=e[o+p]-_,E=e[o+p]+_,C=e[i+p]-y,S=e[i+p]+y,y=c*E-u*C,_=u*E+c*C,e[o+p]=w-_,e[o+0]=w+_,e[i+f]=T-y,e[i+d]=T+y,y=u*S-c*k,_=c*S+u*k,e[i+p]=b-_,e[i+0]=b+_,e[o+f]=x-y,e[o+d]=x+y,i+=s,o+=s}while(o<l);u=(g=u)*n[a+0]-c*n[a+1],c=g*n[a+1]+c*n[a+0]}a+=2}while(s<r)}var s=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,n,o,i,a){for(var l=0;l<3;l++){var c=uH.BLKSIZE_s/2,u=65535&192*(l+1),h=uH.BLKSIZE_s/8-1;do{var d,p,f,m,g,v=255&s[h<<2];p=(d=t[v]*i[o][a+v+u])-(g=t[127-v]*i[o][a+v+u+128]),d+=g,m=(f=t[v+64]*i[o][a+v+u+64])-(g=t[63-v]*i[o][a+v+u+192]),f+=g,c-=4,n[l][c+0]=d+f,n[l][c+2]=d-f,n[l][c+1]=p+m,n[l][c+3]=p-m,p=(d=t[v+1]*i[o][a+v+u+1])-(g=t[126-v]*i[o][a+v+u+129]),d+=g,m=(f=t[v+65]*i[o][a+v+u+65])-(g=t[62-v]*i[o][a+v+u+193]),f+=g,n[l][c+uH.BLKSIZE_s/2+0]=d+f,n[l][c+uH.BLKSIZE_s/2+2]=d-f,n[l][c+uH.BLKSIZE_s/2+1]=p+m,n[l][c+uH.BLKSIZE_s/2+3]=p-m}while(--h>=0);r(n[l],c,uH.BLKSIZE_s/2)}},this.fft_long=function(t,n,o,i,a){var l=uH.BLKSIZE/8-1,c=uH.BLKSIZE/2;do{var u,h,d,p,f,m=255&s[l];h=(u=e[m]*i[o][a+m])-(f=e[m+512]*i[o][a+m+512]),u+=f,p=(d=e[m+256]*i[o][a+m+256])-(f=e[m+768]*i[o][a+m+768]),d+=f,n[(c-=4)+0]=u+d,n[c+2]=u-d,n[c+1]=h+p,n[c+3]=h-p,h=(u=e[m+1]*i[o][a+m+1])-(f=e[m+513]*i[o][a+m+513]),u+=f,p=(d=e[m+257]*i[o][a+m+257])-(f=e[m+769]*i[o][a+m+769]),d+=f,n[c+uH.BLKSIZE/2+0]=u+d,n[c+uH.BLKSIZE/2+2]=u-d,n[c+uH.BLKSIZE/2+1]=h+p,n[c+uH.BLKSIZE/2+3]=h-p}while(--l>=0);r(n,c,uH.BLKSIZE/2)},this.init_fft=function(n){for(var r=0;r<uH.BLKSIZE;r++)e[r]=.42-.5*Math.cos(2*Math.PI*(r+.5)/uH.BLKSIZE)+.08*Math.cos(4*Math.PI*(r+.5)/uH.BLKSIZE);for(r=0;r<uH.BLKSIZE_s/2;r++)t[r]=.5*(1-Math.cos(2*Math.PI*(r+.5)/uH.BLKSIZE_s))}}var fH=qV.VbrMode,mH=qV.Float,gH=qV.ShortBlock,vH=qV.Util,_H=qV.Arrays,yH=qV.new_float,bH=qV.new_float_n,wH=qV.new_int,xH=qV.assert;function TH(){var e=new pH,t=2.302585092994046,n=1/217621504/(uH.BLKSIZE/2),r=.3,s=21,o=.2302585093;function i(e,t){for(var r=0,s=0;s<uH.BLKSIZE/2;++s)r+=e[s]*t.ATH.eql_w[s];return r*=n}function a(t,n,r,s,o,a,l,c,u,h,d){var p=t.internal_flags;if(u<2)e.fft_long(p,s[o],u,h,d),e.fft_short(p,a[l],u,h,d);else if(2==u){for(var f=uH.BLKSIZE-1;f>=0;--f){var m=s[o+0][f],g=s[o+1][f];s[o+0][f]=(m+g)*vH.SQRT2*.5,s[o+1][f]=(m-g)*vH.SQRT2*.5}for(var v=2;v>=0;--v)for(f=uH.BLKSIZE_s-1;f>=0;--f){m=a[l+0][v][f],g=a[l+1][v][f];a[l+0][v][f]=(m+g)*vH.SQRT2*.5,a[l+1][v][f]=(m-g)*vH.SQRT2*.5}}n[0]=s[o+0][0],n[0]*=n[0];for(f=uH.BLKSIZE/2-1;f>=0;--f){var _=s[o+0][uH.BLKSIZE/2-f],y=s[o+0][uH.BLKSIZE/2+f];n[uH.BLKSIZE/2-f]=.5*(_*_+y*y)}for(v=2;v>=0;--v){r[v][0]=a[l+0][v][0],r[v][0]*=r[v][0];for(f=uH.BLKSIZE_s/2-1;f>=0;--f){_=a[l+0][v][uH.BLKSIZE_s/2-f],y=a[l+0][v][uH.BLKSIZE_s/2+f];r[v][uH.BLKSIZE_s/2-f]=.5*(_*_+y*y)}}var b=0;for(f=11;f<uH.HBLKSIZE;f++)b+=n[f];if(p.tot_ener[u]=b,t.analysis){for(f=0;f<uH.HBLKSIZE;f++)p.pinfo.energy[c][u][f]=p.pinfo.energy_save[u][f],p.pinfo.energy_save[u][f]=n[f];p.pinfo.pe[c][u]=p.pe[u]}2==t.athaa_loudapprox&&u<2&&(p.loudness_sq[c][u]=p.loudness_sq_save[u],p.loudness_sq_save[u]=i(n,p))}var l,c,u,h=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];var d=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],p=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],f=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function m(e,t,n,r,s,o){var i;if(t>e){if(!(t<e*c))return e+t;i=t/e}else{if(e>=t*c)return e+t;i=e/t}if(e+=t,r+3<=6){if(i>=l)return e;var a=0|vH.FAST_LOG10_X(i,16);return e*p[a]}var h,m;a=0|vH.FAST_LOG10_X(i,16);return t=0!=o?s.ATH.cb_s[n]*s.ATH.adjust:s.ATH.cb_l[n]*s.ATH.adjust,e<u*t?e>t?(h=1,a<=13&&(h=f[a]),m=vH.FAST_LOG10_X(e/t,10/15),e*((d[a]-h)*m+h)):a>13?e:e*f[a]:e*d[a]}var g=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function v(e,t,n){var r;if(e<0&&(e=0),t<0&&(t=0),e<=0)return t;if(t<=0)return e;if(r=t>e?t/e:e/t,n>=-2&&n<=2){if(r>=l)return e+t;var s=0|vH.FAST_LOG10_X(r,16);return(e+t)*g[s]}return r<c?e+t:(e<t&&(e=t),e)}function _(e,t,n,r,s){var o,i,a=0,l=0;for(o=i=0;o<uH.SBMAX_s;++i,++o){for(var c=e.bo_s[o],u=e.npart_s,h=c<u?c:u;i<h;)xH(t[i]>=0),xH(n[i]>=0),a+=t[i],l+=n[i],i++;if(e.en[r].s[o][s]=a,e.thm[r].s[o][s]=l,i>=u){++o;break}xH(t[i]>=0),xH(n[i]>=0);var d=e.PSY.bo_s_weight[o],p=1-d;a=d*t[i],l=d*n[i],e.en[r].s[o][s]+=a,e.thm[r].s[o][s]+=l,a=p*t[i],l=p*n[i]}for(;o<uH.SBMAX_s;++o)e.en[r].s[o][s]=0,e.thm[r].s[o][s]=0}function y(e,t,n,r){var s,o,i=0,a=0;for(s=o=0;s<uH.SBMAX_l;++o,++s){for(var l=e.bo_l[s],c=e.npart_l,u=l<c?l:c;o<u;)xH(t[o]>=0),xH(n[o]>=0),i+=t[o],a+=n[o],o++;if(e.en[r].l[s]=i,e.thm[r].l[s]=a,o>=c){++s;break}xH(t[o]>=0),xH(n[o]>=0);var h=e.PSY.bo_l_weight[s],d=1-h;i=h*t[o],a=h*n[o],e.en[r].l[s]+=i,e.thm[r].l[s]+=a,i=d*t[o],a=d*n[o]}for(;s<uH.SBMAX_l;++s)e.en[r].l[s]=0,e.thm[r].l[s]=0}function b(e,t,n,r,s,o){var i,a,l=e.internal_flags;for(a=i=0;a<l.npart_s;++a){for(var c=0,u=l.numlines_s[a],h=0;h<u;++h,++i){c+=t[o][i]}n[a]=c}for(xH(a==l.npart_s),i=a=0;a<l.npart_s;a++){var d=l.s3ind_s[a][0],p=l.s3_ss[i++]*n[d];for(++d;d<=l.s3ind_s[a][1];)p+=l.s3_ss[i]*n[d],++i,++d;var f=2*l.nb_s1[s][a];if(r[a]=Math.min(p,f),l.blocktype_old[1&s]==uH.SHORT_TYPE){f=16*l.nb_s2[s][a];var m=r[a];r[a]=Math.min(f,m)}l.nb_s2[s][a]=l.nb_s1[s][a],l.nb_s1[s][a]=p,xH(r[a]>=0)}for(;a<=uH.CBANDS;++a)n[a]=0,r[a]=0}function w(e,t,n){return n>=1?e:n<=0?t:t>0?Math.pow(e/t,n)*t:0}var x=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function T(e,n){for(var r=309.07,s=0;s<uH.SBMAX_s-1;s++)for(var o=0;o<3;o++){var i=e.thm.s[s][o];if(i>0){var a=i*n,l=e.en.s[s][o];l>a&&(r+=l>1e10*a?x[s]*(10*t):x[s]*vH.FAST_LOG10(l/a))}}return r}var E=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function S(e,n){for(var r=281.0575,s=0;s<uH.SBMAX_l-1;s++){var o=e.thm.l[s];if(o>0){var i=o*n,a=e.en.l[s];a>i&&(r+=a>1e10*i?E[s]*(10*t):E[s]*vH.FAST_LOG10(a/i))}}return r}function k(e,t,n,r,s){var o,i;for(o=i=0;o<e.npart_l;++o){var a,l=0,c=0;for(a=0;a<e.numlines_l[o];++a,++i){var u=t[i];l+=u,c<u&&(c=u)}n[o]=l,r[o]=c,s[o]=l*e.rnumlines_l[o],xH(e.rnumlines_l[o]>=0),xH(n[o]>=0),xH(r[o]>=0),xH(s[o]>=0)}}function C(e,t,n,r){var s=h.length-1,o=0,i=n[o]+n[o+1];i>0?((a=t[o])<t[o+1]&&(a=t[o+1]),xH(e.numlines_l[o]+e.numlines_l[o+1]-1>0),(l=0|(i=20*(2*a-i)/(i*(e.numlines_l[o]+e.numlines_l[o+1]-1))))>s&&(l=s),r[o]=l):r[o]=0;for(o=1;o<e.npart_l-1;o++){var a,l;if((i=n[o-1]+n[o]+n[o+1])>0)(a=t[o-1])<t[o]&&(a=t[o]),a<t[o+1]&&(a=t[o+1]),xH(e.numlines_l[o-1]+e.numlines_l[o]+e.numlines_l[o+1]-1>0),(l=0|(i=20*(3*a-i)/(i*(e.numlines_l[o-1]+e.numlines_l[o]+e.numlines_l[o+1]-1))))>s&&(l=s),r[o]=l;else r[o]=0}(xH(o==e.npart_l-1),(i=n[o-1]+n[o])>0)?((a=t[o-1])<t[o]&&(a=t[o]),xH(e.numlines_l[o-1]+e.numlines_l[o]-1>0),(l=0|(i=20*(2*a-i)/(i*(e.numlines_l[o-1]+e.numlines_l[o]-1))))>s&&(l=s),r[o]=l):r[o]=0;xH(o==e.npart_l-1)}var A=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function I(t,n,r,s,o,i,a,l){var c=t.internal_flags;if(s<2)e.fft_long(c,a[l],s,n,r);else if(2==s)for(var u=uH.BLKSIZE-1;u>=0;--u){var h=a[l+0][u],d=a[l+1][u];a[l+0][u]=(h+d)*vH.SQRT2*.5,a[l+1][u]=(h-d)*vH.SQRT2*.5}i[0]=a[l+0][0],i[0]*=i[0];for(u=uH.BLKSIZE/2-1;u>=0;--u){var p=a[l+0][uH.BLKSIZE/2-u],f=a[l+0][uH.BLKSIZE/2+u];i[uH.BLKSIZE/2-u]=.5*(p*p+f*f)}var m=0;for(u=11;u<uH.HBLKSIZE;u++)m+=i[u];if(c.tot_ener[s]=m,t.analysis){for(u=0;u<uH.HBLKSIZE;u++)c.pinfo.energy[o][s][u]=c.pinfo.energy_save[s][u],c.pinfo.energy_save[s][u]=i[u];c.pinfo.pe[o][s]=c.pe[s]}}function R(t,n,r,s,o,i,a,l){var c=t.internal_flags;if(0==o&&s<2&&e.fft_short(c,a[l],s,n,r),2==s)for(var u=uH.BLKSIZE_s-1;u>=0;--u){var h=a[l+0][o][u],d=a[l+1][o][u];a[l+0][o][u]=(h+d)*vH.SQRT2*.5,a[l+1][o][u]=(h-d)*vH.SQRT2*.5}i[o][0]=a[l+0][o][0],i[o][0]*=i[o][0];for(u=uH.BLKSIZE_s/2-1;u>=0;--u){var p=a[l+0][o][uH.BLKSIZE_s/2-u],f=a[l+0][o][uH.BLKSIZE_s/2+u];i[o][uH.BLKSIZE_s/2-u]=.5*(p*p+f*f)}}function M(e,t,n,r){var s=e.internal_flags;2==e.athaa_loudapprox&&n<2&&(s.loudness_sq[t][n]=s.loudness_sq_save[n],s.loudness_sq_save[n]=i(r,s))}this.L3psycho_anal_ns=function(e,t,n,o,i,l,c,u,d,p){var f,g,v,x,E,I,R,M,O,L,N=e.internal_flags,P=bH([2,uH.BLKSIZE]),D=bH([2,3,uH.BLKSIZE_s]),j=yH(uH.CBANDS+1),F=yH(uH.CBANDS+1),U=yH(uH.CBANDS+2),B=wH(2),$=wH(2),V=bH([2,576]),H=wH(uH.CBANDS+2),z=wH(uH.CBANDS+2);for(_H.fill(z,0),f=N.channels_out,e.mode==nH.JOINT_STEREO&&(f=4),O=e.VBR==fH.vbr_off?0==N.ResvMax?0:N.ResvSize/N.ResvMax*.5:e.VBR==fH.vbr_rh||e.VBR==fH.vbr_mtrh||e.VBR==fH.vbr_mt?.6:1,g=0;g<N.channels_out;g++){var q=t[g],G=n+576-350-s+192;for(x=0;x<576;x++){var W,K;for(W=q[G+x+10],K=0,E=0;E<9;E+=2)W+=A[E]*(q[G+x+E]+q[G+x+s-E]),K+=A[E+1]*(q[G+x+E+1]+q[G+x+s-E-1]);V[g][x]=W+K}i[o][g].en.assign(N.en[g]),i[o][g].thm.assign(N.thm[g]),f>2&&(l[o][g].en.assign(N.en[g+2]),l[o][g].thm.assign(N.thm[g+2]))}for(g=0;g<f;g++){var Y,X=yH(12),Q=[0,0,0,0],Z=yH(12),J=1,ee=yH(uH.CBANDS),te=yH(uH.CBANDS),ne=[0,0,0,0],re=yH(uH.HBLKSIZE),se=bH([3,uH.HBLKSIZE_s]);for(xH(N.npart_s<=uH.CBANDS),xH(N.npart_l<=uH.CBANDS),x=0;x<3;x++)X[x]=N.nsPsy.last_en_subshort[g][x+6],xH(N.nsPsy.last_en_subshort[g][x+4]>0),Z[x]=X[x]/N.nsPsy.last_en_subshort[g][x+4],Q[0]+=X[x];if(2==g)for(x=0;x<576;x++){var oe,ie;oe=V[0][x],ie=V[1][x],V[0][x]=oe+ie,V[1][x]=oe-ie}var ae=V[1&g],le=0;for(x=0;x<9;x++){for(var ce=le+64,ue=1;le<ce;le++)ue<Math.abs(ae[le])&&(ue=Math.abs(ae[le]));N.nsPsy.last_en_subshort[g][x]=X[x+3]=ue,Q[1+x/3]+=ue,ue>X[x+3-2]?(xH(X[x+3-2]>0),ue/=X[x+3-2]):ue=X[x+3-2]>10*ue?X[x+3-2]/(10*ue):0,Z[x+3]=ue}if(e.analysis){var he=Z[0];for(x=1;x<12;x++)he<Z[x]&&(he=Z[x]);N.pinfo.ers[o][g]=N.pinfo.ers_save[g],N.pinfo.ers_save[g]=he}for(Y=3==g?N.nsPsy.attackthre_s:N.nsPsy.attackthre,x=0;x<12;x++)0==ne[x/3]&&Z[x]>Y&&(ne[x/3]=x%3+1);for(x=1;x<4;x++){var de;Q[x-1]>Q[x]?(xH(Q[x]>0),de=Q[x-1]/Q[x]):(xH(Q[x-1]>0),de=Q[x]/Q[x-1]),de<1.7&&(ne[x]=0,1==x&&(ne[0]=0))}for(0!=ne[0]&&0!=N.nsPsy.lastAttacks[g]&&(ne[0]=0),3!=N.nsPsy.lastAttacks[g]&&ne[0]+ne[1]+ne[2]+ne[3]==0||(J=0,0!=ne[1]&&0!=ne[0]&&(ne[1]=0),0!=ne[2]&&0!=ne[1]&&(ne[2]=0),0!=ne[3]&&0!=ne[2]&&(ne[3]=0)),g<2?$[g]=J:0==J&&($[0]=$[1]=0),d[g]=N.tot_ener[g],a(e,re,se,P,1&g,D,1&g,o,g,t,n),k(N,re,j,ee,te),C(N,ee,te,H),M=0;M<3;M++){var pe,fe;for(b(e,se,F,U,g,M),_(N,F,U,g,M),R=0;R<uH.SBMAX_s;R++){if(fe=N.thm[g].s[R][M],fe*=.8,ne[M]>=2||1==ne[M+1]){var me=0!=M?M-1:2;ue=w(N.thm[g].s[R][me],fe,.6*O);fe=Math.min(fe,ue)}if(1==ne[M]){me=0!=M?M-1:2,ue=w(N.thm[g].s[R][me],fe,r*O);fe=Math.min(fe,ue)}else if(0!=M&&3==ne[M-1]||0==M&&3==N.nsPsy.lastAttacks[g]){me=2!=M?M+1:0,ue=w(N.thm[g].s[R][me],fe,r*O);fe=Math.min(fe,ue)}pe=X[3*M+3]+X[3*M+4]+X[3*M+5],6*X[3*M+5]<pe&&(fe*=.5,6*X[3*M+4]<pe&&(fe*=.5)),N.thm[g].s[R][M]=fe}}for(N.nsPsy.lastAttacks[g]=ne[2],I=0,v=0;v<N.npart_l;v++){for(var ge=N.s3ind[v][0],ve=j[ge]*h[H[ge]],_e=N.s3_ll[I++]*ve;++ge<=N.s3ind[v][1];)ve=j[ge]*h[H[ge]],_e=m(_e,N.s3_ll[I++]*ve,ge,ge-v,N,0);_e*=.158489319246111,N.blocktype_old[1&g]==uH.SHORT_TYPE?U[v]=_e:U[v]=w(Math.min(_e,Math.min(2*N.nb_1[g][v],16*N.nb_2[g][v])),_e,O),N.nb_2[g][v]=N.nb_1[g][v],N.nb_1[g][v]=_e}for(;v<=uH.CBANDS;++v)j[v]=0,U[v]=0;y(N,j,U,g)}(e.mode!=nH.STEREO&&e.mode!=nH.JOINT_STEREO||e.interChRatio>0&&function(e,t){var n=e.internal_flags;if(n.channels_out>1){for(var r=0;r<uH.SBMAX_l;r++){var s=n.thm[0].l[r],o=n.thm[1].l[r];n.thm[0].l[r]+=o*t,n.thm[1].l[r]+=s*t}for(r=0;r<uH.SBMAX_s;r++)for(var i=0;i<3;i++)s=n.thm[0].s[r][i],o=n.thm[1].s[r][i],n.thm[0].s[r][i]+=o*t,n.thm[1].s[r][i]+=s*t}}(e,e.interChRatio),e.mode==nH.JOINT_STEREO)&&(!function(e){for(var t=0;t<uH.SBMAX_l;t++)if(!(e.thm[0].l[t]>1.58*e.thm[1].l[t]||e.thm[1].l[t]>1.58*e.thm[0].l[t])){var n=e.mld_l[t]*e.en[3].l[t],r=Math.max(e.thm[2].l[t],Math.min(e.thm[3].l[t],n));n=e.mld_l[t]*e.en[2].l[t];var s=Math.max(e.thm[3].l[t],Math.min(e.thm[2].l[t],n));e.thm[2].l[t]=r,e.thm[3].l[t]=s}for(t=0;t<uH.SBMAX_s;t++)for(var o=0;o<3;o++)e.thm[0].s[t][o]>1.58*e.thm[1].s[t][o]||e.thm[1].s[t][o]>1.58*e.thm[0].s[t][o]||(n=e.mld_s[t]*e.en[3].s[t][o],r=Math.max(e.thm[2].s[t][o],Math.min(e.thm[3].s[t][o],n)),n=e.mld_s[t]*e.en[2].s[t][o],s=Math.max(e.thm[3].s[t][o],Math.min(e.thm[2].s[t][o],n)),e.thm[2].s[t][o]=r,e.thm[3].s[t][o]=s)}(N),L=e.msfix,Math.abs(L)>0&&function(e,t,n){var r=t,s=Math.pow(10,n);t*=2,r*=2;for(var o=0;o<uH.SBMAX_l;o++)u=e.ATH.cb_l[e.bm_l[o]]*s,(a=Math.min(Math.max(e.thm[0].l[o],u),Math.max(e.thm[1].l[o],u)))*t<(l=Math.max(e.thm[2].l[o],u))+(c=Math.max(e.thm[3].l[o],u))&&(l*=h=a*r/(l+c),c*=h),e.thm[2].l[o]=Math.min(l,e.thm[2].l[o]),e.thm[3].l[o]=Math.min(c,e.thm[3].l[o]);for(s*=uH.BLKSIZE_s/uH.BLKSIZE,o=0;o<uH.SBMAX_s;o++)for(var i=0;i<3;i++){var a,l,c,u,h;u=e.ATH.cb_s[e.bm_s[o]]*s,(a=Math.min(Math.max(e.thm[0].s[o][i],u),Math.max(e.thm[1].s[o][i],u)))*t<(l=Math.max(e.thm[2].s[o][i],u))+(c=Math.max(e.thm[3].s[o][i],u))&&(l*=h=a*t/(l+c),c*=h),e.thm[2].s[o][i]=Math.min(e.thm[2].s[o][i],l),e.thm[3].s[o][i]=Math.min(e.thm[3].s[o][i],c)}}(N,L,e.ATHlower*N.ATH.adjust));for(function(e,t,n,r){var s=e.internal_flags;e.short_blocks!=gH.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var o=0;o<s.channels_out;o++)r[o]=uH.NORM_TYPE,e.short_blocks==gH.short_block_dispensed&&(t[o]=1),e.short_blocks==gH.short_block_forced&&(t[o]=0),0!=t[o]?(xH(s.blocktype_old[o]!=uH.START_TYPE),s.blocktype_old[o]==uH.SHORT_TYPE&&(r[o]=uH.STOP_TYPE)):(r[o]=uH.SHORT_TYPE,s.blocktype_old[o]==uH.NORM_TYPE&&(s.blocktype_old[o]=uH.START_TYPE),s.blocktype_old[o]==uH.STOP_TYPE&&(s.blocktype_old[o]=uH.SHORT_TYPE)),n[o]=s.blocktype_old[o],s.blocktype_old[o]=r[o]}(e,$,p,B),g=0;g<f;g++){var ye,be,we,xe=0;g>1?(ye=u,xe=-2,be=uH.NORM_TYPE,p[0]!=uH.SHORT_TYPE&&p[1]!=uH.SHORT_TYPE||(be=uH.SHORT_TYPE),we=l[o][g-2]):(ye=c,xe=0,be=p[g],we=i[o][g]),be==uH.SHORT_TYPE?ye[xe+g]=T(we,N.masking_lower):ye[xe+g]=S(we,N.masking_lower),e.analysis&&(N.pinfo.pe[o][g]=ye[xe+g])}return 0};var O=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function L(e,t,n){if(0==n)for(var r=0;r<e.npart_s;r++)e.nb_s2[t][r]=e.nb_s1[t][r],e.nb_s1[t][r]=0}function N(e,t){for(var n=0;n<e.npart_l;n++)e.nb_2[t][n]=e.nb_1[t][n],e.nb_1[t][n]=0}function P(e,t,n,r,s,o){var i,a,l,c=e.internal_flags,u=new float[uH.CBANDS],d=yH(uH.CBANDS),p=new int[uH.CBANDS];for(l=a=0;l<c.npart_s;++l){var f=0,m=0,g=c.numlines_s[l];for(i=0;i<g;++i,++a){var _=t[o][a];f+=_,m<_&&(m=_)}n[l]=f,u[l]=m,d[l]=f/g,xH(d[l]>=0)}for(xH(l==c.npart_s);l<uH.CBANDS;++l)u[l]=0,d[l]=0;for(function(e,t,n,r){var s=h.length-1,o=0,i=n[o]+n[o+1];for(i>0?((a=t[o])<t[o+1]&&(a=t[o+1]),xH(e.numlines_s[o]+e.numlines_s[o+1]-1>0),(l=0|(i=20*(2*a-i)/(i*(e.numlines_s[o]+e.numlines_s[o+1]-1))))>s&&(l=s),r[o]=l):r[o]=0,o=1;o<e.npart_s-1;o++){var a,l;i=n[o-1]+n[o]+n[o+1],xH(o+1<e.npart_s),i>0?((a=t[o-1])<t[o]&&(a=t[o]),a<t[o+1]&&(a=t[o+1]),xH(e.numlines_s[o-1]+e.numlines_s[o]+e.numlines_s[o+1]-1>0),(l=0|(i=20*(3*a-i)/(i*(e.numlines_s[o-1]+e.numlines_s[o]+e.numlines_s[o+1]-1))))>s&&(l=s),r[o]=l):r[o]=0}xH(o==e.npart_s-1),(i=n[o-1]+n[o])>0?((a=t[o-1])<t[o]&&(a=t[o]),xH(e.numlines_s[o-1]+e.numlines_s[o]-1>0),(l=0|(i=20*(2*a-i)/(i*(e.numlines_s[o-1]+e.numlines_s[o]-1))))>s&&(l=s),r[o]=l):r[o]=0,xH(o==e.npart_s-1)}(c,u,d,p),a=l=0;l<c.npart_s;l++){var y,b,w,x,T,E=c.s3ind_s[l][0],S=c.s3ind_s[l][1];for(y=p[E],b=1,x=c.s3_ss[a]*n[E]*h[p[E]],++a,++E;E<=S;)y+=p[E],b+=1,x=v(x,w=c.s3_ss[a]*n[E]*h[p[E]],E-l),++a,++E;x*=T=.5*h[y=(1+2*y)/(2*b)],r[l]=x,c.nb_s2[s][l]=c.nb_s1[s][l],c.nb_s1[s][l]=x,w=u[l],w*=c.minval_s[l],w*=T,r[l]>w&&(r[l]=w),c.masking_lower>1&&(r[l]*=c.masking_lower),r[l]>n[l]&&(r[l]=n[l]),c.masking_lower<1&&(r[l]*=c.masking_lower),xH(r[l]>=0)}for(;l<uH.CBANDS;++l)n[l]=0,r[l]=0}function D(e,t,n,s,o){var i,a=yH(uH.CBANDS),l=yH(uH.CBANDS),c=wH(uH.CBANDS+2);k(e,t,n,a,l),C(e,a,l,c);var u=0;for(i=0;i<e.npart_l;i++){var d,p,f,m=e.s3ind[i][0],g=e.s3ind[i][1],_=0,y=0;for(_=c[m],y+=1,p=e.s3_ll[u]*n[m]*h[c[m]],++u,++m;m<=g;)_+=c[m],y+=1,p=v(p,d=e.s3_ll[u]*n[m]*h[c[m]],m-i),++u,++m;if(p*=f=.5*h[_=(1+2*_)/(2*y)],e.blocktype_old[1&o]==uH.SHORT_TYPE){var b=2*e.nb_1[o][i];s[i]=b>0?Math.min(p,b):Math.min(p,n[i]*r)}else{var w=16*e.nb_2[o][i],x=2*e.nb_1[o][i];w<=0&&(w=p),x<=0&&(x=p),b=e.blocktype_old[1&o]==uH.NORM_TYPE?Math.min(x,w):x,s[i]=Math.min(p,b)}e.nb_2[o][i]=e.nb_1[o][i],e.nb_1[o][i]=p,d=a[i],d*=e.minval_l[i],d*=f,s[i]>d&&(s[i]=d),e.masking_lower>1&&(s[i]*=e.masking_lower),s[i]>n[i]&&(s[i]=n[i]),e.masking_lower<1&&(s[i]*=e.masking_lower),xH(s[i]>=0)}for(;i<uH.CBANDS;++i)n[i]=0,s[i]=0}function j(e,t,n,r,s,o,i){for(var a,l,c=2*o,u=o>0?Math.pow(10,s):1,h=0;h<i;++h){var d=e[2][h],p=e[3][h],f=t[0][h],m=t[1][h],g=t[2][h],v=t[3][h];if(f<=1.58*m&&m<=1.58*f){var _=n[h]*p,y=n[h]*d;l=Math.max(g,Math.min(v,_)),a=Math.max(v,Math.min(g,y))}else l=g,a=v;if(o>0){var b,w,x=r[h]*u;if(b=Math.min(Math.max(f,x),Math.max(m,x)),(w=(g=Math.max(l,x))+(v=Math.max(a,x)))>0&&b*c<w){var T=b*c/w;g*=T,v*=T}l=Math.min(g,l),a=Math.min(v,a)}l>d&&(l=d),a>p&&(a=p),t[2][h]=l,t[3][h]=a}}function F(e,t){var n;return(n=e>=0?27*-e:e*t)<=-72?0:Math.exp(n*o)}function U(e){var t,n,r=0;for(r=0;F(r,e)>1e-20;r-=1);for(s=r,o=0;Math.abs(o-s)>1e-12;)F(r=(o+s)/2,e)>0?o=r:s=r;t=s;var s,o;r=0;for(r=0;F(r,e)>1e-20;r+=1);for(s=0,o=r;Math.abs(o-s)>1e-12;)F(r=(o+s)/2,e)>0?s=r:o=r;n=o;var i,a=0,l=1e3;for(i=0;i<=l;++i){a+=F(r=t+i*(n-t)/l,e)}return(l+1)/(a*(n-t))}function B(e){var t,n,r,s;return t=e,n=(t*=t>=0?3:1.5)>=.5&&t<=2.5?8*((s=t-.5)*s-2*s):0,(r=15.811389+7.5*(t+=.474)-17.5*Math.sqrt(1+t*t))<=-60?0:(t=Math.exp((n+r)*o),t/=.6609193)}function $(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function V(e,t,n,r,s,o,i,a,l,c,u,h){var d,p=yH(uH.CBANDS+1),f=a/(h>15?1152:384),m=wH(uH.HBLKSIZE);a/=l;var g=0,v=0;for(d=0;d<uH.CBANDS;d++){var _;for(C=$(a*g),p[d]=a*g,_=g;$(a*_)-C<.34&&_<=l/2;_++);for(e[d]=_-g,v=d+1;g<_;)m[g++]=d;if(g>l/2){g=l/2,++d;break}}p[d]=a*g;for(var y=0;y<h;y++){var b,w,x,T,E;x=c[y],T=c[y+1],(b=0|Math.floor(.5+u*(x-.5)))<0&&(b=0),(w=0|Math.floor(.5+u*(T-.5)))>l/2&&(w=l/2),n[y]=(m[b]+m[w])/2,t[y]=m[w];var S=f*T;i[y]=(S-p[t[y]])/(p[t[y]+1]-p[t[y]]),i[y]<0?i[y]=0:i[y]>1&&(i[y]=1),E=$(a*c[y]*u),E=Math.min(E,15.5)/15.5,o[y]=Math.pow(10,1.25*(1-Math.cos(Math.PI*E))-2.5)}g=0;for(var k=0;k<v;k++){var C,A,I=e[k];C=$(a*g),A=$(a*(g+I-1)),r[k]=.5*(C+A),C=$(a*(g-.5)),A=$(a*(g+I-.5)),s[k]=A-C,g+=I}return v}function H(e,t,n,r,s,o){var i,a=bH([uH.CBANDS,uH.CBANDS]),l=0;if(o)for(var c=0;c<t;c++)for(i=0;i<t;i++){var u=B(n[c]-n[i])*r[i];a[c][i]=u*s[c]}else for(i=0;i<t;i++){var h=15+Math.min(21/n[i],12),d=U(h);for(c=0;c<t;c++){u=d*F(n[c]-n[i],h)*r[i];a[c][i]=u*s[c]}}for(c=0;c<t;c++){for(i=0;i<t&&!(a[c][i]>0);i++);for(e[c][0]=i,i=t-1;i>0&&!(a[c][i]>0);i--);e[c][1]=i,l+=e[c][1]-e[c][0]+1}var p=yH(l),f=0;for(c=0;c<t;c++)for(i=e[c][0];i<=e[c][1];i++)p[f++]=a[c][i];return p}function z(e){var t=$(e);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function q(e,t){return e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e),3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4)}this.L3psycho_anal_vbr=function(e,t,n,r,o,i,a,l,c,u){var h=e.internal_flags,d=yH(uH.HBLKSIZE),p=bH([3,uH.HBLKSIZE_s]),f=bH([2,uH.BLKSIZE]),m=bH([2,3,uH.BLKSIZE_s]),g=bH([4,uH.CBANDS]),v=bH([4,uH.CBANDS]),b=bH([4,3]),x=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],E=wH(2),k=e.mode==nH.JOINT_STEREO?4:h.channels_out;!function(e,t,n,r,o,i,a,l,c,u){for(var h=bH([2,576]),d=e.internal_flags,p=d.channels_out,f=e.mode==nH.JOINT_STEREO?4:p,m=0;m<p;m++){firbuf=t[m];for(var g=n+576-350-s+192,v=0;v<576;v++){var _,y;_=firbuf[g+v+10],y=0;for(var b=0;b<9;b+=2)_+=O[b]*(firbuf[g+v+b]+firbuf[g+v+s-b]),y+=O[b+1]*(firbuf[g+v+b+1]+firbuf[g+v+s-b-1]);h[m][v]=_+y}o[r][m].en.assign(d.en[m]),o[r][m].thm.assign(d.thm[m]),f>2&&(i[r][m].en.assign(d.en[m+2]),i[r][m].thm.assign(d.thm[m+2]))}for(m=0;m<f;m++){var w=yH(12),x=yH(12),T=[0,0,0,0],E=h[1&m],S=0,k=3==m?d.nsPsy.attackthre_s:d.nsPsy.attackthre,C=1;if(2==m)for(v=0,b=576;b>0;++v,--b){var A=h[0][v],I=h[1][v];h[0][v]=A+I,h[1][v]=A-I}for(v=0;v<3;v++)x[v]=d.nsPsy.last_en_subshort[m][v+6],xH(d.nsPsy.last_en_subshort[m][v+4]>0),w[v]=x[v]/d.nsPsy.last_en_subshort[m][v+4],T[0]+=x[v];for(v=0;v<9;v++){for(var R=S+64,M=1;S<R;S++)M<Math.abs(E[S])&&(M=Math.abs(E[S]));d.nsPsy.last_en_subshort[m][v]=x[v+3]=M,T[1+v/3]+=M,M>x[v+3-2]?(xH(x[v+3-2]>0),M/=x[v+3-2]):M=x[v+3-2]>10*M?x[v+3-2]/(10*M):0,w[v+3]=M}for(v=0;v<3;++v){var L=x[3*v+3]+x[3*v+4]+x[3*v+5],N=1;6*x[3*v+5]<L&&(N*=.5,6*x[3*v+4]<L&&(N*=.5)),l[m][v]=N}if(e.analysis){var P=w[0];for(v=1;v<12;v++)P<w[v]&&(P=w[v]);d.pinfo.ers[r][m]=d.pinfo.ers_save[m],d.pinfo.ers_save[m]=P}for(v=0;v<12;v++)0==c[m][v/3]&&w[v]>k&&(c[m][v/3]=v%3+1);for(v=1;v<4;v++){var D=T[v-1],j=T[v];Math.max(D,j)<4e4&&D<1.7*j&&j<1.7*D&&(1==v&&c[m][0]<=c[m][v]&&(c[m][0]=0),c[m][v]=0)}c[m][0]<=d.nsPsy.lastAttacks[m]&&(c[m][0]=0),3!=d.nsPsy.lastAttacks[m]&&c[m][0]+c[m][1]+c[m][2]+c[m][3]==0||(C=0,0!=c[m][1]&&0!=c[m][0]&&(c[m][1]=0),0!=c[m][2]&&0!=c[m][1]&&(c[m][2]=0),0!=c[m][3]&&0!=c[m][2]&&(c[m][3]=0)),m<2?u[m]=C:0==C&&(u[0]=u[1]=0),a[m]=d.tot_ener[m]}}(e,t,n,r,o,i,c,b,x,E),function(e,t){var n=e.internal_flags;e.short_blocks!=gH.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var r=0;r<n.channels_out;r++)e.short_blocks==gH.short_block_dispensed&&(t[r]=1),e.short_blocks==gH.short_block_forced&&(t[r]=0)}(e,E);for(var C=0;C<k;C++){I(e,t,n,C,r,d,f,F=1&C),M(e,r,C,d),0!=E[F]?D(h,d,g[C],v[C],C):N(h,C)}E[0]+E[1]==2&&e.mode==nH.JOINT_STEREO&&j(g,v,h.mld_cb_l,h.ATH.cb_l,e.ATHlower*h.ATH.adjust,e.msfix,h.npart_l);for(C=0;C<k;C++){0!=E[F=1&C]&&y(h,g[C],v[C],C)}for(var A=0;A<3;A++){for(C=0;C<k;++C){0!=E[F=1&C]?L(h,C,A):(R(e,t,n,C,A,p,m,F),P(e,p,g[C],v[C],C,A))}E[0]+E[1]==0&&e.mode==nH.JOINT_STEREO&&j(g,v,h.mld_cb_s,h.ATH.cb_s,e.ATHlower*h.ATH.adjust,e.msfix,h.npart_s);for(C=0;C<k;++C){0==E[F=1&C]&&_(h,g[C],v[C],C,A)}}for(C=0;C<k;C++){var F;if(0==E[F=1&C])for(var U=0;U<uH.SBMAX_s;U++){var B=yH(3);for(A=0;A<3;A++){var $=h.thm[C].s[U][A];if($*=.8,x[C][A]>=2||1==x[C][A+1]){var V=0!=A?A-1:2,H=w(h.thm[C].s[U][V],$,.36);$=Math.min($,H)}else if(1==x[C][A]){V=0!=A?A-1:2,H=w(h.thm[C].s[U][V],$,.18);$=Math.min($,H)}else if(0!=A&&3==x[C][A-1]||0==A&&3==h.nsPsy.lastAttacks[C]){V=2!=A?A+1:0,H=w(h.thm[C].s[U][V],$,.18);$=Math.min($,H)}$*=b[C][A],B[A]=$}for(A=0;A<3;A++)h.thm[C].s[U][A]=B[A]}}for(C=0;C<k;C++)h.nsPsy.lastAttacks[C]=x[C][2];!function(e,t,n){for(var r=e.internal_flags,s=0;s<r.channels_out;s++){var o=uH.NORM_TYPE;0!=t[s]?(xH(r.blocktype_old[s]!=uH.START_TYPE),r.blocktype_old[s]==uH.SHORT_TYPE&&(o=uH.STOP_TYPE)):(o=uH.SHORT_TYPE,r.blocktype_old[s]==uH.NORM_TYPE&&(r.blocktype_old[s]=uH.START_TYPE),r.blocktype_old[s]==uH.STOP_TYPE&&(r.blocktype_old[s]=uH.SHORT_TYPE)),n[s]=r.blocktype_old[s],r.blocktype_old[s]=o}}(e,E,u);for(C=0;C<k;C++){var z,q,G,W;C>1?(z=l,q=-2,G=uH.NORM_TYPE,u[0]!=uH.SHORT_TYPE&&u[1]!=uH.SHORT_TYPE||(G=uH.SHORT_TYPE),W=i[r][C-2]):(z=a,q=0,G=u[C],W=o[r][C]),G==uH.SHORT_TYPE?z[q+C]=T(W,h.masking_lower):z[q+C]=S(W,h.masking_lower),e.analysis&&(h.pinfo.pe[r][C]=z[q+C])}return 0},this.psymodel_init=function(n){var r,s=n.internal_flags,o=!0,i=13,a=24,h=0,d=0,p=-8.25,f=-4.5,m=yH(uH.CBANDS),g=yH(uH.CBANDS),v=yH(uH.CBANDS),_=n.out_samplerate;switch(n.experimentalZ){default:case 0:o=!0;break;case 1:o=!(n.VBR==fH.vbr_mtrh||n.VBR==fH.vbr_mt);break;case 2:o=!1;break;case 3:i=8,h=-1.75,d=-.0125,p=-8.25,f=-2.25}for(s.ms_ener_ratio_old=.25,s.blocktype_old[0]=s.blocktype_old[1]=uH.NORM_TYPE,r=0;r<4;++r){for(var y=0;y<uH.CBANDS;++y)s.nb_1[r][y]=1e20,s.nb_2[r][y]=1e20,s.nb_s1[r][y]=s.nb_s2[r][y]=1;for(var b=0;b<uH.SBMAX_l;b++)s.en[r].l[b]=1e20,s.thm[r].l[b]=1e20;for(y=0;y<3;++y){for(b=0;b<uH.SBMAX_s;b++)s.en[r].s[b][y]=1e20,s.thm[r].s[b][y]=1e20;s.nsPsy.lastAttacks[r]=0}for(y=0;y<9;y++)s.nsPsy.last_en_subshort[r][y]=10}for(s.loudness_sq_save[0]=s.loudness_sq_save[1]=0,s.npart_l=V(s.numlines_l,s.bo_l,s.bm_l,m,g,s.mld_l,s.PSY.bo_l_weight,_,uH.BLKSIZE,s.scalefac_band.l,uH.BLKSIZE/1152,uH.SBMAX_l),xH(s.npart_l<uH.CBANDS),r=0;r<s.npart_l;r++){var w=h;m[r]>=i&&(w=d*(m[r]-i)/(a-i)+h*(a-m[r])/(a-i)),v[r]=Math.pow(10,w/10),s.numlines_l[r]>0?s.rnumlines_l[r]=1/s.numlines_l[r]:s.rnumlines_l[r]=0}s.s3_ll=H(s.s3ind,s.npart_l,m,g,v,o);var x;y=0;for(r=0;r<s.npart_l;r++){S=mH.MAX_VALUE;for(var T=0;T<s.numlines_l[r];T++,y++){var E=_*y/(1e3*uH.BLKSIZE);k=this.ATHformula(1e3*E,n)-20,k=Math.pow(10,.1*k),S>(k*=s.numlines_l[r])&&(S=k)}s.ATH.cb_l[r]=S,(S=20*m[r]/10-20)>6&&(S=100),S<-15&&(S=-15),S-=8,s.minval_l[r]=Math.pow(10,S/10)*s.numlines_l[r]}for(s.npart_s=V(s.numlines_s,s.bo_s,s.bm_s,m,g,s.mld_s,s.PSY.bo_s_weight,_,uH.BLKSIZE_s,s.scalefac_band.s,uH.BLKSIZE_s/384,uH.SBMAX_s),xH(s.npart_s<uH.CBANDS),y=0,r=0;r<s.npart_s;r++){var S;w=p;m[r]>=i&&(w=f*(m[r]-i)/(a-i)+p*(a-m[r])/(a-i)),v[r]=Math.pow(10,w/10),S=mH.MAX_VALUE;for(T=0;T<s.numlines_s[r];T++,y++){var k;E=_*y/(1e3*uH.BLKSIZE_s);k=this.ATHformula(1e3*E,n)-20,k=Math.pow(10,.1*k),S>(k*=s.numlines_s[r])&&(S=k)}s.ATH.cb_s[r]=S,S=7*m[r]/12-7,m[r]>12&&(S*=1+3.1*Math.log(1+S)),m[r]<12&&(S*=1+2.3*Math.log(1-S)),S<-15&&(S=-15),S-=8,s.minval_s[r]=Math.pow(10,S/10)*s.numlines_s[r]}s.s3_ss=H(s.s3ind_s,s.npart_s,m,g,v,o),l=Math.pow(10,9/16),c=Math.pow(10,1.5),u=Math.pow(10,1.5),e.init_fft(s),s.decay=Math.exp(-1*t/(.01*_/192)),x=3.5,0!=(2&n.exp_nspsytune)&&(x=1),Math.abs(n.msfix)>0&&(x=n.msfix),n.msfix=x;for(var C=0;C<s.npart_l;C++)s.s3ind[C][1]>s.npart_l-1&&(s.s3ind[C][1]=s.npart_l-1);var A=576*s.mode_gr/_;if(s.ATH.decay=Math.pow(10,-1.2*A),s.ATH.adjust=.01,s.ATH.adjustLimit=1,xH(s.bo_l[uH.SBMAX_l-1]<=s.npart_l),xH(s.bo_s[uH.SBMAX_s-1]<=s.npart_s),-1!=n.ATHtype){var I=n.out_samplerate/uH.BLKSIZE,R=0;for(E=0,r=0;r<uH.BLKSIZE/2;++r)E+=I,s.ATH.eql_w[r]=1/Math.pow(10,this.ATHformula(E,n)/10),R+=s.ATH.eql_w[r];for(R=1/R,r=uH.BLKSIZE/2;--r>=0;)s.ATH.eql_w[r]*=R}for(C=y=0;C<s.npart_s;++C)for(r=0;r<s.numlines_s[C];++r)++y;for(C=y=0;C<s.npart_l;++C)for(r=0;r<s.numlines_l[C];++r)++y;for(y=0,r=0;r<s.npart_l;r++){E=_*(y+s.numlines_l[r]/2)/(1*uH.BLKSIZE);s.mld_cb_l[r]=z(E),y+=s.numlines_l[r]}for(;r<uH.CBANDS;++r)s.mld_cb_l[r]=1;for(y=0,r=0;r<s.npart_s;r++){E=_*(y+s.numlines_s[r]/2)/(1*uH.BLKSIZE_s);s.mld_cb_s[r]=z(E),y+=s.numlines_s[r]}for(;r<uH.CBANDS;++r)s.mld_cb_s[r]=1;return 0},this.ATHformula=function(e,t){var n;switch(t.ATHtype){case 0:n=q(e,9);break;case 1:n=q(e,-1);break;case 2:default:n=q(e,0);break;case 3:n=q(e,1)+6;break;case 4:n=q(e,t.ATHcurve)}return n}}function EH(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=nH.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var SH={};SH.SFBMAX=3*uH.SBMAX_s;var kH=qV.new_float,CH=qV.new_int;function AH(){this.xr=kH(576),this.l3_enc=CH(576),this.scalefac=CH(SH.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=CH(3),this.subblock_gain=CH(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=CH(SH.SFBMAX),this.window=CH(SH.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=CH(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}this.assign=function(n){var r;e.xr=(r=n.xr,new Float32Array(r)),e.l3_enc=t(n.l3_enc),e.scalefac=t(n.scalefac),e.xrpow_max=n.xrpow_max,e.part2_3_length=n.part2_3_length,e.big_values=n.big_values,e.count1=n.count1,e.global_gain=n.global_gain,e.scalefac_compress=n.scalefac_compress,e.block_type=n.block_type,e.mixed_block_flag=n.mixed_block_flag,e.table_select=t(n.table_select),e.subblock_gain=t(n.subblock_gain),e.region0_count=n.region0_count,e.region1_count=n.region1_count,e.preflag=n.preflag,e.scalefac_scale=n.scalefac_scale,e.count1table_select=n.count1table_select,e.part2_length=n.part2_length,e.sfb_lmax=n.sfb_lmax,e.sfb_smin=n.sfb_smin,e.psy_lmax=n.psy_lmax,e.sfbmax=n.sfbmax,e.psymax=n.psymax,e.sfbdivide=n.sfbdivide,e.width=t(n.width),e.window=t(n.window),e.count1bits=n.count1bits,e.sfb_partition_table=n.sfb_partition_table.slice(0),e.slen=t(n.slen),e.max_nonzero_coeff=n.max_nonzero_coeff}}var IH=qV.new_int;function RH(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[IH(4),IH(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new AH}var MH=qV.System,OH=qV.new_int;function LH(e,t,n,r){this.l=OH(1+uH.SBMAX_l),this.s=OH(1+uH.SBMAX_s),this.psfb21=OH(1+uH.PSFB21),this.psfb12=OH(1+uH.PSFB12);var s=this.l,o=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],MH.arraycopy(this.arrL,0,s,0,Math.min(this.arrL.length,this.l.length)),MH.arraycopy(this.arrS,0,o,0,Math.min(this.arrS.length,this.s.length)),MH.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),MH.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var NH=qV.new_float,PH=qV.new_float_n,DH=qV.new_int;function jH(){this.last_en_subshort=PH([4,9]),this.lastAttacks=DH(4),this.pefirbuf=NH(19),this.longfact=NH(uH.SBMAX_l),this.shortfact=NH(uH.SBMAX_s),this.attackthre=0,this.attackthre_s=0}function FH(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var UH=qV.new_byte,BH=qV.new_double,$H=qV.new_float,VH=qV.new_float_n,HH=qV.new_int,zH=qV.new_int_n;function qH(){function e(){this.write_timing=0,this.ptr=0,this.buf=UH(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=VH([2,qH.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new RH,this.ms_ratio=$H(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=HH(2),this.CurrentStep=HH(2),this.masking_lower=0,this.bv_scf=HH(576),this.pseudohalf=HH(SH.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*qH.BPC+1),this.itime=BH(2),this.sideinfo_len=0,this.sb_sample=VH([2,2,18,uH.SBLIMIT]),this.amp_filter=$H(32),this.header=new Array(qH.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new LH,this.minval_l=$H(uH.CBANDS),this.minval_s=$H(uH.CBANDS),this.nb_1=VH([4,uH.CBANDS]),this.nb_2=VH([4,uH.CBANDS]),this.nb_s1=VH([4,uH.CBANDS]),this.nb_s2=VH([4,uH.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=$H(4),this.loudness_sq=VH([2,2]),this.loudness_sq_save=$H(2),this.mld_l=$H(uH.SBMAX_l),this.mld_s=$H(uH.SBMAX_s),this.bm_l=HH(uH.SBMAX_l),this.bo_l=HH(uH.SBMAX_l),this.bm_s=HH(uH.SBMAX_s),this.bo_s=HH(uH.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=zH([uH.CBANDS,2]),this.s3ind_s=zH([uH.CBANDS,2]),this.numlines_s=HH(uH.CBANDS),this.numlines_l=HH(uH.CBANDS),this.rnumlines_l=$H(uH.CBANDS),this.mld_cb_l=$H(uH.CBANDS),this.mld_cb_s=$H(uH.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=$H(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=HH(2),this.nsPsy=new jH,this.VBR_seek_table=new FH,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=zH([16,5]),this.bitrate_blockType_Hist=zH([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var t=0;t<this.en.length;t++)this.en[t]=new eH;for(t=0;t<this.thm.length;t++)this.thm[t]=new eH;for(t=0;t<this.header.length;t++)this.header[t]=new e}qH.MFSIZE=3456+uH.ENCDELAY-uH.MDCTDELAY,qH.MAX_HEADER_BUF=256,qH.MAX_BITS_PER_CHANNEL=4095,qH.MAX_BITS_PER_GRANULE=7680,qH.BPC=320;var GH=qV.new_float;function WH(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=GH(uH.SBMAX_l),this.s=GH(uH.SBMAX_s),this.psfb21=GH(uH.PSFB21),this.psfb12=GH(uH.PSFB12),this.cb_l=GH(uH.CBANDS),this.cb_s=GH(uH.CBANDS),this.eql_w=GH(uH.BLKSIZE/2)}var KH=qV.System,YH=qV.Arrays;function XH(){var e=XH.RMS_WINDOW_TIME_NUMERATOR,t=XH.RMS_WINDOW_TIME_DENOMINATOR,n=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],r=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function s(e,t,n,r,s,o){for(;0!=s--;)n[r]=1e-10+e[t+0]*o[0]-n[r-1]*o[1]+e[t-1]*o[2]-n[r-2]*o[3]+e[t-2]*o[4]-n[r-3]*o[5]+e[t-3]*o[6]-n[r-4]*o[7]+e[t-4]*o[8]-n[r-5]*o[9]+e[t-5]*o[10]-n[r-6]*o[11]+e[t-6]*o[12]-n[r-7]*o[13]+e[t-7]*o[14]-n[r-8]*o[15]+e[t-8]*o[16]-n[r-9]*o[17]+e[t-9]*o[18]-n[r-10]*o[19]+e[t-10]*o[20],++r,++t}function o(e,t,n,r,s,o){for(;0!=s--;)n[r]=e[t+0]*o[0]-n[r-1]*o[1]+e[t-1]*o[2]-n[r-2]*o[3]+e[t-2]*o[4],++r,++t}function i(e){return e*e}this.InitGainAnalysis=function(n,r){return function(n,r){for(var s=0;s<MAX_ORDER;s++)n.linprebuf[s]=n.lstepbuf[s]=n.loutbuf[s]=n.rinprebuf[s]=n.rstepbuf[s]=n.routbuf[s]=0;switch(0|r){case 48e3:n.reqindex=0;break;case 44100:n.reqindex=1;break;case 32e3:n.reqindex=2;break;case 24e3:n.reqindex=3;break;case 22050:n.reqindex=4;break;case 16e3:n.reqindex=5;break;case 12e3:n.reqindex=6;break;case 11025:n.reqindex=7;break;case 8e3:n.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return n.sampleWindow=0|(r*e+t-1)/t,n.lsum=0,n.rsum=0,n.totsamp=0,YH.ill(n.A,0),INIT_GAIN_ANALYSIS_OK}(n,r)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(n.linpre=MAX_ORDER,n.rinpre=MAX_ORDER,n.lstep=MAX_ORDER,n.rstep=MAX_ORDER,n.lout=MAX_ORDER,n.rout=MAX_ORDER,YH.fill(n.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,a,l,c,u,h){var d,p,f,m,g,v,_;if(0==u)return GAIN_ANALYSIS_OK;switch(_=0,g=u,h){case 1:l=t,c=a;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(u<MAX_ORDER?(KH.arraycopy(t,a,e.linprebuf,MAX_ORDER,u),KH.arraycopy(l,c,e.rinprebuf,MAX_ORDER,u)):(KH.arraycopy(t,a,e.linprebuf,MAX_ORDER,MAX_ORDER),KH.arraycopy(l,c,e.rinprebuf,MAX_ORDER,MAX_ORDER));g>0;){v=g>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:g,_<MAX_ORDER?(d=e.linpre+_,p=e.linprebuf,f=e.rinpre+_,m=e.rinprebuf,v>MAX_ORDER-_&&(v=MAX_ORDER-_)):(d=a+_,p=t,f=c+_,m=l),s(p,d,e.lstepbuf,e.lstep+e.totsamp,v,n[e.reqindex]),s(m,f,e.rstepbuf,e.rstep+e.totsamp,v,n[e.reqindex]),o(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,v,r[e.reqindex]),o(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,v,r[e.reqindex]),d=e.lout+e.totsamp,p=e.loutbuf,f=e.rout+e.totsamp,m=e.routbuf;for(var y=v%8;0!=y--;)e.lsum+=i(p[d++]),e.rsum+=i(m[f++]);for(y=v/8;0!=y--;)e.lsum+=i(p[d+0])+i(p[d+1])+i(p[d+2])+i(p[d+3])+i(p[d+4])+i(p[d+5])+i(p[d+6])+i(p[d+7]),d+=8,e.rsum+=i(m[f+0])+i(m[f+1])+i(m[f+2])+i(m[f+3])+i(m[f+4])+i(m[f+5])+i(m[f+6])+i(m[f+7]),f+=8;if(g-=v,_+=v,e.totsamp+=v,e.totsamp==e.sampleWindow){var b=10*XH.STEPS_per_dB*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37),w=b<=0?0:0|b;w>=e.A.length&&(w=e.A.length-1),e.A[w]++,e.lsum=e.rsum=0,KH.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),KH.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),KH.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),KH.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0}if(e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return u<MAX_ORDER?(KH.arraycopy(e.linprebuf,u,e.linprebuf,0,MAX_ORDER-u),KH.arraycopy(e.rinprebuf,u,e.rinprebuf,0,MAX_ORDER-u),KH.arraycopy(t,a,e.linprebuf,MAX_ORDER-u,u),KH.arraycopy(l,c,e.rinprebuf,MAX_ORDER-u,u)):(KH.arraycopy(t,a+u-MAX_ORDER,e.linprebuf,0,MAX_ORDER),KH.arraycopy(l,c+u-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(e){for(var t=function(e,t){var n,r=0;for(n=0;n<t;n++)r+=e[n];if(0==r)return GAIN_NOT_ENOUGH_SAMPLES;var s=0|Math.ceil(r*(1-.95));for(n=t;n-- >0&&!((s-=e[n])<=0););return 64.82-n/XH.STEPS_per_dB}(e.A,e.A.length),n=0;n<e.A.length;n++)e.B[n]+=e.A[n],e.A[n]=0;for(n=0;n<MAX_ORDER;n++)e.linprebuf[n]=e.lstepbuf[n]=e.loutbuf[n]=e.rinprebuf[n]=e.rstepbuf[n]=e.routbuf[n]=0;return e.totsamp=0,e.lsum=e.rsum=0,t}}XH.STEPS_per_dB=100,XH.MAX_dB=120,XH.GAIN_NOT_ENOUGH_SAMPLES=-24601,XH.GAIN_ANALYSIS_ERROR=0,XH.GAIN_ANALYSIS_OK=1,XH.INIT_GAIN_ANALYSIS_ERROR=0,XH.INIT_GAIN_ANALYSIS_OK=1,XH.YULE_ORDER=10,XH.MAX_ORDER=XH.YULE_ORDER,XH.MAX_SAMP_FREQ=48e3,XH.RMS_WINDOW_TIME_NUMERATOR=1,XH.RMS_WINDOW_TIME_DENOMINATOR=20,XH.MAX_SAMPLES_PER_WINDOW=XH.MAX_SAMP_FREQ*XH.RMS_WINDOW_TIME_NUMERATOR/XH.RMS_WINDOW_TIME_DENOMINATOR+1;var QH=qV.new_float,ZH=qV.new_int;function JH(){this.linprebuf=QH(NaN),this.linpre=0,this.lstepbuf=QH(NaN),this.lstep=0,this.loutbuf=QH(NaN),this.lout=0,this.rinprebuf=QH(NaN),this.rinpre=0,this.rstepbuf=QH(NaN),this.rstep=0,this.routbuf=QH(NaN),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=ZH(0),this.B=ZH(0)}function ez(e){this.bits=e}var tz=qV.new_float,nz=qV.new_int,rz=qV.assert;function sz(e){var t=e;this.quantize=t,this.iteration_loop=function(e,t,n,r){var s,o=e.internal_flags,i=tz(SH.SFBMAX),a=tz(576),l=nz(2),c=0,u=o.l3_side,h=new ez(c);this.quantize.rv.ResvFrameBegin(e,h),c=h.bits;for(var d=0;d<o.mode_gr;d++){s=this.quantize.qupvt.on_pe(e,t,l,c,d,d),o.mode_ext==uH.MPG_MD_MS_LR&&(this.quantize.ms_convert(o.l3_side,d),this.quantize.qupvt.reduce_side(l,n[d],c,s));for(var p=0;p<o.channels_out;p++){var f,m,g=u.tt[d][p];g.block_type!=uH.SHORT_TYPE?(f=0,m=o.PSY.mask_adjust-f):(f=0,m=o.PSY.mask_adjust_short-f),o.masking_lower=Math.pow(10,.1*m),this.quantize.init_outer_loop(o,g),this.quantize.init_xrpow(o,g,a)&&(this.quantize.qupvt.calc_xmin(e,r[d][p],g,i),this.quantize.outer_loop(e,g,i,a,p,l[p])),this.quantize.iteration_finish_one(o,d,p),rz(g.part2_3_length<=qH.MAX_BITS_PER_CHANNEL),rz(g.part2_3_length<=l[p])}}this.quantize.rv.ResvFrameEnd(o,c)}}function oz(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var iz={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};iz.ht=[new oz(0,0,null,null),new oz(2,0,iz.t1HB,iz.t1l),new oz(3,0,iz.t2HB,iz.t2l),new oz(3,0,iz.t3HB,iz.t3l),new oz(0,0,null,null),new oz(4,0,iz.t5HB,iz.t5l),new oz(4,0,iz.t6HB,iz.t6l),new oz(6,0,iz.t7HB,iz.t7l),new oz(6,0,iz.t8HB,iz.t8l),new oz(6,0,iz.t9HB,iz.t9l),new oz(8,0,iz.t10HB,iz.t10l),new oz(8,0,iz.t11HB,iz.t11l),new oz(8,0,iz.t12HB,iz.t12l),new oz(16,0,iz.t13HB,iz.t13l),new oz(0,0,null,iz.t16_5l),new oz(16,0,iz.t15HB,iz.t15l),new oz(1,1,iz.t16HB,iz.t16l),new oz(2,3,iz.t16HB,iz.t16l),new oz(3,7,iz.t16HB,iz.t16l),new oz(4,15,iz.t16HB,iz.t16l),new oz(6,63,iz.t16HB,iz.t16l),new oz(8,255,iz.t16HB,iz.t16l),new oz(10,1023,iz.t16HB,iz.t16l),new oz(13,8191,iz.t16HB,iz.t16l),new oz(4,15,iz.t24HB,iz.t24l),new oz(5,31,iz.t24HB,iz.t24l),new oz(6,63,iz.t24HB,iz.t24l),new oz(7,127,iz.t24HB,iz.t24l),new oz(8,255,iz.t24HB,iz.t24l),new oz(9,511,iz.t24HB,iz.t24l),new oz(11,2047,iz.t24HB,iz.t24l),new oz(13,8191,iz.t24HB,iz.t24l),new oz(0,0,iz.t32HB,iz.t32l),new oz(0,0,iz.t33HB,iz.t33l)],iz.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],iz.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],iz.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],iz.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],iz.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],iz.scfsi_band=[0,6,11,16,21];var az=qV.VbrMode,lz=qV.Float,cz=qV.Util,uz=qV.new_float,hz=qV.new_int,dz=qV.assert;function pz(){var e=null,t=null,n=null;function r(e){return u[e+pz.Q_MAX2]}this.setModules=function(r,s,o){e=r,t=s,n=o},this.IPOW20=function(e){return h[e]};var s=2220446049250313e-31,o=pz.IXMAX_VAL+2,i=pz.Q_MAX,a=pz.Q_MAX2,l=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var c=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=c,this.sfBandIndex=[new LH([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new LH([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new LH([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new LH([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new LH([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new LH([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new LH([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new LH([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new LH([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var u=uz(i+a+1),h=uz(i),d=uz(o),p=uz(o);function f(e,t){var r=n.ATHformula(t,e);return r-=l,r=Math.pow(10,r/10+e.ATHlower)}function m(e){this.s=e}this.adj43=p,this.iteration_init=function(t){var n,r=t.internal_flags,s=r.l3_side;if(0==r.iteration_init_init){for(r.iteration_init_init=1,s.main_data_begin=0,function(e){for(var t=e.internal_flags.ATH.l,n=e.internal_flags.ATH.psfb21,r=e.internal_flags.ATH.s,s=e.internal_flags.ATH.psfb12,o=e.internal_flags,i=e.out_samplerate,a=0;a<uH.SBMAX_l;a++){var l=o.scalefac_band.l[a],c=o.scalefac_band.l[a+1];t[a]=lz.MAX_VALUE;for(var u=l;u<c;u++){var h=f(e,u*i/1152);t[a]=Math.min(t[a],h)}}for(a=0;a<uH.PSFB21;a++)for(l=o.scalefac_band.psfb21[a],c=o.scalefac_band.psfb21[a+1],n[a]=lz.MAX_VALUE,u=l;u<c;u++)h=f(e,u*i/1152),n[a]=Math.min(n[a],h);for(a=0;a<uH.SBMAX_s;a++){for(l=o.scalefac_band.s[a],c=o.scalefac_band.s[a+1],r[a]=lz.MAX_VALUE,u=l;u<c;u++)h=f(e,u*i/384),r[a]=Math.min(r[a],h);r[a]*=o.scalefac_band.s[a+1]-o.scalefac_band.s[a]}for(a=0;a<uH.PSFB12;a++){for(l=o.scalefac_band.psfb12[a],c=o.scalefac_band.psfb12[a+1],s[a]=lz.MAX_VALUE,u=l;u<c;u++)h=f(e,u*i/384),s[a]=Math.min(s[a],h);s[a]*=o.scalefac_band.s[13]-o.scalefac_band.s[12]}if(e.noATH){for(a=0;a<uH.SBMAX_l;a++)t[a]=1e-20;for(a=0;a<uH.PSFB21;a++)n[a]=1e-20;for(a=0;a<uH.SBMAX_s;a++)r[a]=1e-20;for(a=0;a<uH.PSFB12;a++)s[a]=1e-20}o.ATH.floor=10*Math.log10(f(e,-1))}(t),d[0]=0,n=1;n<o;n++)d[n]=Math.pow(n,4/3);for(n=0;n<o-1;n++)p[n]=n+1-Math.pow(.5*(d[n]+d[n+1]),.75);for(p[n]=.5,n=0;n<i;n++)h[n]=Math.pow(2,-.1875*(n-210));for(n=0;n<=i+a;n++)u[n]=Math.pow(2,.25*(n-210-a));var l,c,m,g;for(e.huffman_init(r),(n=t.exp_nspsytune>>2&63)>=32&&(n-=64),l=Math.pow(10,n/4/10),(n=t.exp_nspsytune>>8&63)>=32&&(n-=64),c=Math.pow(10,n/4/10),(n=t.exp_nspsytune>>14&63)>=32&&(n-=64),m=Math.pow(10,n/4/10),(n=t.exp_nspsytune>>20&63)>=32&&(n-=64),g=m*Math.pow(10,n/4/10),n=0;n<uH.SBMAX_l;n++){v=n<=6?l:n<=13?c:n<=20?m:g,r.nsPsy.longfact[n]=v}for(n=0;n<uH.SBMAX_s;n++){var v;v=n<=5?l:n<=10?c:n<=11?m:g,r.nsPsy.shortfact[n]=v}}},this.on_pe=function(e,n,r,s,o,i){var a,l,c=e.internal_flags,u=0,h=hz(2),d=new ez(u),p=t.ResvMaxBits(e,s,d,i),f=(u=d.bits)+p;for(f>qH.MAX_BITS_PER_GRANULE&&(f=qH.MAX_BITS_PER_GRANULE),a=0,l=0;l<c.channels_out;++l)r[l]=Math.min(qH.MAX_BITS_PER_CHANNEL,u/c.channels_out),h[l]=0|r[l]*n[o][l]/700-r[l],h[l]>3*s/4&&(h[l]=3*s/4),h[l]<0&&(h[l]=0),h[l]+r[l]>qH.MAX_BITS_PER_CHANNEL&&(h[l]=Math.max(0,qH.MAX_BITS_PER_CHANNEL-r[l])),a+=h[l];if(a>p)for(l=0;l<c.channels_out;++l)h[l]=p*h[l]/a;for(l=0;l<c.channels_out;++l)r[l]+=h[l],p-=h[l];for(a=0,l=0;l<c.channels_out;++l)a+=r[l];if(a>qH.MAX_BITS_PER_GRANULE){for(l=0;l<c.channels_out;++l)r[l]*=qH.MAX_BITS_PER_GRANULE,r[l]/=a,r[l]}return f},this.reduce_side=function(e,t,n,r){dz(e[0]+e[1]<=qH.MAX_BITS_PER_GRANULE);var s=.33*(.5-t)/.5;s<0&&(s=0),s>.5&&(s=.5);var o=0|.5*s*(e[0]+e[1]);o>qH.MAX_BITS_PER_CHANNEL-e[0]&&(o=qH.MAX_BITS_PER_CHANNEL-e[0]),o<0&&(o=0),e[1]>=125&&(e[1]-o>125?(e[0]<n&&(e[0]+=o),e[1]-=o):(e[0]+=e[1]-125,e[1]=125)),(o=e[0]+e[1])>r&&(e[0]=r*e[0]/o,e[1]=r*e[1]/o),dz(e[0]<=qH.MAX_BITS_PER_CHANNEL),dz(e[1]<=qH.MAX_BITS_PER_CHANNEL),dz(e[0]+e[1]<=qH.MAX_BITS_PER_GRANULE)},this.athAdjust=function(e,t,n){var r=90.30873362,s=cz.FAST_LOG10_X(t,10),o=e*e,i=0;return s-=n,o>1e-20&&(i=1+cz.FAST_LOG10_X(o,10/r)),i<0&&(i=0),s*=i,s+=n+r-94.82444863,Math.pow(10,.1*s)},this.calc_xmin=function(e,t,n,r){var o,i=0,a=e.internal_flags,l=0,c=0,u=a.ATH,h=n.xr,d=e.VBR==az.vbr_mtrh?1:0,p=a.masking_lower;for(e.VBR!=az.vbr_mtrh&&e.VBR!=az.vbr_mt||(p=1),o=0;o<n.psy_lmax;o++){w=(b=e.VBR==az.vbr_rh||e.VBR==az.vbr_mtrh?athAdjust(u.adjust,u.l[o],u.floor):u.adjust*u.l[o])/(v=n.width[o]),x=s,k=v>>1,S=0;do{S+=C=h[l]*h[l],x+=C<w?C:w,S+=A=h[++l]*h[l],x+=A<w?A:w,l++}while(--k>0);if(S>b&&c++,o==uH.SBPSY_l)x<(E=b*a.nsPsy.longfact[o])&&(x=E);if(0!=d&&(b=x),!e.ATHonly)if((T=t.en.l[o])>0)E=S*t.thm.l[o]*p/T,0!=d&&(E*=a.nsPsy.longfact[o]),b<E&&(b=E);r[i++]=0!=d?b:b*a.nsPsy.longfact[o]}var f=575;if(n.block_type!=uH.SHORT_TYPE)for(var m=576;0!=m--&&Sz.EQ(h[m],0);)f=m;n.max_nonzero_coeff=f;for(var g=n.sfb_smin;o<n.psymax;g++,o+=3){var v,_,y;for(y=e.VBR==az.vbr_rh||e.VBR==az.vbr_mtrh?athAdjust(u.adjust,u.s[g],u.floor):u.adjust*u.s[g],v=n.width[o],_=0;_<3;_++){var b,w,x,T,E,S=0,k=v>>1;w=y/v,x=s;do{var C,A;S+=C=h[l]*h[l],x+=C<w?C:w,S+=A=h[++l]*h[l],x+=A<w?A:w,l++}while(--k>0);if(S>y&&c++,g==uH.SBPSY_s)x<(E=y*a.nsPsy.shortfact[g])&&(x=E);if(b=0!=d?x:y,!e.ATHonly&&!e.ATHshort)if((T=t.en.s[g][_])>0)E=S*t.thm.s[g][_]*p/T,0!=d&&(E*=a.nsPsy.shortfact[g]),b<E&&(b=E);r[i++]=0!=d?b:b*a.nsPsy.shortfact[g]}e.useTemporal&&(r[i-3]>r[i-3+1]&&(r[i-3+1]+=(r[i-3]-r[i-3+1])*a.decay),r[i-3+1]>r[i-3+2]&&(r[i-3+2]+=(r[i-3+1]-r[i-3+2])*a.decay))}return c},this.calc_noise_core=function(e,t,n,r){var s=0,o=t.s,i=e.l3_enc;if(o>e.count1)for(;0!=n--;){l=e.xr[o],o++,s+=l*l,l=e.xr[o],o++,s+=l*l}else if(o>e.big_values){var a=uz(2);for(a[0]=0,a[1]=r;0!=n--;){l=Math.abs(e.xr[o])-a[i[o]],o++,s+=l*l,l=Math.abs(e.xr[o])-a[i[o]],o++,s+=l*l}}else for(;0!=n--;){var l;l=Math.abs(e.xr[o])-d[i[o]]*r,o++,s+=l*l,l=Math.abs(e.xr[o])-d[i[o]]*r,o++,s+=l*l}return t.s=o,s},this.calc_noise=function(e,t,n,s,o){var i,a,l=0,u=0,h=0,d=0,p=0,f=-20,g=0,v=e.scalefac,_=0;for(s.over_SSD=0,i=0;i<e.psymax;i++){var y,b=e.global_gain-(v[_++]+(0!=e.preflag?c[i]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[i]],w=0;if(null!=o&&o.step[i]==b)w=o.noise[i],g+=e.width[i],n[l++]=w/t[u++],w=o.noise_log[i];else{var x,T=r(b);if(a=e.width[i]>>1,g+e.width[i]>e.max_nonzero_coeff)a=(x=e.max_nonzero_coeff-g+1)>0?x>>1:0;var E=new m(g);w=this.calc_noise_core(e,E,a,T),g=E.s,null!=o&&(o.step[i]=b,o.noise[i]=w),w=n[l++]=w/t[u++],w=cz.FAST_LOG10(Math.max(w,1e-20)),null!=o&&(o.noise_log[i]=w)}if(null!=o&&(o.global_gain=e.global_gain),p+=w,w>0)y=Math.max(0|10*w+.5,1),s.over_SSD+=y*y,h++,d+=w;f=Math.max(f,w)}return s.over_count=h,s.tot_noise=p,s.over_noise=d,s.max_noise=f,h},this.set_pinfo=function(e,t,n,r,s){var o,i,a,l,u,h=e.internal_flags,d=0==t.scalefac_scale?.5:1,p=t.scalefac,f=uz(L3Side.SFBMAX),m=uz(L3Side.SFBMAX),g=new CalcNoiseResult;calc_xmin(e,n,t,f),calc_noise(t,f,m,g,null);var v=0;for(i=t.sfb_lmax,t.block_type!=uH.SHORT_TYPE&&0==t.mixed_block_flag&&(i=22),o=0;o<i;o++){var _=h.scalefac_band.l[o],y=(b=h.scalefac_band.l[o+1])-_;for(l=0;v<b;v++)l+=t.xr[v]*t.xr[v];l/=y,u=1e15,h.pinfo.en[r][s][o]=u*l,h.pinfo.xfsf[r][s][o]=u*f[o]*m[o]/y,n.en.l[o]>0&&!e.ATHonly?l/=n.en.l[o]:l=0,h.pinfo.thr[r][s][o]=u*Math.max(l*n.thm.l[o],h.ATH.l[o]),h.pinfo.LAMEsfb[r][s][o]=0,0!=t.preflag&&o>=11&&(h.pinfo.LAMEsfb[r][s][o]=-d*c[o]),o<uH.SBPSY_l&&(dz(p[o]>=0),h.pinfo.LAMEsfb[r][s][o]-=d*p[o])}if(t.block_type==uH.SHORT_TYPE)for(i=o,o=t.sfb_smin;o<uH.SBMAX_s;o++){_=h.scalefac_band.s[o],y=(b=h.scalefac_band.s[o+1])-_;for(var b,w=0;w<3;w++){for(l=0,a=_;a<b;a++)l+=t.xr[v]*t.xr[v],v++;l=Math.max(l/y,1e-20),u=1e15,h.pinfo.en_s[r][s][3*o+w]=u*l,h.pinfo.xfsf_s[r][s][3*o+w]=u*f[i]*m[i]/y,n.en.s[o][w]>0?l/=n.en.s[o][w]:l=0,(e.ATHonly||e.ATHshort)&&(l=0),h.pinfo.thr_s[r][s][3*o+w]=u*Math.max(l*n.thm.s[o][w],h.ATH.s[o]),h.pinfo.LAMEsfb_s[r][s][3*o+w]=-2*t.subblock_gain[w],o<uH.SBPSY_s&&(h.pinfo.LAMEsfb_s[r][s][3*o+w]-=d*p[i]),i++}}h.pinfo.LAMEqss[r][s]=t.global_gain,h.pinfo.LAMEmainbits[r][s]=t.part2_3_length+t.part2_length,h.pinfo.LAMEsfbits[r][s]=t.part2_length,h.pinfo.over[r][s]=g.over_count,h.pinfo.max_noise[r][s]=10*g.max_noise,h.pinfo.over_noise[r][s]=10*g.over_noise,h.pinfo.tot_noise[r][s]=10*g.tot_noise,h.pinfo.over_SSD[r][s]=g.over_SSD}}pz.Q_MAX=257,pz.Q_MAX2=116,pz.LARGE_BITS=1e5,pz.IXMAX_VAL=8206;var fz=qV.System,mz=qV.Arrays,gz=qV.new_int,vz=qV.assert;function _z(){var e=null;function t(e){this.bits=0|e}this.qupvt=null,this.setModules=function(t){this.qupvt=t,e=t};var n=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function r(e,t,n,r,s,o){var i=.5946/t;for(e>>=1;0!=e--;)s[o++]=i>n[r++]?0:1,s[o++]=i>n[r++]?0:1}function s(t,n,r,s,o,i){var a=(t>>=1)%2;for(t>>=1;0!=t--;){var l,c,u,h,d,p,f,m;l=r[s++]*n,c=r[s++]*n,d=0|l,u=r[s++]*n,p=0|c,h=r[s++]*n,f=0|u,l+=e.adj43[d],m=0|h,c+=e.adj43[p],o[i++]=0|l,u+=e.adj43[f],o[i++]=0|c,h+=e.adj43[m],o[i++]=0|u,o[i++]=0|h}0!=a&&(d=0|(l=r[s++]*n),p=0|(c=r[s++]*n),l+=e.adj43[d],c+=e.adj43[p],o[i++]=0|l,o[i++]=0|c)}var o=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function i(e,t,n,r){var s=function(e,t,n){var r=0,s=0;do{var o=e[t++],i=e[t++];r<o&&(r=o),s<i&&(s=i)}while(t<n);return r<s&&(r=s),r}(e,t,n);switch(s){case 0:return s;case 1:return function(e,t,n,r){var s=0,o=iz.ht[1].hlen;do{var i=2*e[t+0]+e[t+1];t+=2,s+=o[i]}while(t<n);return r.bits+=s,1}(e,t,n,r);case 2:case 3:return function(e,t,n,r,s){var o,i,a=0,l=iz.ht[r].xlen;i=2==r?iz.table23:iz.table56;do{var c=e[t+0]*l+e[t+1];t+=2,a+=i[c]}while(t<n);return o=65535&a,(a>>=16)>o&&(a=o,r++),s.bits+=a,r}(e,t,n,o[s-1],r);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(e,t,n,r,s){var o=0,i=0,a=0,l=iz.ht[r].xlen,c=iz.ht[r].hlen,u=iz.ht[r+1].hlen,h=iz.ht[r+2].hlen;do{var d=e[t+0]*l+e[t+1];t+=2,o+=c[d],i+=u[d],a+=h[d]}while(t<n);var p=r;return o>i&&(o=i,p++),o>a&&(o=a,p=r+2),s.bits+=o,p}(e,t,n,o[s-1],r);default:if(s>pz.IXMAX_VAL)return r.bits=pz.LARGE_BITS,-1;var i,a;for(s-=15,i=24;i<32&&!(iz.ht[i].linmax>=s);i++);for(a=i-8;a<24&&!(iz.ht[a].linmax>=s);a++);return function(e,t,n,r,s,o){var i,a=65536*iz.ht[r].xlen+iz.ht[s].xlen,l=0;do{var c=e[t++],u=e[t++];0!=c&&(c>14&&(c=15,l+=a),c*=16),0!=u&&(u>14&&(u=15,l+=a),c+=u),l+=iz.largetbl[c]}while(t<n);return i=65535&l,(l>>=16)>i&&(l=i,r=s),o.bits+=l,r}(e,t,n,a,i,r)}}function a(e,n,r,s,o,a,l,c){for(var u=n.big_values,h=2;h<uH.SBMAX_l+1;h++){var d=e.scalefac_band.l[h];if(d>=u)break;var p=o[h-2]+n.count1bits;if(r.part2_3_length<=p)break;var f=new t(p),m=i(s,d,u,f);p=f.bits,r.part2_3_length<=p||(r.assign(n),r.part2_3_length=p,r.region0_count=a[h-2],r.region1_count=h-2-a[h-2],r.table_select[0]=l[h-2],r.table_select[1]=c[h-2],r.table_select[2]=m)}}this.noquant_count_bits=function(e,n,r){var s=n.l3_enc,o=Math.min(576,n.max_nonzero_coeff+2>>1<<1);for(null!=r&&(r.sfb_count1=0);o>1&&0==(s[o-1]|s[o-2]);o-=2);n.count1=o;for(var a=0,l=0;o>3;o-=4){var c;if((2147483647&(s[o-1]|s[o-2]|s[o-3]|s[o-4]))>1)break;c=2*(2*(2*s[o-4]+s[o-3])+s[o-2])+s[o-1],a+=iz.t32l[c],l+=iz.t33l[c]}var u=a;if(n.count1table_select=0,a>l&&(u=l,n.count1table_select=1),n.count1bits=u,n.big_values=o,0==o)return u;if(n.block_type==uH.SHORT_TYPE)(a=3*e.scalefac_band.s[3])>n.big_values&&(a=n.big_values),l=n.big_values;else if(n.block_type==uH.NORM_TYPE){if(a=n.region0_count=e.bv_scf[o-2],l=n.region1_count=e.bv_scf[o-1],l=e.scalefac_band.l[a+l+2],a=e.scalefac_band.l[a+1],l<o){var h=new t(u);n.table_select[2]=i(s,l,o,h),u=h.bits}}else n.region0_count=7,n.region1_count=uH.SBMAX_l-1-7-1,(a=e.scalefac_band.l[8])>(l=o)&&(a=l);if(a=Math.min(a,o),l=Math.min(l,o),a>0){h=new t(u);n.table_select[0]=i(s,0,a,h),u=h.bits}if(a<l){h=new t(u);n.table_select[1]=i(s,a,l,h),u=h.bits}if(2==e.use_best_huffman&&(n.part2_3_length=u,best_huffman_divide(e,n),u=n.part2_3_length),null!=r&&n.block_type==uH.NORM_TYPE){for(var d=0;e.scalefac_band.l[d]<n.big_values;)d++;r.sfb_count1=d}return u},this.count_bits=function(t,n,o,i){var a=o.l3_enc,l=pz.IXMAX_VAL/e.IPOW20(o.global_gain);if(o.xrpow_max>l)return pz.LARGE_BITS;if(function(t,n,o,i,a){var l,c,u,h=0,d=0,p=0,f=0,m=n,g=0,v=m,_=0,y=t,b=0;for(u=null!=a&&i.global_gain==a.global_gain,c=i.block_type==uH.SHORT_TYPE?38:21,l=0;l<=c;l++){var w=-1;if((u||i.block_type==uH.NORM_TYPE)&&(w=i.global_gain-(i.scalefac[l]+(0!=i.preflag?e.pretab[l]:0)<<i.scalefac_scale+1)-8*i.subblock_gain[i.window[l]]),vz(i.width[l]>=0),u&&a.step[l]==w)0!=d&&(s(d,o,y,b,v,_),d=0),0!=p&&(r(p,o,y,b,v,_),p=0);else{var x,T=i.width[l];if(h+i.width[l]>i.max_nonzero_coeff&&(x=i.max_nonzero_coeff-h+1,mz.fill(n,i.max_nonzero_coeff,576,0),(T=x)<0&&(T=0),l=c+1),0==d&&0==p&&(v=m,_=g,y=t,b=f),null!=a&&a.sfb_count1>0&&l>=a.sfb_count1&&a.step[l]>0&&w>=a.step[l]?(0!=d&&(s(d,o,y,b,v,_),d=0,v=m,_=g,y=t,b=f),p+=T):(0!=p&&(r(p,o,y,b,v,_),p=0,v=m,_=g,y=t,b=f),d+=T),T<=0){0!=p&&(r(p,o,y,b,v,_),p=0),0!=d&&(s(d,o,y,b,v,_),d=0);break}}l<=c&&(g+=i.width[l],f+=i.width[l],h+=i.width[l])}0!=d&&(s(d,o,y,b,v,_),d=0),0!=p&&(r(p,o,y,b,v,_),p=0)}(n,a,e.IPOW20(o.global_gain),o,i),0!=(2&t.substep_shaping))for(var c=0,u=o.global_gain+o.scalefac_scale,h=.634521682242439/e.IPOW20(u),d=0;d<o.sfbmax;d++){var p,f=o.width[d];if(0==t.pseudohalf[d])c+=f;else for(p=c,c+=f;p<c;++p)a[p]=n[p]>=h?a[p]:0}return this.noquant_count_bits(t,o,i)},this.best_huffman_divide=function(e,n){var r=new AH,s=n.l3_enc,o=gz(23),l=gz(23),c=gz(23),u=gz(23);if(n.block_type!=uH.SHORT_TYPE||1!=e.mode_gr){r.assign(n),n.block_type==uH.NORM_TYPE&&(!function(e,n,r,s,o,a,l){for(var c=n.big_values,u=0;u<=22;u++)s[u]=pz.LARGE_BITS;for(u=0;u<16;u++){var h=e.scalefac_band.l[u+1];if(h>=c)break;var d=0,p=new t(d),f=i(r,0,h,p);d=p.bits;for(var m=0;m<8;m++){var g=e.scalefac_band.l[u+m+2];if(g>=c)break;var v=d,_=i(r,h,g,p=new t(v));v=p.bits,s[u+m]>v&&(s[u+m]=v,o[u+m]=u,a[u+m]=f,l[u+m]=_)}}}(e,n,s,o,l,c,u),a(e,r,n,s,o,l,c,u));var h=r.big_values;if(!(0==h||(s[h-2]|s[h-1])>1||(h=n.count1+2)>576)){r.assign(n),r.count1=h;for(var d=0,p=0;h>r.big_values;h-=4){var f=2*(2*(2*s[h-4]+s[h-3])+s[h-2])+s[h-1];d+=iz.t32l[f],p+=iz.t33l[f]}if(r.big_values=h,r.count1table_select=0,d>p&&(d=p,r.count1table_select=1),r.count1bits=d,r.block_type==uH.NORM_TYPE)a(e,r,n,s,o,l,c,u);else{if(r.part2_3_length=d,(d=e.scalefac_band.l[8])>h&&(d=h),d>0){var m=new t(r.part2_3_length);r.table_select[0]=i(s,0,d,m),r.part2_3_length=m.bits}if(h>d){m=new t(r.part2_3_length);r.table_select[1]=i(s,d,h,m),r.part2_3_length=m.bits}n.part2_3_length>r.part2_3_length&&n.assign(r)}}}};var l=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],c=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],u=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],h=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];_z.slen1_tab=u,_z.slen2_tab=h,this.best_scalefac_store=function(t,n,r,s){var o,i,a,d,p=s.tt[n][r],f=0;for(a=0,o=0;o<p.sfbmax;o++){var m=p.width[o];for(a+=m,d=-m;d<0&&0==p.l3_enc[d+a];d++);0==d&&(p.scalefac[o]=f=-2)}if(0==p.scalefac_scale&&0==p.preflag){var g=0;for(o=0;o<p.sfbmax;o++)p.scalefac[o]>0&&(g|=p.scalefac[o]);if(0==(1&g)&&0!=g){for(o=0;o<p.sfbmax;o++)p.scalefac[o]>0&&(p.scalefac[o]>>=1);p.scalefac_scale=f=1}}if(0==p.preflag&&p.block_type!=uH.SHORT_TYPE&&2==t.mode_gr){for(o=11;o<uH.SBPSY_l&&!(p.scalefac[o]<e.pretab[o]&&-2!=p.scalefac[o]);o++);if(o==uH.SBPSY_l){for(o=11;o<uH.SBPSY_l;o++)p.scalefac[o]>0&&(p.scalefac[o]-=e.pretab[o]);p.preflag=f=1}}for(i=0;i<4;i++)s.scfsi[r][i]=0;for(2==t.mode_gr&&1==n&&s.tt[0][r].block_type!=uH.SHORT_TYPE&&s.tt[1][r].block_type!=uH.SHORT_TYPE&&(!function(e,t){for(var n,r=t.tt[1][e],s=t.tt[0][e],o=0;o<iz.scfsi_band.length-1;o++){for(n=iz.scfsi_band[o];n<iz.scfsi_band[o+1]&&!(s.scalefac[n]!=r.scalefac[n]&&r.scalefac[n]>=0);n++);if(n==iz.scfsi_band[o+1]){for(n=iz.scfsi_band[o];n<iz.scfsi_band[o+1];n++)r.scalefac[n]=-1;t.scfsi[e][o]=1}}var i=0,a=0;for(n=0;n<11;n++)-1!=r.scalefac[n]&&(a++,i<r.scalefac[n]&&(i=r.scalefac[n]));for(var d=0,p=0;n<uH.SBPSY_l;n++)-1!=r.scalefac[n]&&(p++,d<r.scalefac[n]&&(d=r.scalefac[n]));for(o=0;o<16;o++)if(i<l[o]&&d<c[o]){var f=u[o]*a+h[o]*p;r.part2_length>f&&(r.part2_length=f,r.scalefac_compress=o)}}(r,s),f=0),o=0;o<p.sfbmax;o++)-2==p.scalefac[o]&&(p.scalefac[o]=0);0!=f&&(2==t.mode_gr?this.scale_bitcount(p):this.scale_bitcount_lsf(t,p))};var d=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],p=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],f=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(t){var n,r,s,o=0,i=0,a=t.scalefac;if(vz(function(e,t){for(var n=0;n<t;++n)if(e[n]<0)return!1;return!0}(a,t.sfbmax)),t.block_type==uH.SHORT_TYPE)s=d,0!=t.mixed_block_flag&&(s=p);else if(s=f,0==t.preflag){for(r=11;r<uH.SBPSY_l&&!(a[r]<e.pretab[r]);r++);if(r==uH.SBPSY_l)for(t.preflag=1,r=11;r<uH.SBPSY_l;r++)a[r]-=e.pretab[r]}for(r=0;r<t.sfbdivide;r++)o<a[r]&&(o=a[r]);for(;r<t.sfbmax;r++)i<a[r]&&(i=a[r]);for(t.part2_length=pz.LARGE_BITS,n=0;n<16;n++)o<l[n]&&i<c[n]&&t.part2_length>s[n]&&(t.part2_length=s[n],t.scalefac_compress=n);return t.part2_length==pz.LARGE_BITS};var m=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(t,n){var r,s,o,i,a,l,c,u,h=gz(4),d=n.scalefac;for(r=0!=n.preflag?2:0,c=0;c<4;c++)h[c]=0;if(n.block_type==uH.SHORT_TYPE){s=1;var p=e.nr_of_sfb_block[r][s];for(u=0,o=0;o<4;o++)for(i=p[o]/3,c=0;c<i;c++,u++)for(a=0;a<3;a++)d[3*u+a]>h[o]&&(h[o]=d[3*u+a])}else{s=0;p=e.nr_of_sfb_block[r][s];for(u=0,o=0;o<4;o++)for(i=p[o],c=0;c<i;c++,u++)d[u]>h[o]&&(h[o]=d[u])}for(l=!1,o=0;o<4;o++)h[o]>m[r][o]&&(l=!0);if(!l){var f,v,_,y;for(n.sfb_partition_table=e.nr_of_sfb_block[r][s],o=0;o<4;o++)n.slen[o]=g[h[o]];switch(f=n.slen[0],v=n.slen[1],_=n.slen[2],y=n.slen[3],r){case 0:n.scalefac_compress=(5*f+v<<4)+(_<<2)+y;break;case 1:n.scalefac_compress=400+(5*f+v<<2)+_;break;case 2:n.scalefac_compress=500+3*f+v;break;default:fz.err.printf("intensity stereo not implemented yet\n")}}if(!l)for(vz(null!=n.sfb_partition_table),n.part2_length=0,o=0;o<4;o++)n.part2_length+=n.slen[o]*n.sfb_partition_table[o];return l};var g=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(e){for(var t=2;t<=576;t+=2){for(var r,s=0;e.scalefac_band.l[++s]<t;);for(r=n[s][0];e.scalefac_band.l[r+1]>t;)r--;for(r<0&&(r=n[s][0]),e.bv_scf[t-2]=r,r=n[s][1];e.scalefac_band.l[r+e.bv_scf[t-2]+2]>t;)r--;r<0&&(r=n[s][1]),e.bv_scf[t-1]=r}}}var yz=qV.System,bz=qV.Arrays,wz=qV.new_byte,xz=qV.new_float_n,Tz=qV.new_int,Ez=qV.assert;function Sz(){var e=this,t=null,n=null,r=null,s=null;this.setModules=function(e,o,i,a){t=e,n=o,r=i,s=a};var o=null,i=0,a=0,l=0;function c(e){yz.arraycopy(e.header[e.w_ptr].buf,0,o,a,e.sideinfo_len),a+=e.sideinfo_len,i+=8*e.sideinfo_len,e.w_ptr=e.w_ptr+1&qH.MAX_HEADER_BUF-1}function u(e,t,n){for(;n>0;){var r;0==l&&(l=8,a++,Ez(e.header[e.w_ptr].write_timing>=i),e.header[e.w_ptr].write_timing==i&&c(e),o[a]=0),n-=r=Math.min(n,l),l-=r,o[a]|=t>>n<<l,i+=r}}function h(e,t,n){for(;n>0;){var r;0==l&&(l=8,a++,o[a]=0),n-=r=Math.min(n,l),l-=r,o[a]|=t>>n<<l,i+=r}}function d(e,t){var n,s=e.internal_flags;if(t>=8&&(u(s,76,8),t-=8),t>=8&&(u(s,65,8),t-=8),t>=8&&(u(s,77,8),t-=8),t>=8&&(u(s,69,8),t-=8),t>=32){var o=r.getLameShortVersion();if(t>=32)for(n=0;n<o.length&&t>=8;++n)t-=8,u(s,o.charAt(n),8)}for(;t>=1;t-=1)u(s,s.ancillary_flag,1),s.ancillary_flag^=e.disable_reservoir?0:1}function p(e,t,n){for(var r=e.header[e.h_ptr].ptr;n>0;){var s=Math.min(n,8-(7&r));n-=s,e.header[e.h_ptr].buf[r>>3]|=t>>n<<8-(7&r)-s,r+=s}e.header[e.h_ptr].ptr=r}function f(e,t){e<<=8;for(var n=0;n<8;n++)0!=(65536&((t<<=1)^(e<<=1)))&&(t^=32773);return t}function m(e,t){var n,r=iz.ht[t.count1table_select+32],s=0,o=t.big_values,i=t.big_values;for(Ez(t.count1table_select<2),n=(t.count1-t.big_values)/4;n>0;--n){var a=0,l=0;0!=t.l3_enc[o+0]&&(l+=8,t.xr[i+0]<0&&a++),0!=t.l3_enc[o+1]&&(l+=4,a*=2,t.xr[i+1]<0&&a++),0!=t.l3_enc[o+2]&&(l+=2,a*=2,t.xr[i+2]<0&&a++),0!=t.l3_enc[o+3]&&(l++,a*=2,t.xr[i+3]<0&&a++),o+=4,i+=4,u(e,a+r.table[l],r.hlen[l]),s+=r.hlen[l]}return s}function g(e,t,n,r,s){var o=iz.ht[t],i=0;if(0==t)return i;for(var a=n;a<r;a+=2){var l=0,c=0,h=o.xlen,d=o.xlen,p=0,f=s.l3_enc[a],m=s.l3_enc[a+1];if(0!=f&&(s.xr[a]<0&&p++,l--),t>15){if(f>14){var g=f-15;Ez(g<=o.linmax),p|=g<<1,c=h,f=15}if(m>14){var v=m-15;Ez(v<=o.linmax),p<<=h,p|=v,c+=h,m=15}d=16}0!=m&&(p<<=1,s.xr[a+1]<0&&p++,l--),f=f*d+m,c-=l,l+=o.hlen[f],u(e,o.table[f],l),u(e,p,c),i+=l+c}return i}function v(e,t){var n=3*e.scalefac_band.s[3];n>t.big_values&&(n=t.big_values);var r=g(e,t.table_select[0],0,n,t);return r+=g(e,t.table_select[1],n,t.big_values,t)}function _(e,t){var n,r,s,o;n=t.big_values;var i=t.region0_count+1;return Ez(i<e.scalefac_band.l.length),s=e.scalefac_band.l[i],i+=t.region1_count+1,Ez(i<e.scalefac_band.l.length),s>n&&(s=n),(o=e.scalefac_band.l[i])>n&&(o=n),r=g(e,t.table_select[0],0,s,t),r+=g(e,t.table_select[1],s,o,t),r+=g(e,t.table_select[2],o,n,t)}function y(){this.total=0}function b(t,n){var r,s,o,l,c,u=t.internal_flags;return c=u.w_ptr,-1==(l=u.h_ptr-1)&&(l=qH.MAX_HEADER_BUF-1),r=u.header[l].write_timing-i,n.total=r,r>=0&&(s=1+l-c,l<c&&(s=1+l-c+qH.MAX_HEADER_BUF),r-=8*s*u.sideinfo_len),r+=o=e.getframebits(t),n.total+=o,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=a+1,r<0&&yz.err.println("strange error flushing buffer ... \n"),r}this.getframebits=function(e){var t,n=e.internal_flags;return t=0!=n.bitrate_index?iz.bitrate_table[e.version][n.bitrate_index]:e.brate,8*(0|72e3*(e.version+1)*t/e.out_samplerate+n.padding)},this.CRC_writeheader=function(e,t){var n=65535;n=f(255&t[2],n),n=f(255&t[3],n);for(var r=6;r<e.sideinfo_len;r++)n=f(255&t[r],n);t[4]=byte(n>>8),t[5]=byte(255&n)},this.flush_bitstream=function(e){var n,r,s=e.internal_flags,o=s.h_ptr-1;if(-1==o&&(o=qH.MAX_HEADER_BUF-1),n=s.l3_side,!((r=b(e,new y))<0)){if(d(e,r),Ez(s.header[o].write_timing+this.getframebits(e)==i),s.ResvSize=0,n.main_data_begin=0,s.findReplayGain){var a=t.GetTitleGain(s.rgdata);Ez(NEQ(a,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),s.RadioGain=0|Math.floor(10*a+.5)}s.findPeakSample&&(s.noclipGainChange=0|Math.ceil(20*Math.log10(s.PeakSample/32767)*10),s.noclipGainChange>0&&(EQ(e.scale,1)||EQ(e.scale,0))?s.noclipScale=Math.floor(32767/s.PeakSample*100)/100:s.noclipScale=-1)}},this.add_dummy_byte=function(e,t,n){for(var r,s=e.internal_flags;n-- >0;)for(h(0,t,8),r=0;r<qH.MAX_HEADER_BUF;++r)s.header[r].write_timing+=8},this.format_bitstream=function(e){var t,n=e.internal_flags;t=n.l3_side;var r=this.getframebits(e);d(e,t.resvDrain_pre),function(e,t){var n,r,s,o=e.internal_flags;if(n=o.l3_side,o.header[o.h_ptr].ptr=0,bz.fill(o.header[o.h_ptr].buf,0,o.sideinfo_len,0),e.out_samplerate<16e3?p(o,4094,12):p(o,4095,12),p(o,e.version,1),p(o,1,2),p(o,e.error_protection?0:1,1),p(o,o.bitrate_index,4),p(o,o.samplerate_index,2),p(o,o.padding,1),p(o,e.extension,1),p(o,e.mode.ordinal(),2),p(o,o.mode_ext,2),p(o,e.copyright,1),p(o,e.original,1),p(o,e.emphasis,2),e.error_protection&&p(o,0,16),1==e.version){for(Ez(n.main_data_begin>=0),p(o,n.main_data_begin,9),2==o.channels_out?p(o,n.private_bits,3):p(o,n.private_bits,5),s=0;s<o.channels_out;s++){var i;for(i=0;i<4;i++)p(o,n.scfsi[s][i],1)}for(r=0;r<2;r++)for(s=0;s<o.channels_out;s++)p(o,(a=n.tt[r][s]).part2_3_length+a.part2_length,12),p(o,a.big_values/2,9),p(o,a.global_gain,8),p(o,a.scalefac_compress,4),a.block_type!=uH.NORM_TYPE?(p(o,1,1),p(o,a.block_type,2),p(o,a.mixed_block_flag,1),14==a.table_select[0]&&(a.table_select[0]=16),p(o,a.table_select[0],5),14==a.table_select[1]&&(a.table_select[1]=16),p(o,a.table_select[1],5),p(o,a.subblock_gain[0],3),p(o,a.subblock_gain[1],3),p(o,a.subblock_gain[2],3)):(p(o,0,1),14==a.table_select[0]&&(a.table_select[0]=16),p(o,a.table_select[0],5),14==a.table_select[1]&&(a.table_select[1]=16),p(o,a.table_select[1],5),14==a.table_select[2]&&(a.table_select[2]=16),p(o,a.table_select[2],5),Ez(a.region0_count>=0&&a.region0_count<16),Ez(a.region1_count>=0&&a.region1_count<8),p(o,a.region0_count,4),p(o,a.region1_count,3)),p(o,a.preflag,1),p(o,a.scalefac_scale,1),p(o,a.count1table_select,1)}else for(Ez(n.main_data_begin>=0),p(o,n.main_data_begin,8),p(o,n.private_bits,o.channels_out),r=0,s=0;s<o.channels_out;s++){var a;p(o,(a=n.tt[r][s]).part2_3_length+a.part2_length,12),p(o,a.big_values/2,9),p(o,a.global_gain,8),p(o,a.scalefac_compress,9),a.block_type!=uH.NORM_TYPE?(p(o,1,1),p(o,a.block_type,2),p(o,a.mixed_block_flag,1),14==a.table_select[0]&&(a.table_select[0]=16),p(o,a.table_select[0],5),14==a.table_select[1]&&(a.table_select[1]=16),p(o,a.table_select[1],5),p(o,a.subblock_gain[0],3),p(o,a.subblock_gain[1],3),p(o,a.subblock_gain[2],3)):(p(o,0,1),14==a.table_select[0]&&(a.table_select[0]=16),p(o,a.table_select[0],5),14==a.table_select[1]&&(a.table_select[1]=16),p(o,a.table_select[1],5),14==a.table_select[2]&&(a.table_select[2]=16),p(o,a.table_select[2],5),Ez(a.region0_count>=0&&a.region0_count<16),Ez(a.region1_count>=0&&a.region1_count<8),p(o,a.region0_count,4),p(o,a.region1_count,3)),p(o,a.scalefac_scale,1),p(o,a.count1table_select,1)}e.error_protection&&CRC_writeheader(o,o.header[o.h_ptr].buf);var l=o.h_ptr;Ez(o.header[l].ptr==8*o.sideinfo_len),o.h_ptr=l+1&qH.MAX_HEADER_BUF-1,o.header[o.h_ptr].write_timing=o.header[l].write_timing+t,o.h_ptr==o.w_ptr&&yz.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}(e,r);var s=8*n.sideinfo_len;if(s+=function(e){var t,n,r,s,o=0,i=e.internal_flags,a=i.l3_side;if(1==e.version)for(t=0;t<2;t++)for(n=0;n<i.channels_out;n++){var l=a.tt[t][n],c=_z.slen1_tab[l.scalefac_compress],h=_z.slen2_tab[l.scalefac_compress];for(s=0,r=0;r<l.sfbdivide;r++)-1!=l.scalefac[r]&&(u(i,l.scalefac[r],c),s+=c);for(;r<l.sfbmax;r++)-1!=l.scalefac[r]&&(u(i,l.scalefac[r],h),s+=h);Ez(s==l.part2_length),l.block_type==uH.SHORT_TYPE?s+=v(i,l):s+=_(i,l),s+=m(i,l),Ez(s==l.part2_3_length+l.part2_length),o+=s}else for(t=0,n=0;n<i.channels_out;n++){l=a.tt[t][n];var d,p,f=0;if(Ez(null!=l.sfb_partition_table),s=0,r=0,p=0,l.block_type==uH.SHORT_TYPE){for(;p<4;p++){var g=l.sfb_partition_table[p]/3,y=l.slen[p];for(d=0;d<g;d++,r++)u(i,Math.max(l.scalefac[3*r+0],0),y),u(i,Math.max(l.scalefac[3*r+1],0),y),u(i,Math.max(l.scalefac[3*r+2],0),y),f+=3*y}s+=v(i,l)}else{for(;p<4;p++)for(g=l.sfb_partition_table[p],y=l.slen[p],d=0;d<g;d++,r++)u(i,Math.max(l.scalefac[r],0),y),f+=y;s+=_(i,l)}s+=m(i,l),Ez(s==l.part2_3_length),Ez(f==l.part2_length),o+=f+s}return o}(e),d(e,t.resvDrain_post),s+=t.resvDrain_post,t.main_data_begin+=(r-s)/8,b(e,new y)!=n.ResvSize&&yz.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*t.main_data_begin!=n.ResvSize&&(yz.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*t.main_data_begin,n.ResvSize,t.resvDrain_post,t.resvDrain_pre,8*n.sideinfo_len,s-t.resvDrain_post-8*n.sideinfo_len,s,s%8,r),yz.err.println("This is a fatal error.  It has several possible causes:"),yz.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),yz.err.println(" 9%%  Your system is overclocked"),yz.err.println(" 1%%  bug in LAME encoding library"),n.ResvSize=8*t.main_data_begin),i>1e9){var o;for(o=0;o<qH.MAX_HEADER_BUF;++o)n.header[o].write_timing-=i;i=0}return 0},this.copy_buffer=function(e,r,i,c,u){var h=a+1;if(h<=0)return 0;if(0!=c&&h>c)return-1;if(yz.arraycopy(o,0,r,i,h),a=-1,l=0,0!=u){var d=Tz(1);if(d[0]=e.nMusicCRC,s.updateMusicCRC(d,r,i,h),e.nMusicCRC=d[0],h>0&&(e.VBR_seek_table.nBytesWritten+=h),e.decode_on_the_fly)for(var p,f=xz([2,1152]),m=h,g=-1;0!=g;)if(g=n.hip_decode1_unclipped(e.hip,r,i,m,f[0],f[1]),m=0,-1==g&&(g=0),g>0){if(e.findPeakSample){for(p=0;p<g;p++)f[0][p]>e.PeakSample?e.PeakSample=f[0][p]:-f[0][p]>e.PeakSample&&(e.PeakSample=-f[0][p]);if(e.channels_out>1)for(p=0;p<g;p++)f[1][p]>e.PeakSample?e.PeakSample=f[1][p]:-f[1][p]>e.PeakSample&&(e.PeakSample=-f[1][p])}if(e.findReplayGain&&t.AnalyzeSamples(e.rgdata,f[0],0,f[1],0,g,e.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}return h},this.init_bit_stream_w=function(e){o=wz(Lz.LAME_MAXMP3BUFFER),e.h_ptr=e.w_ptr=0,e.header[e.h_ptr].write_timing=0,a=-1,l=0,i=0}}Sz.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},Sz.NEQ=function(e,t){return!Sz.EQ(e,t)};var kz=qV.System,Cz=qV.VbrMode,Az=qV.ShortBlock,Iz=qV.new_float,Rz=qV.new_int_n,Mz=qV.new_short_n,Oz=qV.assert;function Lz(){var e=this;Lz.V9=410,Lz.V8=420,Lz.V7=430,Lz.V6=440,Lz.V5=450,Lz.V4=460,Lz.V3=470,Lz.V2=480,Lz.V1=490,Lz.V0=500,Lz.R3MIX=1e3,Lz.STANDARD=1001,Lz.EXTREME=1002,Lz.INSANE=1003,Lz.STANDARD_FAST=1004,Lz.EXTREME_FAST=1005,Lz.MEDIUM=1006,Lz.MEDIUM_FAST=1007;var t,n,r,s,o;Lz.LAME_MAXMP3BUFFER=147456;var i,a,l,c=new TH;function u(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=Iz(uH.SBMAX_l),this.bo_s_weight=Iz(uH.SBMAX_s)}function h(){this.lowerlimit=0}function d(e,t){this.lowpass=t}this.enc=new uH,this.setModules=function(e,u,h,d,p,f,m,g,v){t=e,n=u,r=h,s=d,o=p,i=f,a=g,l=v,this.enc.setModules(n,c,s,i)};var p=4294479419;function f(e){return e>1?0:e<=0?1:Math.cos(Math.PI/2*e)}function m(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1,1;case 32e3:return t.version=1,2;case 22050:case 11025:return t.version=0,0;case 24e3:case 12e3:return t.version=0,1;case 16e3:case 8e3:return t.version=0,2;default:return t.version=0,-1}}function g(e,t,n){n<16e3&&(t=2);for(var r=iz.bitrate_table[t][1],s=2;s<=14;s++)iz.bitrate_table[t][s]>0&&Math.abs(iz.bitrate_table[t][s]-e)<Math.abs(r-e)&&(r=iz.bitrate_table[t][s]);return r}function v(e,t,n){n<16e3&&(t=2);for(var r=0;r<=14;r++)if(iz.bitrate_table[t][r]>0&&iz.bitrate_table[t][r]==e)return r;return-1}function _(t,n){var r=[new d(8,2e3),new d(16,3700),new d(24,3900),new d(32,5500),new d(40,7e3),new d(48,7500),new d(56,1e4),new d(64,11e3),new d(80,13500),new d(96,15100),new d(112,15600),new d(128,17e3),new d(160,17500),new d(192,18600),new d(224,19400),new d(256,19700),new d(320,20500)],s=e.nearestBitrateFullIndex(n);t.lowerlimit=r[s].lowpass}function y(e){var t=uH.BLKSIZE+e.framesize-uH.FFTOFFSET;return t=Math.max(t,512+e.framesize-32)}function b(t,n,r,s,o,i){var a=e.enc.lame_encode_mp3_frame(t,n,r,s,o,i);return t.frameNum++,a}function w(){this.n_in=0,this.n_out=0}function x(){this.num_used=0}function T(e,t){return 0!=t?T(t,e%t):e}function E(e,t,n){var r=Math.PI*t;(e/=n)<0&&(e=0),e>1&&(e=1);var s=e-.5,o=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(s)<1e-9?r/Math.PI:o*Math.sin(n*r*s)/(Math.PI*n*s)}function S(e,t,n,r,s,o,i,a,l){var c,u,h=e.internal_flags,d=0,p=e.out_samplerate/T(e.out_samplerate,e.in_samplerate);p>qH.BPC&&(p=qH.BPC);var f=Math.abs(h.resample_ratio-Math.floor(.5+h.resample_ratio))<1e-4?1:0,m=1/h.resample_ratio;m>1&&(m=1);var g=31;g%2==0&&--g;var v=(g+=f)+1;if(0==h.fill_buffer_resample_init){for(h.inbuf_old[0]=Iz(v),h.inbuf_old[1]=Iz(v),c=0;c<=2*p;++c)h.blackfilt[c]=Iz(v);for(h.itime[0]=0,h.itime[1]=0,d=0;d<=2*p;d++){var _=0,y=(d-p)/(2*p);for(c=0;c<=g;c++)_+=h.blackfilt[d][c]=E(c-y,m,g);for(c=0;c<=g;c++)h.blackfilt[d][c]/=_}h.fill_buffer_resample_init=1}var b=h.inbuf_old[l];for(u=0;u<r;u++){var w,x;if(w=u*h.resample_ratio,g+(d=0|Math.floor(w-h.itime[l]))-g/2>=i)break;y=w-h.itime[l]-(d+g%2*.5);x=0|Math.floor(2*y*p+p+.5);var S=0;for(c=0;c<=g;++c){var k=0|c+d-g/2;S+=(k<0?b[v+k]:s[o+k])*h.blackfilt[x][c]}t[n+u]=S}if(a.num_used=Math.min(i,g+d-g/2),h.itime[l]+=a.num_used-u*h.resample_ratio,a.num_used>=v)for(c=0;c<v;c++)b[c]=s[o+a.num_used+c-v];else{var C=v-a.num_used;for(c=0;c<C;++c)b[c]=b[c+a.num_used];for(d=0;c<v;++c,++d)b[c]=s[o+d];Oz(d==a.num_used)}return u}function k(e,t,n,r,s,o){var i=e.internal_flags;if(i.resample_ratio<.9999||i.resample_ratio>1.0001)for(var a=0;a<i.channels_out;a++){var l=new x;o.n_out=S(e,t[a],i.mf_size,e.framesize,n[a],r,s,l,a),o.n_in=l.num_used}else{o.n_out=Math.min(e.framesize,s),o.n_in=o.n_out;for(var c=0;c<o.n_out;++c)t[0][i.mf_size+c]=n[0][r+c],2==i.channels_out&&(t[1][i.mf_size+c]=n[1][r+c])}}this.lame_init=function(){var e=new EH;return function(e){var t;e.class_id=p,t=e.internal_flags=new qH,e.mode=nH.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=Cz.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=uH.ENCDELAY+uH.POSTDELAY,e.encoder_padding=0,t.mf_size=uH.ENCDELAY-uH.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0}(e),e.lame_allocated_gfp=1,e},this.nearestBitrateFullIndex=function(e){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,r=0,s=0,o=0;o=t[16],s=16,r=t[16],n=16;for(var i=0;i<16;i++)if(Math.max(e,t[i+1])!=e){o=t[i+1],s=i+1,r=t[i],n=i;break}return o-e>e-r?n:s},this.lame_init_params=function(e){var d,y,b,w=e.internal_flags;if(w.Class_ID=0,null==w.ATH&&(w.ATH=new WH),null==w.PSY&&(w.PSY=new u),null==w.rgdata&&(w.rgdata=new JH),w.channels_in=e.num_channels,1==w.channels_in&&(e.mode=nH.MONO),w.channels_out=e.mode==nH.MONO?1:2,w.mode_ext=uH.MPG_MD_MS_LR,e.mode==nH.MONO&&(e.force_ms=!1),e.VBR==Cz.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR==Cz.vbr_off||e.VBR==Cz.vbr_mtrh||e.VBR==Cz.vbr_mt||(e.free_format=!1),e.VBR==Cz.vbr_off&&0==e.brate&&Sz.EQ(e.compression_ratio,0)&&(e.compression_ratio=11.025),e.VBR==Cz.vbr_off&&e.compression_ratio>0&&(0==e.out_samplerate&&(e.out_samplerate=map2MP3Frequency(int(.97*e.in_samplerate))),e.brate=0|16*e.out_samplerate*w.channels_out/(1e3*e.compression_ratio),w.samplerate_index=m(e.out_samplerate,e),e.free_format||(e.brate=g(e.brate,e.version,e.out_samplerate))),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var x=16e3;switch(e.VBR){case Cz.vbr_off:_(T=new h,e.brate),x=T.lowerlimit;break;case Cz.vbr_abr:var T;_(T=new h,e.VBR_mean_bitrate_kbps),x=T.lowerlimit;break;case Cz.vbr_rh:var E=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(e.VBR_q>=0&&e.VBR_q<=9){var S=E[e.VBR_q],k=E[e.VBR_q+1],C=e.VBR_q_frac;x=linear_int(S,k,C)}else x=19500;break;default:E=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(e.VBR_q>=0&&e.VBR_q<=9){S=E[e.VBR_q],k=E[e.VBR_q+1],C=e.VBR_q_frac;x=linear_int(S,k,C)}else x=19500}e.mode!=nH.MONO||e.VBR!=Cz.vbr_off&&e.VBR!=Cz.vbr_abr||(x*=1.5),e.lowpassfreq=0|x}if(0==e.out_samplerate&&(2*e.lowpassfreq>e.in_samplerate&&(e.lowpassfreq=e.in_samplerate/2),e.out_samplerate=(d=0|e.lowpassfreq,y=e.in_samplerate,b=44100,y>=48e3?b=48e3:y>=44100?b=44100:y>=32e3?b=32e3:y>=24e3?b=24e3:y>=22050?b=22050:y>=16e3?b=16e3:y>=12e3?b=12e3:y>=11025?b=11025:y>=8e3&&(b=8e3),-1==d?b:(d<=15960&&(b=44100),d<=15250&&(b=32e3),d<=11220&&(b=24e3),d<=9970&&(b=22050),d<=7230&&(b=16e3),d<=5420&&(b=12e3),d<=4510&&(b=11025),d<=3970&&(b=8e3),y<b?y>44100?48e3:y>32e3?44100:y>24e3?32e3:y>22050?24e3:y>16e3?22050:y>12e3?16e3:y>11025?12e3:y>8e3?11025:8e3:b))),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==Cz.vbr_off&&(e.compression_ratio=16*e.out_samplerate*w.channels_out/(1e3*e.brate)),e.VBR==Cz.vbr_abr&&(e.compression_ratio=16*e.out_samplerate*w.channels_out/(1e3*e.VBR_mean_bitrate_kbps)),e.bWriteVbrTag||(e.findReplayGain=!1,e.decode_on_the_fly=!1,w.findPeakSample=!1),w.findReplayGain=e.findReplayGain,w.decode_on_the_fly=e.decode_on_the_fly,w.decode_on_the_fly&&(w.findPeakSample=!0),w.findReplayGain&&t.InitGainAnalysis(w.rgdata,e.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return e.internal_flags=null,-6;switch(w.decode_on_the_fly&&!e.decode_only&&(null!=w.hip&&l.hip_decode_exit(w.hip),w.hip=l.hip_decode_init()),w.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*w.mode_gr,e.encoder_delay=uH.ENCDELAY,w.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case Cz.vbr_mt:case Cz.vbr_rh:case Cz.vbr_mtrh:e.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][e.VBR_q];break;case Cz.vbr_abr:e.compression_ratio=16*e.out_samplerate*w.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*w.channels_out/(1e3*e.brate)}if(e.mode==nH.NOT_SET&&(e.mode=nH.JOINT_STEREO),e.highpassfreq>0?(w.highpass1=2*e.highpassfreq,e.highpasswidth>=0?w.highpass2=2*(e.highpassfreq+e.highpasswidth):w.highpass2=2*e.highpassfreq,w.highpass1/=e.out_samplerate,w.highpass2/=e.out_samplerate):(w.highpass1=0,w.highpass2=0),e.lowpassfreq>0?(w.lowpass2=2*e.lowpassfreq,e.lowpasswidth>=0?(w.lowpass1=2*(e.lowpassfreq-e.lowpasswidth),w.lowpass1<0&&(w.lowpass1=0)):w.lowpass1=2*e.lowpassfreq,w.lowpass1/=e.out_samplerate,w.lowpass2/=e.out_samplerate):(w.lowpass1=0,w.lowpass2=0),function(e){var t=e.internal_flags,n=32,r=-1;if(t.lowpass1>0){for(var s=999,o=0;o<=31;o++)(c=o/31)>=t.lowpass2&&(n=Math.min(n,o)),t.lowpass1<c&&c<t.lowpass2&&(s=Math.min(s,o));t.lowpass1=999==s?(n-.75)/31:(s-.75)/31,t.lowpass2=n/31}if(t.highpass2>0&&t.highpass2<.75/31*.9&&(t.highpass1=0,t.highpass2=0,kz.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),t.highpass2>0){var i=-1;for(o=0;o<=31;o++)(c=o/31)<=t.highpass1&&(r=Math.max(r,o)),t.highpass1<c&&c<t.highpass2&&(i=Math.max(i,o));t.highpass1=r/31,t.highpass2=-1==i?(r+.75)/31:(i+.75)/31}for(o=0;o<32;o++){var a,l,c=o/31;a=t.highpass2>t.highpass1?f((t.highpass2-c)/(t.highpass2-t.highpass1+1e-20)):1,l=t.lowpass2>t.lowpass1?f((c-t.lowpass1)/(t.lowpass2-t.lowpass1+1e-20)):1,t.amp_filter[o]=a*l}}(e),w.samplerate_index=m(e.out_samplerate,e),w.samplerate_index<0)return e.internal_flags=null,-1;if(e.VBR==Cz.vbr_off){if(e.free_format)w.bitrate_index=0;else if(e.brate=g(e.brate,e.version,e.out_samplerate),w.bitrate_index=v(e.brate,e.version,e.out_samplerate),w.bitrate_index<=0)return e.internal_flags=null,-1}else w.bitrate_index=1;e.analysis&&(e.bWriteVbrTag=!1),null!=w.pinfo&&(e.bWriteVbrTag=!1),n.init_bit_stream_w(w);for(var A,I=w.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),R=0;R<uH.SBMAX_l+1;R++)w.scalefac_band.l[R]=s.sfBandIndex[I].l[R];for(R=0;R<uH.PSFB21+1;R++){var M=(w.scalefac_band.l[22]-w.scalefac_band.l[21])/uH.PSFB21,O=w.scalefac_band.l[21]+R*M;w.scalefac_band.psfb21[R]=O}w.scalefac_band.psfb21[uH.PSFB21]=576;for(R=0;R<uH.SBMAX_s+1;R++)w.scalefac_band.s[R]=s.sfBandIndex[I].s[R];for(R=0;R<uH.PSFB12+1;R++){M=(w.scalefac_band.s[13]-w.scalefac_band.s[12])/uH.PSFB12,O=w.scalefac_band.s[12]+R*M;w.scalefac_band.psfb12[R]=O}for(w.scalefac_band.psfb12[uH.PSFB12]=192,1==e.version?w.sideinfo_len=1==w.channels_out?21:36:w.sideinfo_len=1==w.channels_out?13:21,e.error_protection&&(w.sideinfo_len+=2),function(e){var t=e.internal_flags;e.frameNum=0,e.write_id3tag_automatic&&a.id3tag_write_v2(e),t.bitrate_stereoMode_Hist=Rz([16,5]),t.bitrate_blockType_Hist=Rz([16,6]),t.PeakSample=0,e.bWriteVbrTag&&i.InitVbrTag(e)}(e),w.Class_ID=p,A=0;A<19;A++)w.nsPsy.pefirbuf[A]=700*w.mode_gr*w.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),Oz(e.VBR_q<=9),Oz(e.VBR_q>=0),e.VBR){case Cz.vbr_mt:e.VBR=Cz.vbr_mtrh;case Cz.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),r.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),e.quality>5&&(e.quality=5),w.PSY.mask_adjust=e.maskingadjust,w.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?w.sfb21_extra=!1:w.sfb21_extra=e.out_samplerate>44e3,w.iteration_loop=new VBRNewIterationLoop(o);break;case Cz.vbr_rh:r.apply_preset(e,500-10*e.VBR_q,0),w.PSY.mask_adjust=e.maskingadjust,w.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?w.sfb21_extra=!1:w.sfb21_extra=e.out_samplerate>44e3,e.quality>6&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),w.iteration_loop=new VBROldIterationLoop(o);break;default:var L;w.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),(L=e.VBR)==Cz.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),r.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=L,w.PSY.mask_adjust=e.maskingadjust,w.PSY.mask_adjust_short=e.maskingadjust_short,L==Cz.vbr_off?w.iteration_loop=new sz(o):w.iteration_loop=new ABRIterationLoop(o)}if(Oz(e.scale>=0),e.VBR!=Cz.vbr_off){if(w.VBR_min_bitrate=1,w.VBR_max_bitrate=14,e.out_samplerate<16e3&&(w.VBR_max_bitrate=8),0!=e.VBR_min_bitrate_kbps&&(e.VBR_min_bitrate_kbps=g(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),w.VBR_min_bitrate=v(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),w.VBR_min_bitrate<0))return-1;if(0!=e.VBR_max_bitrate_kbps&&(e.VBR_max_bitrate_kbps=g(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),w.VBR_max_bitrate=v(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),w.VBR_max_bitrate<0))return-1;e.VBR_min_bitrate_kbps=iz.bitrate_table[e.version][w.VBR_min_bitrate],e.VBR_max_bitrate_kbps=iz.bitrate_table[e.version][w.VBR_max_bitrate],e.VBR_mean_bitrate_kbps=Math.min(iz.bitrate_table[e.version][w.VBR_max_bitrate],e.VBR_mean_bitrate_kbps),e.VBR_mean_bitrate_kbps=Math.max(iz.bitrate_table[e.version][w.VBR_min_bitrate],e.VBR_mean_bitrate_kbps)}return e.tune&&(w.PSY.mask_adjust+=e.tune_value_a,w.PSY.mask_adjust_short+=e.tune_value_a),function(e){var t=e.internal_flags;switch(e.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:e.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0}}(e),Oz(e.scale>=0),e.athaa_type<0?w.ATH.useAdjust=3:w.ATH.useAdjust=e.athaa_type,w.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=Az.short_block_allowed),e.short_blocks!=Az.short_block_allowed||e.mode!=nH.JOINT_STEREO&&e.mode!=nH.STEREO||(e.short_blocks=Az.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=TH.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=TH.NSATTACKTHRE_S),Oz(e.scale>=0),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),w.slot_lag=w.frac_SpF=0,e.VBR==Cz.vbr_off&&(w.slot_lag=w.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),s.iteration_init(e),c.psymodel_init(e),Oz(e.scale>=0),0},this.lame_encode_flush=function(e,t,r,s){var o,i,l,c,u=e.internal_flags,h=Mz([2,1152]),d=0,p=u.mf_samples_to_encode-uH.POSTDELAY,f=y(e);if(u.mf_samples_to_encode<1)return 0;for(o=0,e.in_samplerate!=e.out_samplerate&&(p+=16*e.out_samplerate/e.in_samplerate),(l=e.framesize-p%e.framesize)<576&&(l+=e.framesize),e.encoder_padding=l,c=(p+l)/e.framesize;c>0&&d>=0;){var m=f-u.mf_size,g=e.frameNum;m*=e.in_samplerate,(m/=e.out_samplerate)>1152&&(m=1152),m<1&&(m=1),i=s-o,0==s&&(i=0),r+=d=this.lame_encode_buffer(e,h[0],h[1],m,t,r,i),o+=d,c-=g!=e.frameNum?1:0}if(u.mf_samples_to_encode=0,d<0)return d;if(i=s-o,0==s&&(i=0),n.flush_bitstream(e),(d=n.copy_buffer(u,t,r,i,1))<0)return d;if(r+=d,i=s-(o+=d),0==s&&(i=0),e.write_id3tag_automatic){if(a.id3tag_write_v1(e),(d=n.copy_buffer(u,t,r,i,0))<0)return d;o+=d}return o},this.lame_encode_buffer=function(e,r,s,o,i,a,l){var c=e.internal_flags,u=[null,null];if(c.Class_ID!=p)return-3;if(0==o)return 0;!function(e,t){(null==e.in_buffer_0||e.in_buffer_nsamples<t)&&(e.in_buffer_0=Iz(t),e.in_buffer_1=Iz(t),e.in_buffer_nsamples=t)}(c,o),u[0]=c.in_buffer_0,u[1]=c.in_buffer_1;for(var h=0;h<o;h++)u[0][h]=r[h],c.channels_in>1&&(u[1][h]=s[h]);return function(e,r,s,o,i,a,l){var c,u,h,d,f,m=e.internal_flags,g=0,v=[null,null],_=[null,null];if(m.Class_ID!=p)return-3;if(0==o)return 0;if(f=n.copy_buffer(m,i,a,l,0),f<0)return f;if(a+=f,g+=f,_[0]=r,_[1]=s,Sz.NEQ(e.scale,0)&&Sz.NEQ(e.scale,1))for(u=0;u<o;++u)_[0][u]*=e.scale,2==m.channels_out&&(_[1][u]*=e.scale);if(Sz.NEQ(e.scale_left,0)&&Sz.NEQ(e.scale_left,1))for(u=0;u<o;++u)_[0][u]*=e.scale_left;if(Sz.NEQ(e.scale_right,0)&&Sz.NEQ(e.scale_right,1))for(u=0;u<o;++u)_[1][u]*=e.scale_right;if(2==e.num_channels&&1==m.channels_out)for(u=0;u<o;++u)_[0][u]=.5*(_[0][u]+_[1][u]),_[1][u]=0;d=y(e),v[0]=m.mfbuf[0],v[1]=m.mfbuf[1];var x=0;for(;o>0;){var T=[null,null],E=0,S=0;T[0]=_[0],T[1]=_[1];var C=new w;if(k(e,v,T,x,o,C),E=C.n_in,S=C.n_out,m.findReplayGain&&!m.decode_on_the_fly&&t.AnalyzeSamples(m.rgdata,v[0],m.mf_size,v[1],m.mf_size,S,m.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(o-=E,x+=E,m.channels_out,m.mf_size+=S,Oz(m.mf_size<=qH.MFSIZE),m.mf_samples_to_encode<1&&(m.mf_samples_to_encode=uH.ENCDELAY+uH.POSTDELAY),m.mf_samples_to_encode+=S,m.mf_size>=d){var A=l-g;if(0==l&&(A=0),(c=b(e,v[0],v[1],i,a,A))<0)return c;for(a+=c,g+=c,m.mf_size-=e.framesize,m.mf_samples_to_encode-=e.framesize,h=0;h<m.channels_out;h++)for(u=0;u<m.mf_size;u++)v[h][u]=v[h][u+e.framesize]}}return g}(e,u[0],u[1],o,i,a,l)}}var Nz=qV.VbrMode;function Pz(){function e(e,t,n,r,s,o,i,a,l,c,u,h,d,p,f){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=n,this.expY=r,this.st_lrm=s,this.st_s=o,this.masking_adj=i,this.masking_adj_short=a,this.ath_lower=l,this.ath_curve=c,this.ath_sensitivity=u,this.interch=h,this.safejoint=d,this.sfb21mod=p,this.msfix=f}function t(e,t,n,r,s,o,i,a,l,c,u,h,d,p){this.quant_comp=t,this.quant_comp_s=n,this.safejoint=r,this.nsmsfix=s,this.st_lrm=o,this.st_s=i,this.nsbass=a,this.scale=l,this.masking_adj=c,this.ath_lower=u,this.ath_curve=h,this.interch=d,this.sfscale=p}var n;this.setModules=function(e){n=e};var r=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],s=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function o(e,t,n){var o=e.VBR==Nz.vbr_rh?r:s,i=e.VBR_q_frac,a=o[t],l=o[t+1],c=a;a.st_lrm=a.st_lrm+i*(l.st_lrm-a.st_lrm),a.st_s=a.st_s+i*(l.st_s-a.st_s),a.masking_adj=a.masking_adj+i*(l.masking_adj-a.masking_adj),a.masking_adj_short=a.masking_adj_short+i*(l.masking_adj_short-a.masking_adj_short),a.ath_lower=a.ath_lower+i*(l.ath_lower-a.ath_lower),a.ath_curve=a.ath_curve+i*(l.ath_curve-a.ath_curve),a.ath_sensitivity=a.ath_sensitivity+i*(l.ath_sensitivity-a.ath_sensitivity),a.interch=a.interch+i*(l.interch-a.interch),a.msfix=a.msfix+i*(l.msfix-a.msfix),function(e,t){var n=0;t<0&&(n=-1,t=0);t>9&&(n=-1,t=9);e.VBR_q=t,e.VBR_q_frac=0}(e,c.vbr_q),0!=n?e.quant_comp=c.quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=c.quant_comp),0!=n?e.quant_comp_short=c.quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=c.quant_comp_s),0!=c.expY&&(e.experimentalY=0!=c.expY),0!=n?e.internal_flags.nsPsy.attackthre=c.st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=c.st_lrm),0!=n?e.internal_flags.nsPsy.attackthre_s=c.st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=c.st_s),0!=n?e.maskingadjust=c.masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=c.masking_adj),0!=n?e.maskingadjust_short=c.masking_adj_short:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=c.masking_adj_short),0!=n?e.ATHlower=-c.ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-c.ath_lower/10),0!=n?e.ATHcurve=c.ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=c.ath_curve),0!=n?e.athaa_sensitivity=c.ath_sensitivity:Math.abs(e.athaa_sensitivity- -1)>0||(e.athaa_sensitivity=c.ath_sensitivity),c.interch>0&&(0!=n?e.interChRatio=c.interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=c.interch)),c.safejoint>0&&(e.exp_nspsytune=e.exp_nspsytune|c.safejoint),c.sfb21mod>0&&(e.exp_nspsytune=e.exp_nspsytune|c.sfb21mod<<20),0!=n?e.msfix=c.msfix:Math.abs(e.msfix- -1)>0||(e.msfix=c.msfix),0==n&&(e.VBR_q=t,e.VBR_q_frac=i)}var i=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function a(e,t,r){var s=t,o=n.nearestBitrateFullIndex(t);if(e.VBR=Nz.vbr_abr,e.VBR_mean_bitrate_kbps=s,e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320),e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.brate=e.VBR_mean_bitrate_kbps,e.VBR_mean_bitrate_kbps>320&&(e.disable_reservoir=!0),i[o].safejoint>0&&(e.exp_nspsytune=2|e.exp_nspsytune),i[o].sfscale>0&&(e.internal_flags.noise_shaping=2),Math.abs(i[o].nsbass)>0){var a=int(4*i[o].nsbass);a<0&&(a+=64),e.exp_nspsytune=e.exp_nspsytune|a<<2}return 0!=r?e.quant_comp=i[o].quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=i[o].quant_comp),0!=r?e.quant_comp_short=i[o].quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=i[o].quant_comp_s),0!=r?e.msfix=i[o].nsmsfix:Math.abs(e.msfix- -1)>0||(e.msfix=i[o].nsmsfix),0!=r?e.internal_flags.nsPsy.attackthre=i[o].st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=i[o].st_lrm),0!=r?e.internal_flags.nsPsy.attackthre_s=i[o].st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=i[o].st_s),0!=r?e.scale=i[o].scale:Math.abs(e.scale- -1)>0||(e.scale=i[o].scale),0!=r?e.maskingadjust=i[o].masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=i[o].masking_adj),i[o].masking_adj>0?0!=r?e.maskingadjust_short=.9*i[o].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=.9*i[o].masking_adj):0!=r?e.maskingadjust_short=1.1*i[o].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=1.1*i[o].masking_adj),0!=r?e.ATHlower=-i[o].ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-i[o].ath_lower/10),0!=r?e.ATHcurve=i[o].ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=i[o].ath_curve),0!=r?e.interChRatio=i[o].interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=i[o].interch),t}this.apply_preset=function(e,t,n){switch(t){case Lz.R3MIX:t=Lz.V3,e.VBR=Nz.vbr_mtrh;break;case Lz.MEDIUM:t=Lz.V4,e.VBR=Nz.vbr_rh;break;case Lz.MEDIUM_FAST:t=Lz.V4,e.VBR=Nz.vbr_mtrh;break;case Lz.STANDARD:t=Lz.V2,e.VBR=Nz.vbr_rh;break;case Lz.STANDARD_FAST:t=Lz.V2,e.VBR=Nz.vbr_mtrh;break;case Lz.EXTREME:t=Lz.V0,e.VBR=Nz.vbr_rh;break;case Lz.EXTREME_FAST:t=Lz.V0,e.VBR=Nz.vbr_mtrh;break;case Lz.INSANE:return t=320,e.preset=t,a(e,t,n),e.VBR=Nz.vbr_off,t}switch(e.preset=t,t){case Lz.V9:return o(e,9,n),t;case Lz.V8:return o(e,8,n),t;case Lz.V7:return o(e,7,n),t;case Lz.V6:return o(e,6,n),t;case Lz.V5:return o(e,5,n),t;case Lz.V4:return o(e,4,n),t;case Lz.V3:return o(e,3,n),t;case Lz.V2:return o(e,2,n),t;case Lz.V1:return o(e,1,n),t;case Lz.V0:return o(e,0,n),t}return t>=8&&t<=320?a(e,t,n):(e.preset=0,t)}}function Dz(){this.setModules=function(e,t){}}function jz(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var Fz=qV.new_float,Uz=qV.new_int;function Bz(){this.global_gain=0,this.sfb_count1=0,this.step=Uz(39),this.noise=Fz(39),this.noise_log=Fz(39)}var $z=qV.System,Vz=qV.VbrMode,Hz=qV.Util,zz=qV.Arrays,qz=qV.new_float,Gz=qV.assert;function Wz(){var e,t,n;this.rv=null,this.qupvt=null;var r,s=new Dz;function o(e){this.ordinal=e}function i(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function a(e,t,n,r,s){var o;switch(e){default:case 9:t.over_count>0?(o=n.over_SSD<=t.over_SSD,n.over_SSD==t.over_SSD&&(o=n.bits<t.bits)):o=n.max_noise<0&&10*n.max_noise+n.bits<=10*t.max_noise+t.bits;break;case 0:o=n.over_count<t.over_count||n.over_count==t.over_count&&n.over_noise<t.over_noise||n.over_count==t.over_count&&BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 8:n.max_noise=function(e,t){for(var n,r=1e-37,s=0;s<t.psymax;s++)r+=(n=e[s],Hz.FAST_LOG10(.368+.632*n*n*n));return Math.max(1e-20,r)}(s,r);case 1:o=n.max_noise<t.max_noise;break;case 2:o=n.tot_noise<t.tot_noise;break;case 3:o=n.tot_noise<t.tot_noise&&n.max_noise<t.max_noise;break;case 4:o=n.max_noise<=0&&t.max_noise>.2||n.max_noise<=0&&t.max_noise<0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise||n.max_noise<=0&&t.max_noise>0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.05&&t.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<t.tot_noise+t.over_noise||n.max_noise>0&&t.max_noise>-.1&&t.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:o=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 6:o=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&(n.max_noise<t.max_noise||BitStream.EQ(n.max_noise,t.max_noise)&&n.tot_noise<=t.tot_noise);break;case 7:o=n.over_count<t.over_count||n.over_noise<t.over_noise}return 0==t.over_count&&(o=o&&n.bits<t.bits),o}function l(e,t,s,o,a){var l=e.internal_flags;!function(e,t,n,r,s){var o,i=e.internal_flags;o=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var a=0,l=0;l<t.sfbmax;l++)a<n[l]&&(a=n[l]);var c=i.noise_shaping_amp;switch(3==c&&(c=s?2:1),c){case 2:break;case 1:a>1?a=Math.pow(a,.5):a*=.95;break;default:a>1?a=1:a*=.95}var u=0;for(l=0;l<t.sfbmax;l++){var h,d=t.width[l];if(u+=d,!(n[l]<a)){if(0!=(2&i.substep_shaping)&&(i.pseudohalf[l]=0==i.pseudohalf[l]?1:0,0==i.pseudohalf[l]&&2==i.noise_shaping_amp))return;for(t.scalefac[l]++,h=-d;h<0;h++)r[u+h]*=o,r[u+h]>t.xrpow_max&&(t.xrpow_max=r[u+h]);if(2==i.noise_shaping_amp)return}}}(e,t,s,o,a);var c=i(t);return!c&&(!(c=2==l.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(l,t))||(l.noise_shaping>1&&(zz.fill(l.pseudohalf,0),0==t.scalefac_scale?(!function(e,t){for(var r=0,s=0;s<e.sfbmax;s++){var o=e.width[s],i=e.scalefac[s];if(0!=e.preflag&&(i+=n.pretab[s]),r+=o,0!=(1&i)){i++;for(var a=-o;a<0;a++)t[r+a]*=1.2968395546510096,t[r+a]>e.xrpow_max&&(e.xrpow_max=t[r+a])}e.scalefac[s]=i>>1}e.preflag=0,e.scalefac_scale=1}(t,o),c=!1):t.block_type==uH.SHORT_TYPE&&l.subblock_gain>0&&(c=function(e,t,r){var s,o=t.scalefac;for(s=0;s<t.sfb_lmax;s++)if(o[s]>=16)return!0;for(var i=0;i<3;i++){var a=0,l=0;for(s=t.sfb_lmax+i;s<t.sfbdivide;s+=3)a<o[s]&&(a=o[s]);for(;s<t.sfbmax;s+=3)l<o[s]&&(l=o[s]);if(!(a<16&&l<8)){if(t.subblock_gain[i]>=7)return!0;t.subblock_gain[i]++;var c=e.scalefac_band.l[t.sfb_lmax];for(s=t.sfb_lmax+i;s<t.sfbmax;s+=3){var u=t.width[s],h=o[s];if((h-=4>>t.scalefac_scale)>=0)o[s]=h,c+=3*u;else{o[s]=0;var d=210+(h<<t.scalefac_scale+1);f=n.IPOW20(d),c+=u*(i+1);for(var p=-u;p<0;p++)r[c+p]*=f,r[c+p]>t.xrpow_max&&(t.xrpow_max=r[c+p]);c+=u*(3-i-1)}}var f=n.IPOW20(202);for(c+=t.width[s]*(i+1),p=-t.width[s];p<0;p++)r[c+p]*=f,r[c+p]>t.xrpow_max&&(t.xrpow_max=r[c+p])}}return!1}(l,t,o)||i(t))),c||(c=2==l.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(l,t)),!c))}this.setModules=function(o,i,a,l){e=o,t=i,this.rv=i,n=a,this.qupvt=a,r=l,s.setModules(n,r)},this.ms_convert=function(e,t){for(var n=0;n<576;++n){var r=e.tt[t][0].xr[n],s=e.tt[t][1].xr[n];e.tt[t][0].xr[n]=(r+s)*(.5*Hz.SQRT2),e.tt[t][1].xr[n]=(r-s)*(.5*Hz.SQRT2)}},this.init_xrpow=function(e,t,n){var r=0,s=0|t.max_nonzero_coeff;if(t.xrpow_max=0,zz.fill(n,s,576,0),r=function(e,t,n,r){r=0;for(var s=0;s<=n;++s){var o=Math.abs(e.xr[s]);r+=o,t[s]=Math.sqrt(o*Math.sqrt(o)),t[s]>e.xrpow_max&&(e.xrpow_max=t[s])}return r}(t,n,s,r),r>1e-20){var o=0;0!=(2&e.substep_shaping)&&(o=1);for(var i=0;i<t.psymax;i++)e.pseudohalf[i]=o;return!0}return zz.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=uH.SBPSY_l,t.sfb_smin=uH.SBPSY_s,t.psy_lmax=e.sfb21_extra?uH.SBMAX_l:uH.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var r=0;r<uH.SBMAX_l;r++)t.width[r]=e.scalefac_band.l[r+1]-e.scalefac_band.l[r],t.window[r]=3;if(t.block_type==uH.SHORT_TYPE){var s=qz(576);t.sfb_smin=0,t.sfb_lmax=0,0!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?uH.SBMAX_s:uH.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(uH.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax;var o=e.scalefac_band.l[t.sfb_lmax];$z.arraycopy(t.xr,0,s,0,576);for(r=t.sfb_smin;r<uH.SBMAX_s;r++)for(var i=e.scalefac_band.s[r],a=e.scalefac_band.s[r+1],l=0;l<3;l++)for(var c=i;c<a;c++)t.xr[o++]=s[3*c+l];var u=t.sfb_lmax;for(r=t.sfb_smin;r<uH.SBMAX_s;r++)t.width[u]=t.width[u+1]=t.width[u+2]=e.scalefac_band.s[r+1]-e.scalefac_band.s[r],t.window[u]=0,t.window[u+1]=1,t.window[u+2]=2,u+=3}t.count1bits=0,t.sfb_partition_table=n.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,zz.fill(t.scalefac,0),function(e,t){var r=e.ATH,s=t.xr;if(t.block_type!=uH.SHORT_TYPE)for(var o=!1,i=uH.PSFB21-1;i>=0&&!o;i--){var a=e.scalefac_band.psfb21[i],l=e.scalefac_band.psfb21[i+1],c=n.athAdjust(r.adjust,r.psfb21[i],r.floor);e.nsPsy.longfact[21]>1e-12&&(c*=e.nsPsy.longfact[21]);for(var u=l-1;u>=a;u--){if(!(Math.abs(s[u])<c)){o=!0;break}s[u]=0}}else for(var h=0;h<3;h++)for(o=!1,i=uH.PSFB12-1;i>=0&&!o;i--){l=(a=3*e.scalefac_band.s[12]+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*h+(e.scalefac_band.psfb12[i]-e.scalefac_band.psfb12[0]))+(e.scalefac_band.psfb12[i+1]-e.scalefac_band.psfb12[i]);var d=n.athAdjust(r.adjust,r.psfb12[i],r.floor);for(e.nsPsy.shortfact[12]>1e-12&&(d*=e.nsPsy.shortfact[12]),u=l-1;u>=a;u--){if(!(Math.abs(s[u])<d)){o=!0;break}s[u]=0}}}(e,t)},o.BINSEARCH_NONE=new o(0),o.BINSEARCH_UP=new o(1),o.BINSEARCH_DOWN=new o(2),this.trancate_smallspectrums=function(e,t,s,o){var i=qz(SH.SFBMAX);if((0!=(4&e.substep_shaping)||t.block_type!=uH.SHORT_TYPE)&&0==(128&e.substep_shaping)){n.calc_noise(t,s,i,new jz,null);for(var a=0;a<576;a++){var l=0;0!=t.l3_enc[a]&&(l=Math.abs(t.xr[a])),o[a]=l}a=0;var c=8;t.block_type==uH.SHORT_TYPE&&(c=6);do{var u,h,d,p,f=t.width[c];if(a+=f,!(i[c]>=1||(zz.sort(o,a-f,f),BitStream.EQ(o[a-1],0)))){u=(1-i[c])*s[c],h=0,p=0;do{var m;for(d=1;p+d<f&&!BitStream.NEQ(o[p+a-f],o[p+a+d-f]);d++);if(u<(m=o[p+a-f]*o[p+a-f]*d)){0!=p&&(h=o[p+a-f-1]);break}u-=m,p+=d}while(p<f);if(!BitStream.EQ(h,0))do{Math.abs(t.xr[a-f])<=h&&(t.l3_enc[a-f]=0)}while(--f>0)}}while(++c<t.psymax);t.part2_3_length=r.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,s,i,c,u){var h=e.internal_flags,d=new AH,p=qz(576),f=qz(SH.SFBMAX),m=new jz,g=new Bz,v=9999999,_=!1,y=!1,b=0;if(function(e,t,n,s,i){var a,l=e.CurrentStep[s],c=!1,u=e.OldValue[s],h=o.BINSEARCH_NONE;for(t.global_gain=u,n-=t.part2_length;;){var d;if(a=r.count_bits(e,i,t,null),1==l||a==n)break;a>n?(h==o.BINSEARCH_DOWN&&(c=!0),c&&(l/=2),h=o.BINSEARCH_UP,d=l):(h==o.BINSEARCH_UP&&(c=!0),c&&(l/=2),h=o.BINSEARCH_DOWN,d=-l),t.global_gain+=d,t.global_gain<0&&(t.global_gain=0,c=!0),t.global_gain>255&&(t.global_gain=255,c=!0)}for(Gz(t.global_gain>=0),Gz(t.global_gain<256);a>n&&t.global_gain<255;)t.global_gain++,a=r.count_bits(e,i,t,null);e.CurrentStep[s]=u-t.global_gain>=4?4:2,e.OldValue[s]=t.global_gain,t.part2_3_length=a}(h,t,u,c,i),0==h.noise_shaping)return 100;n.calc_noise(t,s,f,m,g),m.bits=t.part2_3_length,d.assign(t);var w=0;for($z.arraycopy(i,0,p,0,576);!_;){do{var x,T=new jz,E=255;if(x=0!=(2&h.substep_shaping)?20:3,h.sfb21_extra){if(f[d.sfbmax]>1)break;if(d.block_type==uH.SHORT_TYPE&&(f[d.sfbmax+1]>1||f[d.sfbmax+2]>1))break}if(!l(e,d,f,i,y))break;0!=d.scalefac_scale&&(E=254);var S=u-d.part2_length;if(S<=0)break;for(;(d.part2_3_length=r.count_bits(h,i,d,g))>S&&d.global_gain<=E;)d.global_gain++;if(d.global_gain>E)break;if(0==m.over_count){for(;(d.part2_3_length=r.count_bits(h,i,d,g))>v&&d.global_gain<=E;)d.global_gain++;if(d.global_gain>E)break}if(n.calc_noise(d,s,f,T,g),T.bits=d.part2_3_length,0!=(a(t.block_type!=uH.SHORT_TYPE?e.quant_comp:e.quant_comp_short,m,T,d,f)?1:0))v=t.part2_3_length,m=T,t.assign(d),w=0,$z.arraycopy(i,0,p,0,576);else if(0==h.full_outer_loop){if(++w>x&&0==m.over_count)break;if(3==h.noise_shaping_amp&&y&&w>30)break;if(3==h.noise_shaping_amp&&y&&d.global_gain-b>15)break}}while(d.global_gain+d.scalefac_scale<255);3==h.noise_shaping_amp?y?_=!0:(d.assign(t),$z.arraycopy(p,0,i,0,576),w=0,b=d.global_gain,y=!0):_=!0}return Gz(t.global_gain+t.scalefac_scale<=255),e.VBR==Vz.vbr_rh||e.VBR==Vz.vbr_mtrh?$z.arraycopy(p,0,i,0,576):0!=(1&h.substep_shaping)&&trancate_smallspectrums(h,t,s,i),m.over_count},this.iteration_finish_one=function(e,n,s){var o=e.l3_side,i=o.tt[n][s];r.best_scalefac_store(e,n,s,o),1==e.use_best_huffman&&r.best_huffman_divide(e,i),t.ResvAdjust(e,i)},this.VBR_encode_granule=function(e,t,n,r,s,o,i){var a,l=e.internal_flags,c=new AH,u=qz(576),h=i,d=i+1,p=(i+o)/2,f=0,m=l.sfb21_extra;Gz(h<=LameInternalFlags.MAX_BITS_PER_CHANNEL),zz.fill(c.l3_enc,0);do{l.sfb21_extra=!(p>h-42)&&m,outer_loop(e,t,n,r,s,p)<=0?(f=1,d=t.part2_3_length,c.assign(t),$z.arraycopy(r,0,u,0,576),a=(i=d-32)-o,p=(i+o)/2):(a=i-(o=p+32),p=(i+o)/2,0!=f&&(f=2,t.assign(c),$z.arraycopy(u,0,r,0,576)))}while(a>12);l.sfb21_extra=m,2==f&&$z.arraycopy(c.l3_enc,0,t.l3_enc,0,576),Gz(t.part2_3_length<=h)},this.get_framebits=function(n,r){var s=n.internal_flags;s.bitrate_index=s.VBR_min_bitrate;var o=e.getframebits(n);s.bitrate_index=1,o=e.getframebits(n);for(var i=1;i<=s.VBR_max_bitrate;i++){s.bitrate_index=i;var a=new MeanBits(o);r[i]=t.ResvFrameBegin(n,a),o=a.bits}},this.VBR_old_prepare=function(e,r,s,o,i,a,l,c,u){var h,d=e.internal_flags,p=0,f=1,m=0;d.bitrate_index=d.VBR_max_bitrate;var g=t.ResvFrameBegin(e,new MeanBits(0))/d.mode_gr;get_framebits(e,a);for(var v=0;v<d.mode_gr;v++){var _=n.on_pe(e,r,c[v],g,v,0);d.mode_ext==uH.MPG_MD_MS_LR&&(ms_convert(d.l3_side,v),n.reduce_side(c[v],s[v],g,_));for(var y=0;y<d.channels_out;++y){var b=d.l3_side.tt[v][y];b.block_type!=uH.SHORT_TYPE?(p=1.28/(1+Math.exp(3.5-r[v][y]/300))-.05,h=d.PSY.mask_adjust-p):(p=2.56/(1+Math.exp(3.5-r[v][y]/300))-.14,h=d.PSY.mask_adjust_short-p),d.masking_lower=Math.pow(10,.1*h),init_outer_loop(d,b),u[v][y]=n.calc_xmin(e,o[v][y],b,i[v][y]),0!=u[v][y]&&(f=0),l[v][y]=126,m+=c[v][y]}}for(v=0;v<d.mode_gr;v++)for(y=0;y<d.channels_out;y++)m>a[d.VBR_max_bitrate]&&(c[v][y]*=a[d.VBR_max_bitrate],c[v][y]/=m),l[v][y]>c[v][y]&&(l[v][y]=c[v][y]);return f},this.bitpressure_strategy=function(e,t,n,r){for(var s=0;s<e.mode_gr;s++)for(var o=0;o<e.channels_out;o++){for(var i=e.l3_side.tt[s][o],a=t[s][o],l=0,c=0;c<i.psy_lmax;c++)a[l++]*=1+.029*c*c/uH.SBMAX_l/uH.SBMAX_l;if(i.block_type==uH.SHORT_TYPE)for(c=i.sfb_smin;c<uH.SBMAX_s;c++)a[l++]*=1+.029*c*c/uH.SBMAX_s/uH.SBMAX_s,a[l++]*=1+.029*c*c/uH.SBMAX_s/uH.SBMAX_s,a[l++]*=1+.029*c*c/uH.SBMAX_s/uH.SBMAX_s;r[s][o]=0|Math.max(n[s][o],.9*r[s][o])}},this.VBR_new_prepare=function(e,r,s,o,i,a){var l,c=e.internal_flags,u=1,h=0,d=0;if(e.free_format){c.bitrate_index=0;p=new MeanBits(h);l=t.ResvFrameBegin(e,p),h=p.bits,i[0]=l}else{c.bitrate_index=c.VBR_max_bitrate;var p=new MeanBits(h);t.ResvFrameBegin(e,p),h=p.bits,get_framebits(e,i),l=i[c.VBR_max_bitrate]}for(var f=0;f<c.mode_gr;f++){n.on_pe(e,r,a[f],h,f,0),c.mode_ext==uH.MPG_MD_MS_LR&&ms_convert(c.l3_side,f);for(var m=0;m<c.channels_out;++m){var g=c.l3_side.tt[f][m];c.masking_lower=Math.pow(10,.1*c.PSY.mask_adjust),init_outer_loop(c,g),0!=n.calc_xmin(e,s[f][m],g,o[f][m])&&(u=0),d+=a[f][m]}}for(f=0;f<c.mode_gr;f++)for(m=0;m<c.channels_out;m++)d>l&&(a[f][m]*=l,a[f][m]/=d);return u},this.calc_target_bits=function(r,s,o,i,a,l){var c,u,h,d,p=r.internal_flags,f=p.l3_side,m=0;p.bitrate_index=p.VBR_max_bitrate;var g=new MeanBits(m);for(l[0]=t.ResvFrameBegin(r,g),m=g.bits,p.bitrate_index=1,m=e.getframebits(r)-8*p.sideinfo_len,a[0]=m/(p.mode_gr*p.channels_out),m=r.VBR_mean_bitrate_kbps*r.framesize*1e3,0!=(1&p.substep_shaping)&&(m*=1.09),m/=r.out_samplerate,m-=8*p.sideinfo_len,m/=p.mode_gr*p.channels_out,(c=.93+.07*(11-r.compression_ratio)/5.5)<.9&&(c=.9),c>1&&(c=1),u=0;u<p.mode_gr;u++){var v=0;for(h=0;h<p.channels_out;h++){if(i[u][h]=int(c*m),s[u][h]>700){var _=int((s[u][h]-700)/1.4),y=f.tt[u][h];i[u][h]=int(c*m),y.block_type==uH.SHORT_TYPE&&_<m/2&&(_=m/2),_>3*m/2?_=3*m/2:_<0&&(_=0),i[u][h]+=_}i[u][h]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(i[u][h]=LameInternalFlags.MAX_BITS_PER_CHANNEL),v+=i[u][h]}if(v>LameInternalFlags.MAX_BITS_PER_GRANULE)for(h=0;h<p.channels_out;++h)i[u][h]*=LameInternalFlags.MAX_BITS_PER_GRANULE,i[u][h]/=v}if(p.mode_ext==uH.MPG_MD_MS_LR)for(u=0;u<p.mode_gr;u++)n.reduce_side(i[u],o[u],m*p.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(d=0,u=0;u<p.mode_gr;u++)for(h=0;h<p.channels_out;h++)i[u][h]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(i[u][h]=LameInternalFlags.MAX_BITS_PER_CHANNEL),d+=i[u][h];if(d>l[0])for(u=0;u<p.mode_gr;u++)for(h=0;h<p.channels_out;h++)i[u][h]*=l[0],i[u][h]/=d}}var Kz=qV.assert;function Yz(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r,s=t.internal_flags,o=s.l3_side,i=e.getframebits(t);n.bits=(i-8*s.sideinfo_len)/s.mode_gr;var a=2048*s.mode_gr-8;t.brate>320?r=8*int(1e3*t.brate/(t.out_samplerate/1152)/8+.5):(r=11520,t.strict_ISO&&(r=8*int(32e4/(t.out_samplerate/1152)/8+.5))),s.ResvMax=r-i,s.ResvMax>a&&(s.ResvMax=a),(s.ResvMax<0||t.disable_reservoir)&&(s.ResvMax=0);var l=n.bits*s.mode_gr+Math.min(s.ResvSize,s.ResvMax);return l>r&&(l=r),Kz(s.ResvMax%8==0),Kz(s.ResvMax>=0),o.resvDrain_pre=0,null!=s.pinfo&&(s.pinfo.mean_bits=n.bits/2,s.pinfo.resvsize=s.ResvSize),l},this.ResvMaxBits=function(e,t,n,r){var s,o=e.internal_flags,i=o.ResvSize,a=o.ResvMax;0!=r&&(i+=t),0!=(1&o.substep_shaping)&&(a*=.9),n.bits=t,10*i>9*a?(s=i-9*a/10,n.bits+=s,o.substep_shaping|=128):(s=0,o.substep_shaping&=127,e.disable_reservoir||0!=(1&o.substep_shaping)||(n.bits-=.1*t));var l=i<6*o.ResvMax/10?i:6*o.ResvMax/10;return(l-=s)<0&&(l=0),l},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var n,r=e.l3_side;e.ResvSize+=t*e.mode_gr;var s=0;r.resvDrain_post=0,r.resvDrain_pre=0,0!=(n=e.ResvSize%8)&&(s+=n),(n=e.ResvSize-s-e.ResvMax)>0&&(s+=n);var o=Math.min(8*r.main_data_begin,s)/8;r.resvDrain_pre+=8*o,s-=8*o,e.ResvSize-=8*o,r.main_data_begin-=o,r.resvDrain_post+=s,e.ResvSize-=s}}function Xz(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}}var Qz=qV.System,Zz=qV.VbrMode,Jz=qV.ShortBlock,eq=qV.Arrays,tq=qV.new_byte,nq=qV.assert;function rq(){var e,t,n;this.setModules=function(r,s,o){e=r,t=s,n=o};var r=rq.NUMTOCENTRIES,s=rq.MAXFRAMESIZE,o=r+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,i="Xing",a="Info",l=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function c(e,t){var n=255&e[t+0];return n<<=8,n|=255&e[t+1],n<<=8,n|=255&e[t+2],n<<=8,n|=255&e[t+3]}function u(e,t,n){e[t+0]=255&n>>24,e[t+1]=255&n>>16,e[t+2]=255&n>>8,e[t+3]=255&n}function h(e,t,n){e[t+0]=255&n>>8,e[t+1]=255&n}function d(e,t,n){return 255&(e<<t|n&~(-1<<t))}function p(t,n){var r=t.internal_flags;n[0]=d(n[0],8,255),n[1]=d(n[1],3,7),n[1]=d(n[1],1,t.out_samplerate<16e3?0:1),n[1]=d(n[1],1,t.version),n[1]=d(n[1],2,1),n[1]=d(n[1],1,t.error_protection?0:1),n[2]=d(n[2],4,r.bitrate_index),n[2]=d(n[2],2,r.samplerate_index),n[2]=d(n[2],1,0),n[2]=d(n[2],1,t.extension),n[3]=d(n[3],2,t.mode.ordinal()),n[3]=d(n[3],2,r.mode_ext),n[3]=d(n[3],1,t.copyright),n[3]=d(n[3],1,t.original),n[3]=d(n[3],2,t.emphasis),n[0]=255;var s,o,i=241&n[1];s=1==t.version?128:t.out_samplerate<16e3?32:64,t.VBR==Zz.vbr_off&&(s=t.brate),o=t.free_format?0:255&16*e.BitrateIndex(s,t.version,t.out_samplerate),1==t.version?(n[1]=255&(10|i),i=13&n[2],n[2]=255&(o|i)):(n[1]=255&(2|i),i=13&n[2],n[2]=255&(o|i))}function f(e,t){return t=t>>8^l[255&(t^e)]}this.addVbrFrame=function(e){var t=e.internal_flags,n=Tables.bitrate_table[e.version][t.bitrate_index];nq(null!=t.VBR_seek_table.bag),function(e,t){if(e.nVbrNumFrames++,e.sum+=t,e.seen++,!(e.seen<e.want)&&(e.pos<e.size&&(e.bag[e.pos]=e.sum,e.pos++,e.seen=0),e.pos==e.size)){for(var n=1;n<e.size;n+=2)e.bag[n/2]=e.bag[n];e.want*=2,e.pos/=2}}(t.VBR_seek_table,n)},this.getVbrTag=function(e){var t=new VBRTagData,n=0;t.flags=0;var s=e[n+1]>>3&1,o=e[n+2]>>2&3,l=e[n+3]>>6&3,u=e[n+2]>>4&15;if(u=Tables.bitrate_table[s][u],e[n+1]>>4==14?t.samprate=Tables.samplerate_table[2][o]:t.samprate=Tables.samplerate_table[s][o],!function(e,t){return new String(e,t,4(),null).equals(i)||new String(e,t,4(),null).equals(a)}(e,n+=0!=s?3!=l?36:21:3!=l?21:13))return null;n+=4,t.hId=s;var h=t.flags=c(e,n);if(n+=4,0!=(1&h)&&(t.frames=c(e,n),n+=4),0!=(2&h)&&(t.bytes=c(e,n),n+=4),0!=(4&h)){if(null!=t.toc)for(var d=0;d<r;d++)t.toc[d]=e[n+d];n+=r}t.vbrScale=-1,0!=(8&h)&&(t.vbrScale=c(e,n),n+=4),t.headersize=72e3*(s+1)*u/t.samprate;var p=e[(n+=21)+0]<<4;p+=e[n+1]>>4;var f=(15&e[n+1])<<8;return(p<0||p>3e3)&&(p=-1),((f+=255&e[n+2])<0||f>3e3)&&(f=-1),t.encDelay=p,t.encPadding=f,t},this.InitVbrTag=function(e){var n,r=e.internal_flags;n=1==e.version?128:e.out_samplerate<16e3?32:64,e.VBR==Zz.vbr_off&&(n=e.brate);var i=72e3*(e.version+1)*n/e.out_samplerate,a=r.sideinfo_len+o;if(r.VBR_seek_table.TotalFrameSize=i,i<a||i>s)e.bWriteVbrTag=!1;else{r.VBR_seek_table.nVbrNumFrames=0,r.VBR_seek_table.nBytesWritten=0,r.VBR_seek_table.sum=0,r.VBR_seek_table.seen=0,r.VBR_seek_table.want=1,r.VBR_seek_table.pos=0,null==r.VBR_seek_table.bag&&(r.VBR_seek_table.bag=new int[400],r.VBR_seek_table.size=400);var l=tq(s);p(e,l);for(var c=r.VBR_seek_table.TotalFrameSize,u=0;u<c;++u)t.add_dummy_byte(e,255&l[u],1)}},this.updateMusicCRC=function(e,t,n,r){for(var s=0;s<r;++s)e[0]=f(t[n+s],e[0])},this.getLameTagFrame=function(e,s){var o=e.internal_flags;if(!e.bWriteVbrTag)return 0;if(o.Class_ID!=Lame.LAME_ID)return 0;if(o.VBR_seek_table.pos<=0)return 0;if(s.length<o.VBR_seek_table.TotalFrameSize)return o.VBR_seek_table.TotalFrameSize;eq.fill(s,0,o.VBR_seek_table.TotalFrameSize,0),p(e,s);var l=tq(r);if(e.free_format)for(var c=1;c<r;++c)l[c]=255&255*c/100;else!function(e,t){if(!(e.pos<=0))for(var n=1;n<r;++n){var s=n/r,o=0|Math.floor(s*e.pos);o>e.pos-1&&(o=e.pos-1);var i=0|256*e.bag[o]/e.sum;i>255&&(i=255),t[n]=255&i}}(o.VBR_seek_table,l);var d=o.sideinfo_len;e.error_protection&&(d-=2),e.VBR==Zz.vbr_off?(s[d++]=255&a.charAt(0),s[d++]=255&a.charAt(1),s[d++]=255&a.charAt(2),s[d++]=255&a.charAt(3)):(s[d++]=255&i.charAt(0),s[d++]=255&i.charAt(1),s[d++]=255&i.charAt(2),s[d++]=255&i.charAt(3)),u(s,d,15),u(s,d+=4,o.VBR_seek_table.nVbrNumFrames),d+=4;var m=o.VBR_seek_table.nBytesWritten+o.VBR_seek_table.TotalFrameSize;u(s,d,0|m),d+=4,Qz.arraycopy(l,0,s,d,l.length),d+=l.length,e.error_protection&&t.CRC_writeheader(o,s);var g=0;for(c=0;c<d;c++)g=f(s[c],g);return d+=function(e,t,r,s,o){var i,a,l,c,d,p=e.internal_flags,m=0,g=e.encoder_delay,v=e.encoder_padding,_=100-10*e.VBR_q-e.quality,y=n.getLameVeryShortVersion(),b=[1,5,3,2,4,0,3],w=0|(e.lowpassfreq/100+.5>255?255:e.lowpassfreq/100+.5),x=0,T=0,E=e.internal_flags.noise_shaping,S=0,k=0,C=0,A=0!=(1&e.exp_nspsytune),I=0!=(2&e.exp_nspsytune),R=!1,M=!1,O=e.internal_flags.nogap_total,L=e.internal_flags.nogap_current,N=e.ATHtype;switch(e.VBR){case vbr_abr:d=e.VBR_mean_bitrate_kbps;break;case vbr_off:d=e.brate;break;default:d=e.VBR_min_bitrate_kbps}switch(i=0+(e.VBR.ordinal()<b.length?b[e.VBR.ordinal()]:0),p.findReplayGain&&(p.RadioGain>510&&(p.RadioGain=510),p.RadioGain<-510&&(p.RadioGain=-510),T=8192,T|=3072,p.RadioGain>=0?T|=p.RadioGain:(T|=512,T|=-p.RadioGain)),p.findPeakSample&&(x=Math.abs(0|p.PeakSample/32767*Math.pow(2,23)+.5)),-1!=O&&(L>0&&(M=!0),L<O-1&&(R=!0)),c=N+((A?1:0)<<4)+((I?1:0)<<5)+((R?1:0)<<6)+((M?1:0)<<7),_<0&&(_=0),e.mode){case MONO:S=0;break;case STEREO:S=1;break;case DUAL_CHANNEL:S=2;break;case JOINT_STEREO:S=e.force_ms?4:3;break;case NOT_SET:default:S=7}C=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:e.in_samplerate>48e3?3:1,(e.short_blocks==Jz.short_block_forced||e.short_blocks==Jz.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==N||e.in_samplerate<=32e3)&&(k=1),a=E+(S<<2)+(k<<5)+(C<<6),l=p.nMusicCRC,u(r,s+m,_),m+=4;for(var P=0;P<9;P++)r[s+m+P]=255&y.charAt(P);r[s+(m+=9)]=255&i,r[s+ ++m]=255&w,u(r,s+ ++m,x),h(r,s+(m+=4),T),h(r,s+(m+=2),0),r[s+(m+=2)]=255&c,r[s+ ++m]=d>=255?255:255&d,r[s+ ++m]=255&g>>4,r[s+m+1]=255&(g<<4)+(v>>8),r[s+m+2]=255&v,r[s+(m+=3)]=255&a,m++,r[s+m++]=0,h(r,s+m,e.preset),u(r,s+(m+=2),t),h(r,s+(m+=4),l),m+=2;for(var D=0;D<m;D++)o=f(r[s+D],o);return h(r,s+m,o),m+2}(e,m,s,d,g),o.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(e,t){if(e.internal_flags.VBR_seek_table.pos<=0)return-1;if(t.seek(t.length()),0==t.length())return-1;var n=function(e){e.seek(0);var t=tq(10);return e.readFully(t),new String(t,"ISO-8859-1").startsWith("ID3")?0:((127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9])+t.length}(t);t.seek(n);var r=tq(s),o=getLameTagFrame(e,r);return o>r.length?-1:(o<1||t.write(r,0,o),0)}}rq.NUMTOCENTRIES=100,rq.MAXFRAMESIZE=2880;var sq=qV.new_byte,oq=qV.assert;function iq(){this.setModules=function(e,t){}}function aq(){this.setModules=function(e,t,n){}}function lq(){}function cq(){this.setModules=function(e,t){}}function uq(e,t,n){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var r=new Lz,s=new iq,o=new XH,i=new Sz,a=new Pz,l=new pz,c=new Wz,u=new rq,h=new Xz,d=new cq,p=new Yz,f=new _z,m=new aq,g=new lq;r.setModules(o,i,a,l,c,u,h,d,g),i.setModules(o,g,h,u),d.setModules(i,h),a.setModules(r),c.setModules(i,p,l,f),l.setModules(f,p,r.enc.psy),p.setModules(i),f.setModules(l),u.setModules(r,i,h),s.setModules(m,g),m.setModules(h,d,a);var v=r.lame_init();v.num_channels=e,v.in_samplerate=t,v.brate=n,v.mode=nH.STEREO,v.quality=3,v.bWriteVbrTag=!1,v.disable_reservoir=!0,v.write_id3tag_automatic=!1,r.lame_init_params(v);var _=1152,y=0|1.25*_+7200,b=sq(y);this.encodeBuffer=function(t,n){1==e&&(n=t),oq(t.length==n.length),t.length>_&&(_=t.length,b=sq(y=0|1.25*_+7200));var s=r.lame_encode_buffer(v,t,n,t.length,b,0,y);return new Int8Array(b.subarray(0,s))},this.flush=function(){var e=r.lame_encode_flush(v,b,0,y);return new Int8Array(b.subarray(0,e))}}function hq(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}hq("RIFF"),hq("WAVE"),hq("fmt "),hq("data");class dq{constructor(e){this.bitRate=e.bitRate,this.sampleRate=e.sampleRate,this.dataBuffer=[],this.encoder=new uq(1,this.sampleRate,this.bitRate)}encode(e){const t=1152,n=this._convertBuffer(e);let r=n.length;for(let e=0;r>=0;e+=t){const s=n.subarray(e,e+t),o=this.encoder.encodeBuffer(s);this.dataBuffer.push(new Int8Array(o)),r-=t}}finish(){this.dataBuffer.push(this.encoder.flush());const e=new Blob(this.dataBuffer,{type:"audio/mp3"});return this.dataBuffer=[],{id:Date.now(),blob:e,url:URL.createObjectURL(e)}}_floatTo16BitPCM(e,t){for(let n=0;n<e.length;n++){const r=Math.max(-1,Math.min(1,e[n]));t[n]=r<0?32768*r:32767*r}}_convertBuffer(e){const t=new Float32Array(e),n=new Int16Array(e.length);return this._floatTo16BitPCM(t,n),n}}class pq{constructor(e={}){this.beforeRecording=e.beforeRecording,this.pauseRecording=e.pauseRecording,this.afterRecording=e.afterRecording,this.micFailed=e.micFailed,this.encoderOptions={bitRate:e.bitRate,sampleRate:e.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this._duration=0}start(){this.beforeRecording&&this.beforeRecording("start recording"),navigator.mediaDevices.getUserMedia({video:!1,audio:{channelCount:1,echoCancellation:!1}}).then(this._micCaptured.bind(this)).catch(this._micError.bind(this)),this.isPause=!1,this.isRecording=!0,this.lameEncoder||(this.lameEncoder=new dq(this.encoderOptions))}stop(){this.stream.getTracks().forEach((e=>e.stop())),this.input.disconnect(),this.processor.disconnect(),this.context.close();let e=null;e=this.lameEncoder.finish(),e.duration=this.duration,this.records.push(e),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(e)}pause(){this.stream.getTracks().forEach((e=>e.stop())),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}_micCaptured(e){this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration,this.input=this.context.createMediaStreamSource(e),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=e,this.processor.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0);let n=0;this.lameEncoder&&this.lameEncoder.encode(t);for(let e=0;e<t.length;++e)n+=t[e]*t[e];this.duration=parseFloat(this._duration)+parseFloat(this.context.currentTime.toFixed(2)),this.volume=Math.sqrt(n/t.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}_micError(e){this.micFailed&&this.micFailed(e)}}var fq=window.chrome,mq=window.navigator,gq=mq.vendor,vq=void 0!==window.opr,_q=mq.userAgent.indexOf("Edg")>-1,yq=mq.userAgent.match("CriOS");function bq(){var e=function(){var e=navigator.userAgent||navigator.vendor||window.opera||null;if(!e)throw new Error("Failed to look for user agent information.");return e}(),t=e.substr(0,4);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(t)}const wq={name:"RoomFooter",components:{SvgIcon:mP,EmojiPickerContainer:V$,RoomFiles:Q$,RoomMessageReply:_V,RoomUsersTag:EV,RoomEmojis:AV,RoomTemplatesText:PV},directives:{clickOutside:vF},props:{room:{type:Object,required:!0},roomId:{type:[String,Number],required:!0},roomMessage:{type:String,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},showEmojis:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},templatesText:{type:Array,default:null},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},initReplyMessage:{type:Object,default:null},initEditMessage:{type:Object,default:null},droppedFiles:{type:Array,default:null},emojiDataSource:{type:String,default:void 0}},emits:["edit-message","send-message","update-edited-message-id","textarea-action-handler","typing-message"],data(){return{message:"",editedMessage:{},messageReply:null,cursorRangePosition:null,files:[],fileDialog:!1,selectUsersTagItem:null,selectEmojiItem:null,selectTemplatesTextItem:null,format:"mp3",activeUpOrDownEmojis:null,activeUpOrDownUsersTag:null,activeUpOrDownTemplatesText:null,emojisDB:new iB({dataSource:this.emojiDataSource}),emojiOpened:!1,keepKeyboardOpen:!1,filteredEmojis:[],filteredUsersTag:[],selectedUsersTag:[],filteredTemplatesText:[],recorder:this.initRecorder(),isRecording:!1}},computed:{isMessageEmpty(){return!this.files.length&&!this.message.trim()},isFileLoading(){return this.files.some((e=>e.loading))},recordedTime(){return new Date(1e3*this.recorder.duration).toISOString().substr(14,5)},shadowFooter(){return!!(this.filteredEmojis.length||this.filteredUsersTag.length||this.filteredTemplatesText.length||this.files.length||this.messageReply)}},watch:{roomId(){this.resetMessage(!0,!0),this.roomMessage&&(this.message=this.roomMessage,setTimeout((()=>this.onChangeInput())))},message(e){this.getTextareaRef().value=e},roomMessage:{immediate:!0,handler(e){e&&(this.message=this.roomMessage)}},editedMessage(e){this.$emit("update-edited-message-id",e._id)},initReplyMessage(e){e&&this.replyMessage(e)},initEditMessage(e){e&&this.editMessage(e)},droppedFiles(e){e&&this.onFileChange(e)}},mounted(){const e=bq();let t=!0;this.getTextareaRef().addEventListener("keyup",(n=>{"Enter"!==n.key||n.shiftKey||this.fileDialog||(e?(this.message=this.message+"\n",setTimeout((()=>this.onChangeInput()))):!t||this.filteredEmojis.length||this.filteredUsersTag.length||this.filteredTemplatesText.length||this.sendMessage()),t=!n.isComposing,setTimeout((()=>{this.updateFooterLists()}),60)})),this.getTextareaRef().addEventListener("click",(()=>{e&&(this.keepKeyboardOpen=!0),this.updateFooterLists()})),this.getTextareaRef().addEventListener("blur",(()=>{setTimeout((()=>{this.resetFooterList()}),100),e&&setTimeout((()=>this.keepKeyboardOpen=!1))}))},beforeUnmount(){this.stopRecorder()},methods:{getTextareaRef(){return this.$refs.roomTextarea},focusTextarea(e){bq()&&e||this.getTextareaRef()&&(this.getTextareaRef().focus(),this.cursorRangePosition&&setTimeout((()=>{const e=yq||null!=fq&&"Google Inc."===gq&&!1===vq&&!1===_q?0:1;this.getTextareaRef().setSelectionRange(this.cursorRangePosition+e,this.cursorRangePosition+e),this.cursorRangePosition=null})))},onChangeInput(){var e,t,n;((null==(e=this.getTextareaRef())?void 0:e.value)||""===(null==(t=this.getTextareaRef())?void 0:t.value))&&(this.message=null==(n=this.getTextareaRef())?void 0:n.value),this.keepKeyboardOpen=!0,this.resizeTextarea(),this.$emit("typing-message",this.message)},resizeTextarea(){const e=this.getTextareaRef();if(!e)return;const t=window.getComputedStyle(e,null).getPropertyValue("padding-top").replace("px","");e.style.height=0,e.style.height=e.scrollHeight-2*t+"px"},escapeTextarea(){this.filteredEmojis.length?this.filteredEmojis=[]:this.filteredUsersTag.length?this.filteredUsersTag=[]:this.filteredTemplatesText.length?this.filteredTemplatesText=[]:this.resetMessage()},onPasteImage(e){var t;const n=null==(t=e.clipboardData)?void 0:t.items;n&&Array.from(n).forEach((e=>{if(e.type.includes("image")){const t=e.getAsFile();this.onFileChange([t])}}))},updateActiveUpOrDown(e,t){this.filteredEmojis.length?(this.activeUpOrDownEmojis=t,e.preventDefault()):this.filteredUsersTag.length?(this.activeUpOrDownUsersTag=t,e.preventDefault()):this.filteredTemplatesText.length&&(this.activeUpOrDownTemplatesText=t,e.preventDefault())},selectItem(){this.filteredEmojis.length?this.selectEmojiItem=!0:this.filteredUsersTag.length?this.selectUsersTagItem=!0:this.filteredTemplatesText.length&&(this.selectTemplatesTextItem=!0)},selectEmoji(e){if(this.selectEmojiItem=!1,!e)return;const{position:t,endPosition:n}=this.getCharPosition(":");this.message=this.message.substr(0,t-1)+e+this.message.substr(n,this.message.length-1),this.cursorRangePosition=t,this.focusTextarea()},selectTemplateText(e){if(this.selectTemplatesTextItem=!1,!e)return;const{position:t,endPosition:n}=this.getCharPosition("/"),r=this.message.substr(n,n).length?"":" ";this.message=this.message.substr(0,t-1)+e.text+r+this.message.substr(n,this.message.length-1),this.cursorRangePosition=t+e.text.length+r.length+1,this.focusTextarea()},addEmoji(e){this.message+=e.unicode,this.focusTextarea(!0)},launchFilePicker(){this.$refs.file.value="",this.$refs.file.click()},async onFileChange(e){this.fileDialog=!0,this.focusTextarea(),Array.from(e).forEach((async e=>{const t=URL.createObjectURL(e),n=e.name.lastIndexOf(".");this.files.push({loading:!0,name:e.name.substring(0,n),size:e.size,type:e.type,extension:e.name.substring(n+1),localUrl:t});const r=await fetch(t).then((e=>e.blob()));let s=this.files.find((e=>e.localUrl===t));s&&(s.blob=r,s.loading=!1,delete s.loading)})),setTimeout((()=>this.fileDialog=!1),500)},removeFile(e){this.files.splice(e,1),this.focusTextarea()},toggleRecorder(e){if(this.isRecording=e,this.recorder.isRecording)try{this.recorder.stop();const e=this.recorder.records[0];this.files.push({blob:e.blob,name:`audio.${this.format}`,size:e.blob.size,duration:e.duration,type:e.blob.type,audio:!0,localUrl:URL.createObjectURL(e.blob)}),this.recorder=this.initRecorder(),this.sendMessage()}catch{setTimeout((()=>this.stopRecorder()),100)}else setTimeout((()=>this.recorder.start()),200)},stopRecorder(){if(this.recorder.isRecording)try{this.recorder.stop(),this.recorder=this.initRecorder()}catch{setTimeout((()=>this.stopRecorder()),100)}},textareaActionHandler(){this.$emit("textarea-action-handler",this.message)},sendMessage(){var e;let t=this.message.trim();if(!this.files.length&&!t)return;if(this.isFileLoading)return;this.selectedUsersTag.forEach((e=>{t=t.replace(`@${e.username}`,`<usertag>${e._id}</usertag>`)}));const n=this.files.length?this.files:null;this.editedMessage._id?(this.editedMessage.content!==t||(null==(e=this.editedMessage.files)?void 0:e.length)||this.files.length)&&this.$emit("edit-message",{messageId:this.editedMessage._id,newContent:t,files:n,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}):this.$emit("send-message",{content:t,files:n,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}),this.resetMessage(!0)},editMessage(e){this.resetMessage(),this.editedMessage={...e};let t=e.content;const n=t,r="<usertag>",s="</usertag>",o=[...t.matchAll(new RegExp(r,"gi"))].map((e=>e.index));o.forEach((e=>{const o=n.substring(e+9,n.indexOf(s,e)),i=this.room.users.find((e=>e._id===o));t=t.replace(`${r}${o}${s}`,`@${(null==i?void 0:i.username)||"unknown"}`),this.selectUserTag(i,!0)})),this.message=t,e.files&&(this.files=[...e.files]),setTimeout((()=>this.resizeTextarea()))},replyMessage(e){this.editedMessage={},this.messageReply=e,this.focusTextarea()},updateFooterLists(){this.updateFooterList("@"),this.updateFooterList(":"),this.updateFooterList("/")},updateFooterList(e){if(!this.getTextareaRef())return;if(":"===e&&!this.emojisSuggestionEnabled)return;if(!("@"!==e||this.userTagsEnabled&&this.room.users))return;if("/"===e&&!this.templatesText)return;const t=this.getTextareaRef().selectionStart;let n=t;for(;n>0&&this.message.charAt(n-1)!==e&&(" "!==this.message.charAt(n-1)||":"!==e);)n--;const r=this.message.charAt(n-2),s=!r.match(/^[0-9a-zA-Z]+$/);if(this.message.charAt(n-1)!==e||r&&" "!==r&&!s)this.resetFooterList(e);else{const r=this.message.substring(n,t);":"===e?this.updateEmojis(r):"@"===e?this.updateShowUsersTag(r):"/"===e&&this.updateShowTemplatesText(r)}},updateShowUsersTag(e){this.filteredUsersTag=UF(this.room.users,"username",e,!0).filter((e=>e._id!==this.currentUserId))},selectUserTag(e,t=!1){if(this.selectUsersTagItem=!1,!e)return;const{position:n,endPosition:r}=this.getCharPosition("@"),s=this.message.substr(r,r).length?"":" ";this.message=this.message.substr(0,n)+e.username+s+this.message.substr(r,this.message.length-1),this.selectedUsersTag=[...this.selectedUsersTag,{...e}],t||(this.cursorRangePosition=n+e.username.length+s.length+1),this.focusTextarea()},updateShowTemplatesText(e){this.filteredTemplatesText=UF(this.templatesText,"tag",e,!0)},getCharPosition(e){let t=this.getTextareaRef().selectionStart;for(;t>0&&this.message.charAt(t-1)!==e;)t--;return{position:t,endPosition:this.getTextareaRef().selectionEnd}},async updateEmojis(e){if(!e)return;const t=await this.emojisDB.getEmojiBySearchQuery(e);this.filteredEmojis=t.map((e=>e.unicode))},resetFooterList(e=null){":"===e?this.filteredEmojis=[]:"@"===e?this.filteredUsersTag=[]:("/"===e||(this.filteredEmojis=[],this.filteredUsersTag=[]),this.filteredTemplatesText=[])},resetMessage(e=!1,t=!1){t||this.$emit("typing-message",null),this.selectedUsersTag=[],this.resetFooterList(),this.resetTextareaSize(),this.message="",this.editedMessage={},this.messageReply=null,this.files=[],this.emojiOpened=!1,this.preventKeyboardFromClosing(),!this.textareaAutoFocus&&t||setTimeout((()=>this.focusTextarea(e)))},resetTextareaSize(){this.getTextareaRef()&&(this.getTextareaRef().style.height="20px")},preventKeyboardFromClosing(){this.keepKeyboardOpen&&this.getTextareaRef().focus()},initRecorder(){return this.isRecording=!1,new pq({bitRate:Number(this.audioBitRate),sampleRate:Number(this.audioSampleRate),beforeRecording:null,afterRecording:null,pauseRecording:null,micFailed:this.micFailed})},micFailed(){this.isRecording=!1,this.recorder=this.initRecorder()}}},xq={key:0,class:"vac-icon-textarea-left"},Tq=vL("div",{class:"vac-dot-audio-record"},null,-1),Eq={class:"vac-dot-audio-record-time"},Sq=["placeholder"],kq={class:"vac-icon-textarea"},Cq={key:1},Aq=["accept"];var Iq=rP(wq,[["render",function(e,t,n,r,s,o){const i=aO("room-emojis"),a=aO("room-users-tag"),l=aO("room-templates-text"),c=aO("room-message-reply"),u=aO("room-files"),h=aO("svg-icon"),d=aO("emoji-picker-container"),p=uO("click-outside");return rO((iL(),uL("div",{id:"room-footer",class:nR(["vac-room-footer",{"vac-app-box-shadow":o.shadowFooter}])},[_L(i,{"filtered-emojis":s.filteredEmojis,"select-item":s.selectEmojiItem,"active-up-or-down":s.activeUpOrDownEmojis,onSelectEmoji:t[0]||(t[0]=e=>o.selectEmoji(e)),onActivateItem:t[1]||(t[1]=e=>s.activeUpOrDownEmojis=0)},null,8,["filtered-emojis","select-item","active-up-or-down"]),_L(a,{"filtered-users-tag":s.filteredUsersTag,"select-item":s.selectUsersTagItem,"active-up-or-down":s.activeUpOrDownUsersTag,onSelectUserTag:t[2]||(t[2]=e=>o.selectUserTag(e)),onActivateItem:t[3]||(t[3]=e=>s.activeUpOrDownUsersTag=0)},null,8,["filtered-users-tag","select-item","active-up-or-down"]),_L(l,{"filtered-templates-text":s.filteredTemplatesText,"select-item":s.selectTemplatesTextItem,"active-up-or-down":s.activeUpOrDownTemplatesText,onSelectTemplateText:t[4]||(t[4]=e=>o.selectTemplateText(e)),onActivateItem:t[5]||(t[5]=e=>s.activeUpOrDownTemplatesText=0)},null,8,["filtered-templates-text","select-item","active-up-or-down"]),_L(c,{room:n.room,"message-reply":s.messageReply,"text-formatting":n.textFormatting,"link-options":n.linkOptions,onResetMessage:o.resetMessage},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["room","message-reply","text-formatting","link-options","onResetMessage"]),_L(u,{files:s.files,onRemoveFile:o.removeFile,onResetMessage:o.resetMessage},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["files","onRemoveFile","onResetMessage"]),vL("div",{class:nR(["vac-box-footer",{"vac-box-footer-border":!s.files.length}])},[n.showAudio&&!s.files.length?(iL(),uL("div",xq,[s.isRecording?(iL(),uL(eL,{key:0},[vL("div",{class:"vac-svg-button vac-icon-audio-stop",onClick:t[6]||(t[6]=(...e)=>o.stopRecorder&&o.stopRecorder(...e))},[mO(e.$slots,"audio-stop-icon",{},(()=>[_L(h,{name:"close-outline"})]))]),Tq,vL("div",Eq,sR(o.recordedTime),1),vL("div",{class:"vac-svg-button vac-icon-audio-confirm",onClick:t[7]||(t[7]=e=>o.toggleRecorder(!1))},[mO(e.$slots,"audio-check-icon",{},(()=>[_L(h,{name:"checkmark"})]))])],64)):(iL(),uL("div",{key:1,class:"vac-svg-button",onClick:t[8]||(t[8]=e=>o.toggleRecorder(!0))},[mO(e.$slots,"microphone-icon",{},(()=>[_L(h,{name:"microphone",class:"vac-icon-microphone"})]))]))])):xL("",!0),vL("textarea",{id:"roomTextarea",ref:"roomTextarea",placeholder:n.textMessages.TYPE_MESSAGE,class:nR(["vac-textarea",{"vac-textarea-outline":s.editedMessage._id}]),style:{"min-height":"20px","padding-left":"12px"},onInput:t[9]||(t[9]=(...e)=>o.onChangeInput&&o.onChangeInput(...e)),onKeydown:[t[10]||(t[10]=QN(((...e)=>o.escapeTextarea&&o.escapeTextarea(...e)),["esc"])),t[11]||(t[11]=QN(YN(((...e)=>o.selectItem&&o.selectItem(...e)),["exact","prevent"]),["enter"])),t[13]||(t[13]=QN(YN((()=>{}),["exact","prevent"]),["tab"])),t[14]||(t[14]=QN(((...e)=>o.selectItem&&o.selectItem(...e)),["tab"])),t[15]||(t[15]=QN((e=>o.updateActiveUpOrDown(e,-1)),["up"])),t[16]||(t[16]=QN((e=>o.updateActiveUpOrDown(e,1)),["down"]))],onPaste:t[12]||(t[12]=(...e)=>o.onPasteImage&&o.onPasteImage(...e))},null,42,Sq),vL("div",kq,[s.editedMessage._id?(iL(),uL("div",{key:0,class:"vac-svg-button",onClick:t[17]||(t[17]=(...e)=>o.resetMessage&&o.resetMessage(...e))},[mO(e.$slots,"edit-close-icon",{},(()=>[_L(h,{name:"close-outline"})]))])):xL("",!0),n.showEmojis?rO((iL(),uL("div",Cq,[mO(e.$slots,"emoji-picker",kL({emojiOpened:s.emojiOpened},{addEmoji:o.addEmoji}),(()=>[_L(d,{"emoji-opened":s.emojiOpened,"position-top":!0,"emoji-data-source":n.emojiDataSource,onAddEmoji:o.addEmoji,onOpenEmoji:t[18]||(t[18]=e=>s.emojiOpened=e)},{"emoji-picker-icon":vM((()=>[mO(e.$slots,"emoji-picker-icon")])),_:3},8,["emoji-opened","emoji-data-source","onAddEmoji"])]))])),[[p,()=>s.emojiOpened=!1]]):xL("",!0),n.showFiles?(iL(),uL("div",{key:2,class:"vac-svg-button",onClick:t[19]||(t[19]=(...e)=>o.launchFilePicker&&o.launchFilePicker(...e))},[mO(e.$slots,"paperclip-icon",{},(()=>[_L(h,{name:"paperclip"})]))])):xL("",!0),n.textareaActionEnabled?(iL(),uL("div",{key:3,class:"vac-svg-button",onClick:t[20]||(t[20]=(...e)=>o.textareaActionHandler&&o.textareaActionHandler(...e))},[mO(e.$slots,"custom-action-icon",{},(()=>[_L(h,{name:"deleted"})]))])):xL("",!0),n.showFiles?(iL(),uL("input",{key:4,ref:"file",type:"file",multiple:"",accept:n.acceptedFiles,style:{display:"none"},onChange:t[21]||(t[21]=e=>o.onFileChange(e.target.files))},null,40,Aq)):xL("",!0),n.showSendIcon?(iL(),uL("div",{key:5,class:nR(["vac-svg-button",{"vac-send-disabled":o.isMessageEmpty}]),onClick:t[22]||(t[22]=(...e)=>o.sendMessage&&o.sendMessage(...e))},[mO(e.$slots,"send-icon",{},(()=>[_L(h,{name:"send",param:o.isMessageEmpty||o.isFileLoading?"disabled":""},null,8,["param"])]))],2)):xL("",!0)])],2)],2)),[[ZN,Object.keys(n.room).length&&n.showFooter]])}]]);const Rq={name:"MessageReply",components:{AudioPlayer:sV,SvgIcon:mP,FormatMessage:lF},props:{message:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},roomUsers:{type:Array,required:!0}},computed:{replyUsername(){const{senderId:e}=this.message.replyMessage,t=this.roomUsers.find((t=>t._id===e));return t?t.username:""},firstFile(){var e,t;return(null==(t=null==(e=this.message.replyMessage)?void 0:e.files)?void 0:t.length)?this.message.replyMessage.files[0]:{}},isAudio(){return TF(this.firstFile)},isImage(){return bF(this.firstFile)},isVideo(){return wF(this.firstFile)},isOtherFile(){var e;return(null==(e=this.message.replyMessage.files)?void 0:e.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},Mq={class:"vac-reply-message"},Oq={class:"vac-reply-username"},Lq={key:0,class:"vac-image-reply-container"},Nq={key:1,class:"vac-video-reply-container"},Pq={controls:""},Dq=["src"],jq={key:3,class:"vac-file-container"},Fq={class:"vac-text-ellipsis"},Uq={key:0,class:"vac-text-ellipsis vac-text-extension"},Bq={class:"vac-reply-content"};var $q=rP(Rq,[["render",function(e,t,n,r,s,o){const i=aO("audio-player"),a=aO("svg-icon"),l=aO("format-message");return iL(),uL("div",Mq,[vL("div",Oq,sR(o.replyUsername),1),o.isImage?(iL(),uL("div",Lq,[vL("div",{class:"vac-message-image vac-message-image-reply",style:ZI({"background-image":`url('${o.firstFile.url}')`})},null,4)])):o.isVideo?(iL(),uL("div",Nq,[vL("video",Pq,[vL("source",{src:o.firstFile.url},null,8,Dq)])])):o.isAudio?(iL(),hL(i,{key:2,src:o.firstFile.url,"message-selection-enabled":!1,onUpdateProgressTime:t[0]||(t[0]=t=>e.progressTime=t),onHoverAudioProgress:t[1]||(t[1]=t=>e.hoverAudioProgress=t)},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["src"])):o.isOtherFile?(iL(),uL("div",jq,[vL("div",null,[mO(e.$slots,"file-icon",{},(()=>[_L(a,{name:"file"})]))]),vL("div",Fq,sR(o.firstFile.name),1),o.firstFile.extension?(iL(),uL("div",Uq,sR(o.firstFile.extension),1)):xL("",!0)])):xL("",!0),vL("div",Bq,[_L(l,{"message-id":n.message.replyMessage._id,content:n.message.replyMessage.content,users:n.roomUsers,"text-formatting":n.textFormatting,"link-options":n.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])])}]]);const Vq={name:"ProgressBar",props:{progress:{type:Number,default:0}},data:()=>({radius:35,stroke:4,normalizedRadius:27,circumference:54*Math.PI}),computed:{strokeDashoffset(){return this.circumference-this.progress/100*this.circumference}}},Hq={ref:"progress",class:"vac-progress-wrapper"},zq=["height","width"],qq=["stroke-dasharray","stroke-width","r","cx","cy"],Gq={class:"vac-progress-text"},Wq=vL("span",{class:"vac-progress-pourcent"},"%",-1);var Kq=rP(Vq,[["render",function(e,t,n,r,s,o){return iL(),hL(EN,{name:"vac-fade-spinner",appear:""},{default:vM((()=>[vL("div",Hq,[(iL(),uL("svg",{height:2*s.radius,width:2*s.radius},[vL("circle",{stroke:"rgba(255, 255, 255, 0.7)","stroke-dasharray":s.circumference+" "+s.circumference,style:ZI({strokeDashoffset:o.strokeDashoffset,strokeLinecap:"round"}),"stroke-width":s.stroke,fill:"transparent",r:s.normalizedRadius,cx:s.radius,cy:s.radius},null,12,qq)],8,zq)),vL("div",{class:"vac-progress-content",style:ZI({height:2*s.radius-19+"px",width:2*s.radius-19+"px"})},[vL("div",Gq,[wL(sR(n.progress),1),Wq])],4)],512)])),_:1})}]]);const Yq={name:"MessageFile",components:{SvgIcon:mP,Loader:hP,ProgressBar:Kq},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},file:{type:Object,required:!0},index:{type:Number,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file"],data:()=>({imageResponsive:"",imageLoading:!1,imageHover:!1}),computed:{isImageLoading(){return-1!==this.file.url.indexOf("blob:http")||this.imageLoading},isImage(){return bF(this.file)},isVideo(){return wF(this.file)}},watch:{file:{immediate:!0,handler(){this.checkImgLoad()}}},mounted(){const e=this.$refs["imageRef"+this.index];e&&(this.imageResponsive={maxHeight:e.clientWidth-18,loaderTop:e.clientHeight/2-9})},methods:{checkImgLoad(){if(!bF(this.file))return;this.imageLoading=!0;const e=new Image;e.src=this.file.url,e.addEventListener("load",(()=>this.imageLoading=!1))},openFile(e,t){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:this.file,action:t}))}}},Xq={class:"vac-message-file-container"},Qq={key:0,class:"vac-image-buttons"},Zq={controls:""},Jq=["src"];var eG=rP(Yq,[["render",function(e,t,n,r,s,o){const i=aO("progress-bar"),a=aO("loader"),l=aO("svg-icon");return iL(),uL("div",Xq,[o.isImage?(iL(),uL("div",{key:0,ref:"imageRef"+n.index,class:"vac-message-image-container",onMouseover:t[2]||(t[2]=e=>s.imageHover=!0),onMouseleave:t[3]||(t[3]=e=>s.imageHover=!1),onClick:t[4]||(t[4]=e=>o.openFile(e,"preview"))},[n.file.progress>=0?(iL(),hL(i,{key:0,progress:n.file.progress,style:ZI({top:`${s.imageResponsive.loaderTop}px`})},null,8,["progress","style"])):(iL(),hL(a,{key:1,show:o.isImageLoading,type:"message-file","message-id":n.message._id,style:ZI({top:`${s.imageResponsive.loaderTop}px`})},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["show","message-id","style"])),vL("div",{class:nR(["vac-message-image",{"vac-blur-loading":o.isImageLoading&&n.message.senderId===n.currentUserId}]),style:ZI({"background-image":`url('${o.isImageLoading&&n.file.preview||n.file.url}')`,"max-height":`${s.imageResponsive.maxHeight}px`})},[_L(EN,{name:"vac-fade-image"},{default:vM((()=>[n.messageSelectionEnabled||!s.imageHover||o.isImageLoading?xL("",!0):(iL(),uL("div",Qq,[vL("div",{class:"vac-svg-button vac-button-view",onClick:t[0]||(t[0]=e=>o.openFile(e,"preview"))},[mO(e.$slots,"eye-icon_"+n.message._id,{},(()=>[_L(l,{name:"eye"})]))]),vL("div",{class:"vac-svg-button vac-button-download",onClick:t[1]||(t[1]=e=>o.openFile(e,"download"))},[mO(e.$slots,"document-icon_"+n.message._id,{},(()=>[_L(l,{name:"document"})]))])]))])),_:3})],6)],544)):o.isVideo?(iL(),uL("div",{key:1,class:"vac-video-container",onClick:t[5]||(t[5]=YN((e=>o.openFile(e,"preview")),["prevent"]))},[n.file.progress>=0?(iL(),hL(i,{key:0,progress:n.file.progress},null,8,["progress"])):xL("",!0),vL("video",Zq,[vL("source",{src:n.file.url},null,8,Jq)])])):xL("",!0)])}]]);const tG={name:"MessageFiles",components:{SvgIcon:mP,FormatMessage:lF,ProgressBar:Kq,MessageFile:eG},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},roomUsers:{type:Array,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file","open-user-tag"],computed:{imageVideoFiles(){return this.message.files.filter((e=>xF(e)))},otherFiles(){return this.message.files.filter((e=>!xF(e)))}},methods:{openFile(e,t,n){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:t,action:n}))}}},nG={class:"vac-message-files-container"},rG=["onClick"],sG={class:"vac-svg-button"},oG={class:"vac-text-ellipsis"},iG={key:0,class:"vac-text-ellipsis vac-text-extension"};var aG=rP(tG,[["render",function(e,t,n,r,s,o){const i=aO("message-file"),a=aO("progress-bar"),l=aO("svg-icon"),c=aO("format-message");return iL(),uL("div",nG,[(iL(!0),uL(eL,null,pO(o.imageVideoFiles,((r,s)=>(iL(),uL("div",{key:s+"iv"},[_L(i,{file:r,"current-user-id":n.currentUserId,message:n.message,index:s,"message-selection-enabled":n.messageSelectionEnabled,onOpenFile:t[0]||(t[0]=t=>e.$emit("open-file",t))},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["file","current-user-id","message","index","message-selection-enabled"])])))),128)),(iL(!0),uL(eL,null,pO(o.otherFiles,((t,n)=>(iL(),uL("div",{key:n+"a",class:"vac-file-wrapper"},[t.progress>=0?(iL(),hL(a,{key:0,progress:t.progress,style:{top:"44px"}},null,8,["progress"])):xL("",!0),vL("div",{class:nR(["vac-file-container",{"vac-file-container-progress":t.progress>=0}]),onClick:e=>o.openFile(e,t,"download")},[vL("div",sG,[mO(e.$slots,"document-icon",{},(()=>[_L(l,{name:"document"})]))]),vL("div",oG,sR(t.name),1),t.extension?(iL(),uL("div",iG,sR(t.extension),1)):xL("",!0)],10,rG)])))),128)),_L(c,{"message-id":n.message._id,content:n.message.content,users:n.roomUsers,"text-formatting":n.textFormatting,"link-options":n.linkOptions,onOpenUserTag:t[1]||(t[1]=t=>e.$emit("open-user-tag",t))},null,8,["message-id","content","users","text-formatting","link-options"])])}]]);const lG={name:"MessageActions",components:{SvgIcon:mP,EmojiPickerContainer:V$},directives:{clickOutside:vF},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},messageActions:{type:Array,required:!0},showReactionEmojis:{type:Boolean,required:!0},messageHover:{type:Boolean,required:!0},hoverMessageId:{type:[String,Number],default:null},hoverAudioProgress:{type:Boolean,required:!0},emojiDataSource:{type:String,default:void 0}},emits:["update-emoji-opened","update-options-opened","update-message-hover","message-action-handler","send-message-reaction"],data:()=>({menuOptionsTop:0,optionsOpened:!1,optionsClosing:!1,emojiOpened:!1}),computed:{isMessageActions(){return this.filteredMessageActions.length&&this.messageHover&&!this.message.deleted&&!this.message.disableActions&&!this.hoverAudioProgress},isMessageReactions(){return this.showReactionEmojis&&this.messageHover&&!this.message.deleted&&!this.message.disableReactions&&!this.hoverAudioProgress},filteredMessageActions(){return this.message.senderId===this.currentUserId?this.messageActions:this.messageActions.filter((e=>!e.onlyMe))}},watch:{emojiOpened(e){this.$emit("update-emoji-opened",e),e&&(this.optionsOpened=!1)},optionsOpened(e){this.$emit("update-options-opened",e)}},methods:{openOptions(){this.optionsClosing||(this.optionsOpened=!this.optionsOpened,this.optionsOpened&&setTimeout((()=>{const e=U$(this.$el,"#room-footer");if(!e||!this.$refs.menuOptions||!this.$refs.actionIcon)return;const t=this.$refs.menuOptions.getBoundingClientRect().height,n=this.$refs.actionIcon.getBoundingClientRect().top,r=e.getBoundingClientRect().top-n>t+50;this.menuOptionsTop=r?30:-t})))},closeOptions(){this.optionsOpened=!1,this.optionsClosing=!0,this.updateMessageHover(),setTimeout((()=>this.optionsClosing=!1),100)},openEmoji(){this.emojiOpened=!this.emojiOpened},closeEmoji(){this.emojiOpened=!1,this.updateMessageHover()},updateMessageHover(){this.hoverMessageId!==this.message._id&&this.$emit("update-message-hover",!1)},messageActionHandler(e){this.closeOptions(),this.$emit("message-action-handler",e)},sendMessageReaction(e,t){this.$emit("send-message-reaction",{emoji:e,reaction:t}),this.closeEmoji()}}},cG={class:"vac-message-actions-wrapper"},uG={key:"3"},hG={class:"vac-menu-list"},dG=["onClick"];var pG=rP(lG,[["render",function(e,t,n,r,s,o){const i=aO("svg-icon"),a=aO("emoji-picker-container"),l=uO("click-outside");return iL(),uL("div",cG,[vL("div",{class:"vac-options-container",style:ZI({display:n.hoverAudioProgress?"none":"initial",width:o.filteredMessageActions.length&&n.showReactionEmojis?"70px":"45px"})},[_L(HN,{name:"vac-slide-left",tag:"span"},{default:vM((()=>[o.isMessageActions||o.isMessageReactions?(iL(),uL("div",{key:"1",class:nR(["vac-blur-container",{"vac-options-me":n.message.senderId===n.currentUserId}])},null,2)):xL("",!0),o.isMessageActions?(iL(),uL("div",{ref:"actionIcon",key:"2",class:"vac-svg-button vac-message-options",onClick:t[0]||(t[0]=(...e)=>o.openOptions&&o.openOptions(...e))},[mO(e.$slots,"dropdown-icon_"+n.message._id,{},(()=>[_L(i,{name:"dropdown",param:"message"})]))],512)):xL("",!0),o.isMessageReactions?rO((iL(),uL("div",uG,[mO(e.$slots,"emoji-picker",kL({emojiOpened:s.emojiOpened},{addEmoji:o.sendMessageReaction}),(()=>[_L(a,{class:"vac-message-emojis",style:ZI({right:o.isMessageActions?"30px":"5px"}),"emoji-opened":s.emojiOpened,"emoji-reaction":!0,"position-right":n.message.senderId===n.currentUserId,"message-id":n.message._id,"emoji-data-source":n.emojiDataSource,onAddEmoji:o.sendMessageReaction,onOpenEmoji:o.openEmoji},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["style","emoji-opened","position-right","message-id","emoji-data-source","onAddEmoji","onOpenEmoji"])]))])),[[l,o.closeEmoji]]):xL("",!0)])),_:3})],4),o.filteredMessageActions.length?(iL(),hL(EN,{key:0,name:n.message.senderId===n.currentUserId?"vac-slide-left":"vac-slide-right"},{default:vM((()=>[s.optionsOpened?rO((iL(),uL("div",{key:0,ref:"menuOptions",class:nR(["vac-menu-options",{"vac-menu-left":n.message.senderId!==n.currentUserId}]),style:ZI({top:`${s.menuOptionsTop}px`})},[vL("div",hG,[(iL(!0),uL(eL,null,pO(o.filteredMessageActions,(e=>(iL(),uL("div",{key:e.name},[vL("div",{class:"vac-menu-item",onClick:t=>o.messageActionHandler(e)},sR(e.title),9,dG)])))),128))])],6)),[[l,o.closeOptions]]):xL("",!0)])),_:1},8,["name"])):xL("",!0)])}]]);const fG=["onClick"];function mG(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&null!==e[t]&&void 0!==e[t]}const gG={name:"RoomMessage",components:{SvgIcon:mP,FormatMessage:lF,AudioPlayer:sV,MessageReply:$q,MessageFiles:aG,MessageActions:pG,MessageReactions:rP({name:"MessageReactions",props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0}},emits:["send-message-reaction"],methods:{sendMessageReaction(e,t){this.$emit("send-message-reaction",{emoji:e,reaction:t})}}},[["render",function(e,t,n,r,s,o){return n.message.deleted?xL("",!0):(iL(),hL(HN,{key:0,name:"vac-slide-left",tag:"span"},{default:vM((()=>[(iL(!0),uL(eL,null,pO(n.message.reactions,((e,t)=>rO((iL(),uL("button",{key:t+0,class:nR(["vac-button-reaction",{"vac-reaction-me":-1!==e.indexOf(n.currentUserId)}]),style:ZI({float:n.message.senderId===n.currentUserId?"right":"left"}),onClick:n=>o.sendMessageReaction({unicode:t},e)},[wL(sR(t),1),vL("span",null,sR(e.length),1)],14,fG)),[[ZN,e.length]]))),128))])),_:1}))}]])},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},index:{type:Number,required:!0},message:{type:Object,required:!0},messages:{type:Array,required:!0},editedMessageId:{type:[String,Number],default:null},roomUsers:{type:Array,default:()=>[]},messageActions:{type:Array,required:!0},newMessages:{type:Array,default:()=>[]},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},usernameOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},selectedMessages:{type:Array,default:()=>[]},emojiDataSource:{type:String,default:void 0}},emits:["message-added","open-file","open-user-tag","open-failed-message","message-action-handler","send-message-reaction","select-message","unselect-message"],data:()=>({hoverMessageId:null,messageHover:!1,optionsOpened:!1,emojiOpened:!1,newMessage:{},progressTime:"- : -",hoverAudioProgress:!1}),computed:{showUsername(){return!(!this.usernameOptions.currentUser&&this.message.senderId===this.currentUserId)&&this.roomUsers.length>=this.usernameOptions.minUsers},showDate(){return this.index>0&&this.message.date!==this.messages[this.index-1].date},messageOffset(){return this.index>0&&this.message.senderId!==this.messages[this.index-1].senderId},isMessageHover(){return this.editedMessageId===this.message._id||this.hoverMessageId===this.message._id},isAudio(){var e;return null==(e=this.message.files)?void 0:e.some((e=>TF(e)))},isCheckmarkVisible(){return this.message.senderId===this.currentUserId&&!this.message.deleted&&(this.message.saved||this.message.distributed||this.message.seen)},hasCurrentUserAvatar(){return this.messages.some((e=>e.senderId===this.currentUserId&&e.avatar))},hasSenderUserAvatar(){return this.messages.some((e=>e.senderId!==this.currentUserId&&e.avatar))},isMessageSelected(){return this.messageSelectionEnabled&&!!this.selectedMessages.find((e=>e._id===this.message._id))}},watch:{newMessages:{immediate:!0,deep:!0,handler(e){e.length&&this.showNewMessagesDivider?this.newMessage=e.reduce(((e,t)=>t.index<e.index?t:e)):this.newMessage={}}},messageSelectionEnabled(){this.resetMessageHover()}},mounted(){!function(e){if(t=e,![{key:"_id",type:["string","number"]},{key:"senderId",type:["string","number"]}].every((e=>{const n=e.type.find((n=>n===typeof t[e.key]));return n&&mG(t,e.key)})))throw new Error("Messages object is not valid! Must contain at least _id[String, Number] and senderId[String, Number]");var t}(this.message),this.$emit("message-added",{message:this.message,index:this.index,ref:this.$refs.message})},methods:{onHoverMessage(){this.messageSelectionEnabled||(this.messageHover=!0,this.canEditMessage()&&(this.hoverMessageId=this.message._id))},canEditMessage(){return!this.message.deleted},onLeaveMessage(){this.messageSelectionEnabled||(this.optionsOpened||this.emojiOpened||(this.messageHover=!1),this.hoverMessageId=null)},resetMessageHover(){this.messageHover=!1,this.hoverMessageId=null},openFile(e){this.$emit("open-file",{message:this.message,file:e})},openUserTag(e){this.$emit("open-user-tag",{user:e})},messageActionHandler(e){this.resetMessageHover(),setTimeout((()=>{this.$emit("message-action-handler",{action:e,message:this.message})}),300)},sendMessageReaction({emoji:e,reaction:t}){this.$emit("send-message-reaction",{messageId:this.message._id,reaction:e,remove:t&&-1!==t.indexOf(this.currentUserId)}),this.messageHover=!1},selectMessage(){this.messageSelectionEnabled&&(this.isMessageSelected?this.$emit("unselect-message",this.message._id):this.$emit("select-message",this.message))}}},vG=["id"],_G={key:0,class:"vac-card-info vac-card-date"},yG={key:1,class:"vac-line-new"},bG={key:2,class:"vac-card-info vac-card-system"},wG={key:1,class:"vac-avatar-offset"},xG={key:0,class:"vac-progress-time"},TG={class:"vac-text-timestamp"},EG={key:0,class:"vac-icon-edited"},SG={key:1},kG=[vL("div",{class:"vac-failure-text"},"!",-1)],CG={key:3,class:"vac-avatar-current-offset"};var AG=rP(gG,[["render",function(e,t,n,r,s,o){const i=aO("format-message"),a=aO("message-reply"),l=aO("message-files"),c=aO("audio-player"),u=aO("svg-icon"),h=aO("message-actions"),d=aO("message-reactions");return iL(),uL("div",{id:n.message._id,ref:"message",class:"vac-message-wrapper"},[o.showDate?(iL(),uL("div",_G,sR(n.message.date),1)):xL("",!0),s.newMessage._id===n.message._id?(iL(),uL("div",yG,sR(n.textMessages.NEW_MESSAGES),1)):xL("",!0),n.message.system?(iL(),uL("div",bG,[mO(e.$slots,"message_"+n.message._id,{},(()=>[_L(i,{"message-id":n.message._id,content:n.message.content,deleted:!!n.message.deleted,users:n.roomUsers,"text-messages":n.textMessages,"text-formatting":n.textFormatting,"link-options":n.linkOptions,onOpenUserTag:o.openUserTag},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["message-id","content","deleted","users","text-messages","text-formatting","link-options","onOpenUserTag"])]))])):(iL(),uL("div",{key:3,class:nR(["vac-message-box",{"vac-offset-current":n.message.senderId===n.currentUserId}]),onClick:t[8]||(t[8]=(...e)=>o.selectMessage&&o.selectMessage(...e))},[mO(e.$slots,"message_"+n.message._id,{},(()=>[n.message.senderId!==n.currentUserId?mO(e.$slots,"message-avatar_"+n.message._id,{key:0},(()=>[n.message.avatar?(iL(),uL("div",{key:0,class:"vac-avatar",style:ZI({"background-image":`url('${n.message.avatar}')`})},null,4)):xL("",!0)])):xL("",!0),o.hasSenderUserAvatar&&!n.message.avatar?(iL(),uL("div",wG)):xL("",!0),vL("div",{class:nR(["vac-message-container",{"vac-message-container-offset":o.messageOffset}])},[vL("div",{class:nR(["vac-message-card",{"vac-message-highlight":o.isMessageHover,"vac-message-current":n.message.senderId===n.currentUserId,"vac-message-deleted":n.message.deleted,"vac-item-clickable":n.messageSelectionEnabled,"vac-message-selected":o.isMessageSelected}]),onMouseover:t[5]||(t[5]=(...e)=>o.onHoverMessage&&o.onHoverMessage(...e)),onMouseleave:t[6]||(t[6]=(...e)=>o.onLeaveMessage&&o.onLeaveMessage(...e))},[o.showUsername?(iL(),uL("div",{key:0,class:nR(["vac-text-username",{"vac-username-reply":!n.message.deleted&&n.message.replyMessage}])},[vL("span",null,sR(n.message.username),1)],2)):xL("",!0),!n.message.deleted&&n.message.replyMessage?(iL(),hL(a,{key:1,message:n.message,"room-users":n.roomUsers,"text-formatting":n.textFormatting,"link-options":n.linkOptions},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["message","room-users","text-formatting","link-options"])):xL("",!0),!n.message.deleted&&n.message.files&&n.message.files.length?!o.isAudio||n.message.files.length>1?(iL(),hL(l,{key:3,"current-user-id":n.currentUserId,message:n.message,"room-users":n.roomUsers,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"message-selection-enabled":n.messageSelectionEnabled,onOpenFile:o.openFile,onOpenUserTag:o.openUserTag},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["current-user-id","message","room-users","text-formatting","link-options","message-selection-enabled","onOpenFile","onOpenUserTag"])):(iL(),uL(eL,{key:4},[_L(c,{"message-id":n.message._id,src:n.message.files[0].url,"message-selection-enabled":n.messageSelectionEnabled,onUpdateProgressTime:t[0]||(t[0]=e=>s.progressTime=e),onHoverAudioProgress:t[1]||(t[1]=e=>s.hoverAudioProgress=e)},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["message-id","src","message-selection-enabled"]),n.message.deleted?xL("",!0):(iL(),uL("div",xG,sR(s.progressTime),1))],64)):(iL(),hL(i,{key:2,"message-id":n.message._id,content:n.message.content,deleted:!!n.message.deleted,users:n.roomUsers,"text-formatting":n.textFormatting,"text-messages":n.textMessages,"link-options":n.linkOptions,onOpenUserTag:o.openUserTag},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["message-id","content","deleted","users","text-formatting","text-messages","link-options","onOpenUserTag"])),vL("div",TG,[n.message.edited&&!n.message.deleted?(iL(),uL("div",EG,[mO(e.$slots,"pencil-icon_"+n.message._id,{},(()=>[_L(u,{name:"pencil"})]))])):xL("",!0),vL("span",null,sR(n.message.timestamp),1),o.isCheckmarkVisible?(iL(),uL("span",SG,[mO(e.$slots,"checkmark-icon_"+n.message._id,{},(()=>[_L(u,{name:n.message.distributed?"double-checkmark":"checkmark",param:n.message.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])]))])):xL("",!0)]),_L(h,{"current-user-id":n.currentUserId,message:n.message,"message-actions":n.messageActions,"show-reaction-emojis":n.showReactionEmojis,"message-hover":s.messageHover,"hover-message-id":s.hoverMessageId,"hover-audio-progress":s.hoverAudioProgress,"emoji-data-source":n.emojiDataSource,onUpdateMessageHover:t[2]||(t[2]=e=>s.messageHover=e),onUpdateOptionsOpened:t[3]||(t[3]=e=>s.optionsOpened=e),onUpdateEmojiOpened:t[4]||(t[4]=e=>s.emojiOpened=e),onMessageActionHandler:o.messageActionHandler,onSendMessageReaction:o.sendMessageReaction},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["current-user-id","message","message-actions","show-reaction-emojis","message-hover","hover-message-id","hover-audio-progress","emoji-data-source","onMessageActionHandler","onSendMessageReaction"])],34),_L(d,{"current-user-id":n.currentUserId,message:n.message,onSendMessageReaction:o.sendMessageReaction},null,8,["current-user-id","message","onSendMessageReaction"])],2),mO(e.$slots,"message-failure_"+n.message._id,{},(()=>[n.message.failure&&n.message.senderId===n.currentUserId?(iL(),uL("div",{key:0,class:nR(["vac-failure-container vac-svg-button",{"vac-failure-container-avatar":n.message.avatar&&n.message.senderId===n.currentUserId}]),onClick:t[7]||(t[7]=t=>e.$emit("open-failed-message",{message:n.message}))},kG,2)):xL("",!0)])),n.message.senderId===n.currentUserId?mO(e.$slots,"message-avatar_"+n.message._id,{key:2},(()=>[n.message.avatar?(iL(),uL("div",{key:0,class:"vac-avatar vac-avatar-current",style:ZI({"background-image":`url('${n.message.avatar}')`})},null,4)):xL("",!0)])):xL("",!0),o.hasCurrentUserAvatar&&!n.message.avatar?(iL(),uL("div",CG)):xL("",!0)]))],2))],8,vG)}]]);const IG={name:"ChatRoom",components:{Loader:hP,SvgIcon:mP,RoomHeader:aU,RoomFooter:Iq,RoomMessage:AG},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},roomId:{type:[String,Number],required:!0},loadFirstRoom:{type:Boolean,required:!0},messages:{type:Array,required:!0},roomMessage:{type:String,default:null},messagesLoaded:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},messageActions:{type:Array,required:!0},messageSelectionActions:{type:Array,required:!0},autoScroll:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},showEmojis:{type:Boolean,required:!0},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},loadingRooms:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},scrollDistance:{type:Number,required:!0},templatesText:{type:Array,default:null},usernameOptions:{type:Object,required:!0},emojiDataSource:{type:String,default:void 0}},emits:["toggle-rooms-list","room-info","menu-action-handler","message-selection-action-handler","edit-message","send-message","delete-message","message-action-handler","fetch-messages","send-message-reaction","typing-message","open-file","open-user-tag","open-failed-message","textarea-action-handler"],data:()=>({editedMessageId:null,initReplyMessage:null,initEditMessage:null,loadingMessages:!1,observer:null,showLoader:!0,loadingMoreMessages:!1,scrollIcon:!1,scrollMessagesCount:0,newMessages:[],messageSelectionEnabled:!1,selectedMessages:[],droppedFiles:[]}),computed:{room(){return this.rooms.find((e=>e.roomId===this.roomId))||{}},showNoMessages(){return this.roomId&&!this.messages.length&&!this.loadingMessages&&!this.loadingRooms},showNoRoom(){const e=!this.rooms.length&&!this.loadingRooms||!this.roomId&&!this.loadFirstRoom;return e&&this.updateLoadingMessages(!1),e},showMessagesStarted(){return this.messages.length&&this.messagesLoaded}},watch:{roomId:{immediate:!0,handler(){this.onRoomChanged()}},messages:{deep:!0,handler(e,t){e.forEach(((e,t)=>{this.showNewMessagesDivider&&!e.seen&&e.senderId!==this.currentUserId&&this.newMessages.push({_id:e._id,index:t})})),(null==t?void 0:t.length)===(null==e?void 0:e.length)-1&&(this.newMessages=[]),setTimeout((()=>this.loadingMoreMessages=!1))}},messagesLoaded(e){e&&this.updateLoadingMessages(!1)}},mounted(){this.newMessages=[]},methods:{updateLoadingMessages(e){this.loadingMessages=e,e||setTimeout((()=>this.initIntersectionObserver()))},initIntersectionObserver(){this.observer&&(this.showLoader=!0,this.observer.disconnect());const e=this.$el.querySelector("#infinite-loader-messages");if(e){const t={root:this.$el.querySelector("#messages-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver((e=>{e[0].isIntersecting&&this.loadMoreMessages()}),t),this.observer.observe(e)}},preventTopScroll(){const e=this.$refs.scrollContainer,t=e.scrollHeight,n=new ResizeObserver((r=>{e.scrollHeight!==t&&this.$refs.scrollContainer&&(this.$refs.scrollContainer.scrollTo({top:e.scrollHeight-t}),n.disconnect())}));for(var r=0;r<e.children.length;r++)n.observe(e.children[r])},touchStart(e){if(!this.singleRoom&&1===e.changedTouches.length){const t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;addEventListener("touchend",(e=>this.touchEnd(e,t,n)),{once:!0})}},touchEnd(e,t,n){if(1===e.changedTouches.length){const r=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY,o=r-t>100,i=Math.abs(s-n)>50;o&&!i&&this.$emit("toggle-rooms-list")}},onRoomChanged(){this.updateLoadingMessages(!0),this.scrollIcon=!1,this.scrollMessagesCount=0,this.resetMessageSelection();const e=this.$watch((()=>this.messages),(t=>{if(!t||!t.length)return;const n=this.$refs.scrollContainer;n&&(e(),setTimeout((()=>{n.scrollTo({top:n.scrollHeight}),this.updateLoadingMessages(!1)})))}))},resetMessageSelection(){this.messageSelectionEnabled=!1,this.selectedMessages=[]},selectMessage(e){this.selectedMessages.push(e)},unselectMessage(e){this.selectedMessages=this.selectedMessages.filter((t=>t._id!==e))},onMessageAdded({message:e,index:t,ref:n}){if(t!==this.messages.length-1)return;const r=n.offsetHeight+60;setTimeout((()=>{const t=this.getBottomScroll(this.$refs.scrollContainer)>r;e.senderId===this.currentUserId?t?this.autoScroll.send.newAfterScrollUp&&this.scrollToBottom():this.autoScroll.send.new&&this.scrollToBottom():t?this.autoScroll.receive.newAfterScrollUp?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++):this.autoScroll.receive.new?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++)}))},onContainerScroll(e){if(!e.target)return;const t=this.getBottomScroll(e.target);t<60&&(this.scrollMessagesCount=0),this.scrollIcon=t>500||this.scrollMessagesCount},loadMoreMessages(){this.loadingMessages||setTimeout((()=>{if(!this.loadingMoreMessages){if(this.messagesLoaded||!this.roomId)return this.loadingMoreMessages=!1,void(this.showLoader=!1);this.preventTopScroll(),this.$emit("fetch-messages"),this.loadingMoreMessages=!0}}),500)},messageActionHandler({action:e,message:t}){switch(e.name){case"replyMessage":return this.initReplyMessage=t,void setTimeout((()=>{this.initReplyMessage=null}));case"editMessage":return this.initEditMessage=t,void setTimeout((()=>{this.initEditMessage=null}));case"deleteMessage":return this.$emit("delete-message",t);case"selectMessages":return this.selectedMessages=[t],void(this.messageSelectionEnabled=!0);default:return this.$emit("message-action-handler",{action:e,message:t})}},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{action:e,messages:this.selectedMessages}),this.resetMessageSelection()},sendMessageReaction(e){this.$emit("send-message-reaction",e)},getBottomScroll(e){const{scrollHeight:t,clientHeight:n,scrollTop:r}=e;return t-n-r},scrollToBottom(){setTimeout((()=>{const e=this.$refs.scrollContainer;e.classList.add("vac-scroll-smooth"),e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),setTimeout((()=>e.classList.remove("vac-scroll-smooth")))}),50)},openFile({message:e,file:t}){this.$emit("open-file",{message:e,file:t})},openUserTag(e){this.$emit("open-user-tag",e)},onDropFiles(e){this.showFiles&&(this.droppedFiles=e.dataTransfer.files)}}},RG={class:"vac-container-center vac-room-empty"},MG={class:"vac-messages-container"},OG={key:0,class:"vac-text-started"},LG={key:1,class:"vac-text-started"},NG={key:0,id:"infinite-loader-messages"},PG={key:2},DG={key:0,class:"vac-badge-counter vac-messages-count"};var jG=rP(IG,[["render",function(e,t,n,r,s,o){const i=aO("room-header"),a=aO("loader"),l=aO("room-message"),c=aO("svg-icon"),u=aO("room-footer");return rO((iL(),uL("div",{class:"vac-col-messages",onDrop:t[12]||(t[12]=YN(((...e)=>o.onDropFiles&&o.onDropFiles(...e)),["prevent"])),onDragenter:t[13]||(t[13]=YN((()=>{}),["prevent"])),onDragover:t[14]||(t[14]=YN((()=>{}),["prevent"])),onDragleave:t[15]||(t[15]=YN((()=>{}),["prevent"])),onTouchstart:t[16]||(t[16]=(...e)=>o.touchStart&&o.touchStart(...e))},[o.showNoRoom?mO(e.$slots,"no-room-selected",{key:0},(()=>[vL("div",RG,[vL("div",null,sR(n.textMessages.ROOM_EMPTY),1)])])):(iL(),hL(i,{key:1,"current-user-id":n.currentUserId,"text-messages":n.textMessages,"single-room":n.singleRoom,"show-rooms-list":n.showRoomsList,"is-mobile":n.isMobile,"room-info-enabled":n.roomInfoEnabled,"menu-actions":n.menuActions,room:o.room,"message-selection-enabled":s.messageSelectionEnabled,"message-selection-actions":n.messageSelectionActions,"selected-messages-total":s.selectedMessages.length,onToggleRoomsList:t[0]||(t[0]=t=>e.$emit("toggle-rooms-list")),onRoomInfo:t[1]||(t[1]=t=>e.$emit("room-info")),onMenuActionHandler:t[2]||(t[2]=t=>e.$emit("menu-action-handler",t)),onMessageSelectionActionHandler:o.messageSelectionActionHandler,onCancelMessageSelection:t[3]||(t[3]=e=>s.messageSelectionEnabled=!1)},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["current-user-id","text-messages","single-room","show-rooms-list","is-mobile","room-info-enabled","menu-actions","room","message-selection-enabled","message-selection-actions","selected-messages-total","onMessageSelectionActionHandler"])),vL("div",{id:"messages-list",ref:"scrollContainer",class:"vac-container-scroll",onScroll:t[5]||(t[5]=(...e)=>o.onContainerScroll&&o.onContainerScroll(...e))},[_L(a,{show:s.loadingMessages,type:"messages"},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["show"]),vL("div",MG,[vL("div",{class:nR({"vac-messages-hidden":s.loadingMessages})},[_L(EN,{name:"vac-fade-message"},{default:vM((()=>[vL("div",null,[o.showNoMessages?(iL(),uL("div",OG,[mO(e.$slots,"messages-empty",{},(()=>[wL(sR(n.textMessages.MESSAGES_EMPTY),1)]))])):xL("",!0),o.showMessagesStarted?(iL(),uL("div",LG,sR(n.textMessages.CONVERSATION_STARTED)+" "+sR(n.messages[0].date),1)):xL("",!0)])])),_:3}),n.messages.length&&!n.messagesLoaded?(iL(),uL("div",NG,[_L(a,{show:!0,infinite:!0,type:"infinite-messages"},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1024)])):xL("",!0),(iL(),hL(HN,{key:n.roomId,name:"vac-fade-message",tag:"span"},{default:vM((()=>[(iL(!0),uL(eL,null,pO(n.messages,((r,i)=>(iL(),uL("div",{key:r.indexId||r._id},[_L(l,{"current-user-id":n.currentUserId,message:r,index:i,messages:n.messages,"edited-message-id":s.editedMessageId,"message-actions":n.messageActions,"room-users":o.room.users,"text-messages":n.textMessages,"new-messages":s.newMessages,"show-reaction-emojis":n.showReactionEmojis,"show-new-messages-divider":n.showNewMessagesDivider,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"username-options":n.usernameOptions,"message-selection-enabled":s.messageSelectionEnabled,"selected-messages":s.selectedMessages,"emoji-data-source":n.emojiDataSource,onMessageAdded:o.onMessageAdded,onMessageActionHandler:o.messageActionHandler,onOpenFile:o.openFile,onOpenUserTag:o.openUserTag,onOpenFailedMessage:t[4]||(t[4]=t=>e.$emit("open-failed-message",t)),onSendMessageReaction:o.sendMessageReaction,onSelectMessage:o.selectMessage,onUnselectMessage:o.unselectMessage},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["current-user-id","message","index","messages","edited-message-id","message-actions","room-users","text-messages","new-messages","show-reaction-emojis","show-new-messages-divider","text-formatting","link-options","username-options","message-selection-enabled","selected-messages","emoji-data-source","onMessageAdded","onMessageActionHandler","onOpenFile","onOpenUserTag","onSendMessageReaction","onSelectMessage","onUnselectMessage"])])))),128))])),_:3}))],2)])],544),s.loadingMessages?xL("",!0):(iL(),uL("div",PG,[_L(EN,{name:"vac-bounce"},{default:vM((()=>[s.scrollIcon?(iL(),uL("div",{key:0,class:"vac-icon-scroll",onClick:t[6]||(t[6]=(...e)=>o.scrollToBottom&&o.scrollToBottom(...e))},[_L(EN,{name:"vac-bounce"},{default:vM((()=>[s.scrollMessagesCount?(iL(),uL("div",DG,sR(s.scrollMessagesCount),1)):xL("",!0)])),_:1}),mO(e.$slots,"scroll-icon",{},(()=>[_L(c,{name:"dropdown",param:"scroll"})]))])):xL("",!0)])),_:3})])),_L(u,{room:o.room,"room-id":n.roomId,"room-message":n.roomMessage,"text-messages":n.textMessages,"show-send-icon":n.showSendIcon,"show-files":n.showFiles,"show-audio":n.showAudio,"show-emojis":n.showEmojis,"show-footer":n.showFooter,"accepted-files":n.acceptedFiles,"textarea-action-enabled":n.textareaActionEnabled,"textarea-auto-focus":n.textareaAutoFocus,"user-tags-enabled":n.userTagsEnabled,"emojis-suggestion-enabled":n.emojisSuggestionEnabled,"templates-text":n.templatesText,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"audio-bit-rate":n.audioBitRate,"audio-sample-rate":n.audioSampleRate,"init-reply-message":s.initReplyMessage,"init-edit-message":s.initEditMessage,"dropped-files":s.droppedFiles,"emoji-data-source":n.emojiDataSource,onUpdateEditedMessageId:t[7]||(t[7]=e=>s.editedMessageId=e),onEditMessage:t[8]||(t[8]=t=>e.$emit("edit-message",t)),onSendMessage:t[9]||(t[9]=t=>e.$emit("send-message",t)),onTypingMessage:t[10]||(t[10]=t=>e.$emit("typing-message",t)),onTextareaActionHandler:t[11]||(t[11]=t=>e.$emit("textarea-action-handler",t))},fO({_:2},[pO(e.$slots,((t,n)=>({name:n,fn:vM((t=>[mO(e.$slots,n,rR(yL(t)))]))})))]),1032,["room","room-id","room-message","text-messages","show-send-icon","show-files","show-audio","show-emojis","show-footer","accepted-files","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","templates-text","text-formatting","link-options","audio-bit-rate","audio-sample-rate","init-reply-message","init-edit-message","dropped-files","emoji-data-source"])],544)),[[ZN,n.isMobile&&!n.showRoomsList||!n.isMobile||n.singleRoom]])}]]);const FG={key:0,class:"vac-media-preview-container"},UG={key:1,class:"vac-media-preview-container"},BG={controls:"",autoplay:""},$G=["src"],VG={class:"vac-svg-button"};var HG={ROOMS_EMPTY:"No rooms",ROOM_EMPTY:"No room selected",NEW_MESSAGES:"New Messages",MESSAGE_DELETED:"This message was deleted",MESSAGES_EMPTY:"No messages",CONVERSATION_STARTED:"Conversation started on:",TYPE_MESSAGE:"Type message",SEARCH:"Search",IS_ONLINE:"is online",LAST_SEEN:"last seen ",IS_TYPING:"is writing...",CANCEL_SELECT_MESSAGE:"Cancel"};const zG={light:{general:{color:"#0a0a0a",colorButtonClear:"#1976d2",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#fff",colorPlaceholder:"#9ca6af",colorCaret:"#1976d2",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#fff",colorRoomName:"#0a0a0a",colorRoomInfo:"#9ca6af"},footer:{background:"#f8f9fa",borderStyleInput:"1px solid #e1e4e8",borderInputSelected:"#1976d2",backgroundReply:"#e5e5e6",backgroundTagActive:"#e5e5e6",backgroundTag:"#f8f9fa"},content:{background:"#f8f9fa"},sidemenu:{background:"#fff",backgroundHover:"#f6f6f6",backgroundActive:"#e5effa",colorActive:"#1976d2",borderColorSearch:"#e1e5e8"},dropdown:{background:"#fff",backgroundHover:"#f6f6f6"},message:{background:"#fff",backgroundMe:"#ccf2cf",color:"#0a0a0a",colorStarted:"#9ca6af",backgroundDeleted:"#dadfe2",backgroundSelected:"#c2dcf2",colorDeleted:"#757e85",colorUsername:"#9ca6af",colorTimestamp:"#828c94",backgroundDate:"#e5effa",colorDate:"#505a62",backgroundSystem:"#e5effa",colorSystem:"#505a62",backgroundMedia:"rgba(0, 0, 0, 0.15)",backgroundReply:"rgba(0, 0, 0, 0.08)",colorReplyUsername:"#0a0a0a",colorReply:"#6e6e6e",colorTag:"#0d579c",backgroundImage:"#ddd",colorNewMessages:"#1976d2",backgroundScrollCounter:"#0696c7",colorScrollCounter:"#fff",backgroundReaction:"#eee",borderStyleReaction:"1px solid #eee",backgroundReactionHover:"#fff",borderStyleReactionHover:"1px solid #ddd",colorReactionCounter:"#0a0a0a",backgroundReactionMe:"#cfecf5",borderStyleReactionMe:"1px solid #3b98b8",backgroundReactionHoverMe:"#cfecf5",borderStyleReactionHoverMe:"1px solid #3b98b8",colorReactionCounterMe:"#0b59b3",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(0, 0, 0, 0.15)",backgroundAudioProgress:"#455247",backgroundAudioProgressSelector:"#455247",colorFileExtension:"#757e85"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#0a0a0a",colorMessage:"#67717a",colorTimestamp:"#a2aeb8",colorStateOnline:"#4caf50",colorStateOffline:"#9ca6af",backgroundCounterBadge:"#0696c7",colorCounterBadge:"#fff"},emoji:{background:"#fff"},icons:{search:"#9ca6af",add:"#1976d2",toggle:"#0a0a0a",menu:"#0a0a0a",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#1976d2",closeOutline:"#000",closePreview:"#fff",send:"#1976d2",sendDisabled:"#9ca6af",emoji:"#1976d2",emojiReaction:"rgba(0, 0, 0, 0.3)",document:"#1976d2",pencil:"#9e9e9e",checkmark:"#9e9e9e",checkmarkSeen:"#0696c7",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#9e9e9e",dropdownScroll:"#0a0a0a",microphone:"#1976d2",audioPlay:"#455247",audioPause:"#455247",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}},dark:{general:{color:"#fff",colorButtonClear:"#fff",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#202223",colorPlaceholder:"#596269",colorCaret:"#fff",colorSpinner:"#fff",borderStyle:"none",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#181a1b",colorRoomName:"#fff",colorRoomInfo:"#9ca6af"},footer:{background:"#131415",borderStyleInput:"none",borderInputSelected:"#1976d2",backgroundReply:"#1b1c1c",backgroundTagActive:"#1b1c1c",backgroundTag:"#131415"},content:{background:"#131415"},sidemenu:{background:"#181a1b",backgroundHover:"#202224",backgroundActive:"#151617",colorActive:"#fff",borderColorSearch:"#181a1b"},dropdown:{background:"#2a2c33",backgroundHover:"#26282e"},message:{background:"#22242a",backgroundMe:"#1f7e80",color:"#fff",colorStarted:"#9ca6af",backgroundDeleted:"#1b1c21",backgroundSelected:"#c2dcf2",colorDeleted:"#a2a5a8",colorUsername:"#b3bac9",colorTimestamp:"#ebedf2",backgroundDate:"rgba(0, 0, 0, 0.3)",colorDate:"#bec5cc",backgroundSystem:"rgba(0, 0, 0, 0.3)",colorSystem:"#bec5cc",backgroundMedia:"rgba(0, 0, 0, 0.18)",backgroundReply:"rgba(0, 0, 0, 0.18)",colorReplyUsername:"#fff",colorReply:"#d6d6d6",colorTag:"#f0c60a",backgroundImage:"#ddd",colorNewMessages:"#fff",backgroundScrollCounter:"#1976d2",colorScrollCounter:"#fff",backgroundReaction:"none",borderStyleReaction:"none",backgroundReactionHover:"#202223",borderStyleReactionHover:"none",colorReactionCounter:"#fff",backgroundReactionMe:"#4e9ad1",borderStyleReactionMe:"none",backgroundReactionHoverMe:"#4e9ad1",borderStyleReactionHoverMe:"none",colorReactionCounterMe:"#fff",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(255, 255, 255, 0.15)",backgroundAudioProgress:"#b7d4d3",backgroundAudioProgressSelector:"#b7d4d3",colorFileExtension:"#a2a5a8"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#fff",colorMessage:"#6c7278",colorTimestamp:"#6c7278",colorStateOnline:"#4caf50",colorStateOffline:"#596269",backgroundCounterBadge:"#1976d2",colorCounterBadge:"#fff"},emoji:{background:"#343740"},icons:{search:"#596269",add:"#fff",toggle:"#fff",menu:"#fff",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#fff",closeOutline:"#fff",closePreview:"#fff",send:"#fff",sendDisabled:"#646a70",emoji:"#fff",emojiReaction:"#fff",document:"#1976d2",pencil:"#ebedf2",checkmark:"#ebedf2",checkmarkSeen:"#f0d90a",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#fff",dropdownScroll:"#0a0a0a",microphone:"#fff",audioPlay:"#b7d4d3",audioPause:"#b7d4d3",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}}};const qG={name:"ChatContainer",components:{RoomsList:GF,Room:jG,MediaPreview:rP({name:"MediaPreview",components:{SvgIcon:mP},props:{file:{type:Object,required:!0}},emits:["close-media-preview"],computed:{isImage(){return bF(this.file)},isVideo(){return wF(this.file)}},mounted(){this.$refs.modal.focus()},methods:{closeModal(){this.$emit("close-media-preview")}}},[["render",function(e,t,n,r,s,o){const i=aO("svg-icon");return iL(),uL("div",{ref:"modal",tabindex:"0",class:"vac-media-preview",onClick:t[0]||(t[0]=YN(((...e)=>o.closeModal&&o.closeModal(...e)),["stop"])),onKeydown:t[1]||(t[1]=QN(((...e)=>o.closeModal&&o.closeModal(...e)),["esc"]))},[_L(EN,{name:"vac-bounce-preview",appear:""},{default:vM((()=>[o.isImage?(iL(),uL("div",FG,[vL("div",{class:"vac-image-preview",style:ZI({"background-image":`url('${n.file.url}')`})},null,4)])):o.isVideo?(iL(),uL("div",UG,[vL("video",BG,[vL("source",{src:n.file.url},null,8,$G)])])):xL("",!0)])),_:1}),vL("div",VG,[mO(e.$slots,"preview-close-icon",{},(()=>[_L(i,{name:"close-outline",param:"preview"})]))])],544)}]])},props:{height:{type:String,default:"600px"},theme:{type:String,default:"light"},styles:{type:[Object,String],default:()=>({})},responsiveBreakpoint:{type:Number,default:900},singleRoom:{type:[Boolean,String],default:!1},roomsListOpened:{type:[Boolean,String],default:!0},textMessages:{type:[Object,String],default:()=>({})},currentUserId:{type:String,default:""},rooms:{type:[Array,String],default:()=>[]},roomsOrder:{type:String,default:"desc"},loadingRooms:{type:[Boolean,String],default:!1},roomsLoaded:{type:[Boolean,String],default:!1},roomId:{type:String,default:null},loadFirstRoom:{type:[Boolean,String],default:!0},messages:{type:[Array,String],default:()=>[]},messagesLoaded:{type:[Boolean,String],default:!1},roomActions:{type:[Array,String],default:()=>[]},menuActions:{type:[Array,String],default:()=>[]},messageActions:{type:[Array,String],default:()=>[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit Message",onlyMe:!0},{name:"deleteMessage",title:"Delete Message",onlyMe:!0},{name:"selectMessages",title:"Select"}]},messageSelectionActions:{type:[Array,String],default:()=>[]},autoScroll:{type:[Object,String],default:()=>({send:{new:!0,newAfterScrollUp:!0},receive:{new:!0,newAfterScrollUp:!1}})},customSearchRoomEnabled:{type:[Boolean,String],default:!1},showSearch:{type:[Boolean,String],default:!0},showAddRoom:{type:[Boolean,String],default:!0},showSendIcon:{type:[Boolean,String],default:!0},showFiles:{type:[Boolean,String],default:!0},showAudio:{type:[Boolean,String],default:!0},audioBitRate:{type:Number,default:128},audioSampleRate:{type:Number,default:44100},showEmojis:{type:[Boolean,String],default:!0},showReactionEmojis:{type:[Boolean,String],default:!0},showNewMessagesDivider:{type:[Boolean,String],default:!0},showFooter:{type:[Boolean,String],default:!0},textFormatting:{type:[Object,String],default:()=>({disabled:!1,italic:"_",bold:"*",strike:"~",underline:"°",multilineCode:"```",inlineCode:"`"})},linkOptions:{type:[Object,String],default:()=>({disabled:!1,target:"_blank",rel:null})},roomInfoEnabled:{type:[Boolean,String],default:!1},textareaActionEnabled:{type:[Boolean,String],default:!1},textareaAutoFocus:{type:[Boolean,String],default:!0},userTagsEnabled:{type:[Boolean,String],default:!0},emojisSuggestionEnabled:{type:[Boolean,String],default:!0},roomMessage:{type:String,default:""},scrollDistance:{type:Number,default:60},acceptedFiles:{type:String,default:"*"},templatesText:{type:[Array,String],default:()=>[]},mediaPreviewEnabled:{type:[Boolean,String],default:!0},usernameOptions:{type:[Object,String],default:()=>({minUsers:3,currentUser:!1})},emojiDataSource:{type:String,default:void 0}},emits:["toggle-rooms-list","room-info","fetch-messages","send-message","edit-message","delete-message","open-file","open-user-tag","open-failed-message","menu-action-handler","message-action-handler","send-message-reaction","typing-message","textarea-action-handler","fetch-more-rooms","add-room","search-room","room-action-handler","message-selection-action-handler"],data:()=>({slots:[],room:{},loadingMoreRooms:!1,showRoomsList:!0,isMobile:!1,showMediaPreview:!1,previewFile:{}}),computed:{t(){return{...HG,...this.textMessagesCasted}},cssVars(){const e=zG[this.theme],t={};return Object.keys(e).map((n=>{t[n]={...e[n],...this.stylesCasted[n]||{}}})),(({general:e,container:t,header:n,footer:r,sidemenu:s,content:o,dropdown:i,message:a,markdown:l,room:c,emoji:u,icons:h})=>({"--chat-color":e.color,"--chat-color-button-clear":e.colorButtonClear,"--chat-color-button":e.colorButton,"--chat-bg-color-button":e.backgroundColorButton,"--chat-bg-color-input":e.backgroundInput,"--chat-color-spinner":e.colorSpinner,"--chat-color-placeholder":e.colorPlaceholder,"--chat-color-caret":e.colorCaret,"--chat-border-style":e.borderStyle,"--chat-bg-scroll-icon":e.backgroundScrollIcon,"--chat-container-border":t.border,"--chat-container-border-radius":t.borderRadius,"--chat-container-box-shadow":t.boxShadow,"--chat-header-bg-color":n.background,"--chat-header-color-name":n.colorRoomName,"--chat-header-color-info":n.colorRoomInfo,"--chat-footer-bg-color":r.background,"--chat-border-style-input":r.borderStyleInput,"--chat-border-color-input-selected":r.borderInputSelected,"--chat-footer-bg-color-reply":r.backgroundReply,"--chat-footer-bg-color-tag-active":r.backgroundTagActive,"--chat-footer-bg-color-tag":r.backgroundTag,"--chat-content-bg-color":o.background,"--chat-sidemenu-bg-color":s.background,"--chat-sidemenu-bg-color-hover":s.backgroundHover,"--chat-sidemenu-bg-color-active":s.backgroundActive,"--chat-sidemenu-color-active":s.colorActive,"--chat-sidemenu-border-color-search":s.borderColorSearch,"--chat-dropdown-bg-color":i.background,"--chat-dropdown-bg-color-hover":i.backgroundHover,"--chat-message-bg-color":a.background,"--chat-message-bg-color-me":a.backgroundMe,"--chat-message-color-started":a.colorStarted,"--chat-message-bg-color-deleted":a.backgroundDeleted,"--chat-message-bg-color-selected":a.backgroundSelected,"--chat-message-color-deleted":a.colorDeleted,"--chat-message-color-username":a.colorUsername,"--chat-message-color-timestamp":a.colorTimestamp,"--chat-message-bg-color-date":a.backgroundDate,"--chat-message-color-date":a.colorDate,"--chat-message-bg-color-system":a.backgroundSystem,"--chat-message-color-system":a.colorSystem,"--chat-message-color":a.color,"--chat-message-bg-color-media":a.backgroundMedia,"--chat-message-bg-color-reply":a.backgroundReply,"--chat-message-color-reply-username":a.colorReplyUsername,"--chat-message-color-reply-content":a.colorReply,"--chat-message-color-tag":a.colorTag,"--chat-message-bg-color-image":a.backgroundImage,"--chat-message-color-new-messages":a.colorNewMessages,"--chat-message-bg-color-scroll-counter":a.backgroundScrollCounter,"--chat-message-color-scroll-counter":a.colorScrollCounter,"--chat-message-bg-color-reaction":a.backgroundReaction,"--chat-message-border-style-reaction":a.borderStyleReaction,"--chat-message-bg-color-reaction-hover":a.backgroundReactionHover,"--chat-message-border-style-reaction-hover":a.borderStyleReactionHover,"--chat-message-color-reaction-counter":a.colorReactionCounter,"--chat-message-bg-color-reaction-me":a.backgroundReactionMe,"--chat-message-border-style-reaction-me":a.borderStyleReactionMe,"--chat-message-bg-color-reaction-hover-me":a.backgroundReactionHoverMe,"--chat-message-border-style-reaction-hover-me":a.borderStyleReactionHoverMe,"--chat-message-color-reaction-counter-me":a.colorReactionCounterMe,"--chat-message-bg-color-audio-record":a.backgroundAudioRecord,"--chat-message-bg-color-audio-line":a.backgroundAudioLine,"--chat-message-bg-color-audio-progress":a.backgroundAudioProgress,"--chat-message-bg-color-audio-progress-selector":a.backgroundAudioProgressSelector,"--chat-message-color-file-extension":a.colorFileExtension,"--chat-markdown-bg":l.background,"--chat-markdown-border":l.border,"--chat-markdown-color":l.color,"--chat-markdown-color-multi":l.colorMulti,"--chat-room-color-username":c.colorUsername,"--chat-room-color-message":c.colorMessage,"--chat-room-color-timestamp":c.colorTimestamp,"--chat-room-color-online":c.colorStateOnline,"--chat-room-color-offline":c.colorStateOffline,"--chat-room-bg-color-badge":c.backgroundCounterBadge,"--chat-room-color-badge":c.colorCounterBadge,"--chat-emoji-bg-color":u.background,"--chat-icon-color-search":h.search,"--chat-icon-color-add":h.add,"--chat-icon-color-toggle":h.toggle,"--chat-icon-color-menu":h.menu,"--chat-icon-color-close":h.close,"--chat-icon-color-close-image":h.closeImage,"--chat-icon-color-file":h.file,"--chat-icon-color-paperclip":h.paperclip,"--chat-icon-color-close-outline":h.closeOutline,"--chat-icon-color-close-preview":h.closePreview,"--chat-icon-color-send":h.send,"--chat-icon-color-send-disabled":h.sendDisabled,"--chat-icon-color-emoji":h.emoji,"--chat-icon-color-emoji-reaction":h.emojiReaction,"--chat-icon-color-document":h.document,"--chat-icon-color-pencil":h.pencil,"--chat-icon-color-checkmark":h.checkmark,"--chat-icon-color-checkmark-seen":h.checkmarkSeen,"--chat-icon-color-eye":h.eye,"--chat-icon-color-dropdown-message":h.dropdownMessage,"--chat-icon-bg-dropdown-message":h.dropdownMessageBackground,"--chat-icon-color-dropdown-room":h.dropdownRoom,"--chat-icon-color-dropdown-scroll":h.dropdownScroll,"--chat-icon-color-microphone":h.microphone,"--chat-icon-color-audio-play":h.audioPlay,"--chat-icon-color-audio-pause":h.audioPause,"--chat-icon-color-audio-cancel":h.audioCancel,"--chat-icon-color-audio-confirm":h.audioConfirm}))(t)},orderedRooms(){return this.roomsCasted.slice().sort(((e,t)=>{const n=e.index||0,r=t.index||0;return"asc"===this.roomsOrder?n<r?-1:r<n?1:0:n>r?-1:r>n?1:0}))},singleRoomCasted(){return this.castBoolean(this.singleRoom)},roomsListOpenedCasted(){return this.castBoolean(this.roomsListOpened)},loadingRoomsCasted(){return this.castBoolean(this.loadingRooms)},roomsLoadedCasted(){return this.castBoolean(this.roomsLoaded)},loadFirstRoomCasted(){return this.castBoolean(this.loadFirstRoom)},messagesLoadedCasted(){return this.castBoolean(this.messagesLoaded)},showSearchCasted(){return this.castBoolean(this.showSearch)},showAddRoomCasted(){return this.castBoolean(this.showAddRoom)},showSendIconCasted(){return this.castBoolean(this.showSendIcon)},showFilesCasted(){return this.castBoolean(this.showFiles)},showAudioCasted(){return this.castBoolean(this.showAudio)},showEmojisCasted(){return this.castBoolean(this.showEmojis)},showReactionEmojisCasted(){return this.castBoolean(this.showReactionEmojis)},showNewMessagesDividerCasted(){return this.castBoolean(this.showNewMessagesDivider)},showFooterCasted(){return this.castBoolean(this.showFooter)},roomInfoEnabledCasted(){return this.castBoolean(this.roomInfoEnabled)},textareaActionEnabledCasted(){return this.castBoolean(this.textareaActionEnabled)},textareaAutoFocusCasted(){return this.castBoolean(this.textareaAutoFocus)},userTagsEnabledCasted(){return this.castBoolean(this.userTagsEnabled)},emojisSuggestionEnabledCasted(){return this.castBoolean(this.emojisSuggestionEnabled)},mediaPreviewEnabledCasted(){return this.castBoolean(this.mediaPreviewEnabled)},roomsCasted(){return this.castArray(this.rooms)},messagesCasted(){return this.castArray(this.messages)},roomActionsCasted(){return this.castArray(this.roomActions)},menuActionsCasted(){return this.castArray(this.menuActions)},messageActionsCasted(){return this.castArray(this.messageActions)},messageSelectionActionsCasted(){return this.castArray(this.messageSelectionActions)},templatesTextCasted(){return this.castArray(this.templatesText)},stylesCasted(){return this.castObject(this.styles)},textMessagesCasted(){return this.castObject(this.textMessages)},autoScrollCasted(){return this.castObject(this.autoScroll)},textFormattingCasted(){return this.castObject(this.textFormatting)},linkOptionsCasted(){return this.castObject(this.linkOptions)},usernameOptionsCasted(){return this.castObject(this.usernameOptions)}},watch:{roomsCasted:{immediate:!0,deep:!0,handler(e,t){if(e[0]&&e.find((e=>e.roomId===this.room.roomId))||(this.showRoomsList=!0),!this.loadingMoreRooms&&this.loadFirstRoomCasted&&e[0]&&(!t||e.length!==t.length))if(this.roomId){const t=e.find((e=>e.roomId===this.roomId))||{};this.fetchRoom({room:t})}else!this.isMobile||this.singleRoomCasted?this.fetchRoom({room:this.orderedRooms[0]}):this.showRoomsList=!0}},loadingRoomsCasted(e){e&&(this.room={})},roomId:{immediate:!0,handler(e,t){if(e&&!this.loadingRoomsCasted&&this.roomsCasted.length){const t=this.roomsCasted.find((t=>t.roomId===e));this.fetchRoom({room:t})}else t&&!e&&(this.room={})}},room(e){e&&0!==Object.entries(e).length&&(!function(e){if(t=e,![{key:"roomId",type:["string","number"]},{key:"roomName",type:["string"]},{key:"users",type:["array"]}].every((e=>{let n=!1;return("array"===e.type[0]&&Array.isArray(t[e.key])||e.type.find((n=>n===typeof t[e.key])))&&(n=!0),n&&mG(t,e.key)})))throw new Error("Rooms object is not valid! Must contain at least roomId[String, Number], roomName[String] and users[Array]");var t}(e),e.users.forEach((e=>{!function(e){if(t=e,![{key:"_id",type:["string","number"]},{key:"username",type:["string"]}].every((e=>{const n=e.type.find((n=>n===typeof t[e.key]));return n&&mG(t,e.key)})))throw new Error("Participants object is not valid! Must contain at least _id[String, Number] and username[String]");var t}(e)})))},roomsListOpenedCasted:{immediate:!0,handler(e){this.showRoomsList=e}}},created(){this.updateResponsive(),window.addEventListener("resize",(e=>{e.isTrusted&&this.updateResponsive()}))},updated(){const e=document.querySelectorAll("[slot]");this.slots.length!==e.length&&(this.slots=e)},methods:{castBoolean:e=>"true"===e||!0===e,castArray:e=>e?Array.isArray(e)?e:JSON.parse(e):[],castObject:e=>e?"object"==typeof e?e:JSON.parse(e):{},updateResponsive(){this.isMobile=window.innerWidth<Number(this.responsiveBreakpoint)},toggleRoomsList(){this.showRoomsList=!this.showRoomsList,this.isMobile&&(this.room={}),this.$emit("toggle-rooms-list",{opened:this.showRoomsList})},fetchRoom({room:e}){this.room=e,this.fetchMessages({reset:!0}),this.isMobile&&(this.showRoomsList=!1)},fetchMoreRooms(){this.$emit("fetch-more-rooms")},roomInfo(){this.$emit("room-info",this.room)},addRoom(){this.$emit("add-room")},searchRoom(e){this.$emit("search-room",{value:e,roomId:this.room.roomId})},fetchMessages(e){this.$emit("fetch-messages",{room:this.room,options:e})},sendMessage(e){this.$emit("send-message",{...e,roomId:this.room.roomId})},editMessage(e){this.$emit("edit-message",{...e,roomId:this.room.roomId})},deleteMessage(e){this.$emit("delete-message",{message:e,roomId:this.room.roomId})},openFile({message:e,file:t}){this.mediaPreviewEnabledCasted&&"preview"===t.action?(this.previewFile=t.file,this.showMediaPreview=!0):this.$emit("open-file",{message:e,file:t})},openUserTag({user:e}){this.$emit("open-user-tag",{user:e})},openFailedMessage({message:e}){this.$emit("open-failed-message",{message:e,roomId:this.room.roomId})},menuActionHandler(e){this.$emit("menu-action-handler",{action:e,roomId:this.room.roomId})},roomActionHandler({action:e,roomId:t}){this.$emit("room-action-handler",{action:e,roomId:t})},messageActionHandler(e){this.$emit("message-action-handler",{...e,roomId:this.room.roomId})},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{...e,roomId:this.room.roomId})},sendMessageReaction(e){this.$emit("send-message-reaction",{...e,roomId:this.room.roomId})},typingMessage(e){this.$emit("typing-message",{message:e,roomId:this.room.roomId})},textareaActionHandler(e){this.$emit("textarea-action-handler",{message:e,roomId:this.room.roomId})}}},GG={class:"vac-chat-container"};var WG=rP(qG,[["render",function(e,t,n,r,s,o){const i=aO("rooms-list"),a=aO("room"),l=aO("media-preview");return iL(),uL("div",{class:"vac-card-window",style:ZI([{height:n.height},o.cssVars])},[vL("div",GG,[o.singleRoomCasted?xL("",!0):(iL(),hL(i,{key:0,"current-user-id":n.currentUserId,rooms:o.orderedRooms,"loading-rooms":o.loadingRoomsCasted,"rooms-loaded":o.roomsLoadedCasted,room:s.room,"room-actions":o.roomActionsCasted,"custom-search-room-enabled":n.customSearchRoomEnabled,"text-messages":o.t,"show-search":o.showSearchCasted,"show-add-room":o.showAddRoomCasted,"show-rooms-list":s.showRoomsList&&o.roomsListOpenedCasted,"text-formatting":o.textFormattingCasted,"link-options":o.linkOptionsCasted,"is-mobile":s.isMobile,"scroll-distance":n.scrollDistance,onFetchRoom:o.fetchRoom,onFetchMoreRooms:o.fetchMoreRooms,onLoadingMoreRooms:t[0]||(t[0]=e=>s.loadingMoreRooms=e),onAddRoom:o.addRoom,onSearchRoom:o.searchRoom,onRoomActionHandler:o.roomActionHandler},fO({_:2},[pO(s.slots,(t=>({name:t.slot,fn:vM((n=>[mO(e.$slots,t.slot,rR(yL(n)))]))})))]),1032,["current-user-id","rooms","loading-rooms","rooms-loaded","room","room-actions","custom-search-room-enabled","text-messages","show-search","show-add-room","show-rooms-list","text-formatting","link-options","is-mobile","scroll-distance","onFetchRoom","onFetchMoreRooms","onAddRoom","onSearchRoom","onRoomActionHandler"])),_L(a,{"current-user-id":n.currentUserId,rooms:o.roomsCasted,"room-id":s.room.roomId||"","load-first-room":o.loadFirstRoomCasted,messages:o.messagesCasted,"room-message":n.roomMessage,"messages-loaded":o.messagesLoadedCasted,"menu-actions":o.menuActionsCasted,"message-actions":o.messageActionsCasted,"message-selection-actions":o.messageSelectionActionsCasted,"auto-scroll":o.autoScrollCasted,"show-send-icon":o.showSendIconCasted,"show-files":o.showFilesCasted,"show-audio":o.showAudioCasted,"audio-bit-rate":n.audioBitRate,"audio-sample-rate":n.audioSampleRate,"show-emojis":o.showEmojisCasted,"show-reaction-emojis":o.showReactionEmojisCasted,"show-new-messages-divider":o.showNewMessagesDividerCasted,"show-footer":o.showFooterCasted,"text-messages":o.t,"single-room":o.singleRoomCasted,"show-rooms-list":s.showRoomsList&&o.roomsListOpenedCasted,"text-formatting":o.textFormattingCasted,"link-options":o.linkOptionsCasted,"is-mobile":s.isMobile,"loading-rooms":o.loadingRoomsCasted,"room-info-enabled":o.roomInfoEnabledCasted,"textarea-action-enabled":o.textareaActionEnabledCasted,"textarea-auto-focus":o.textareaAutoFocusCasted,"user-tags-enabled":o.userTagsEnabledCasted,"emojis-suggestion-enabled":o.emojisSuggestionEnabledCasted,"scroll-distance":n.scrollDistance,"accepted-files":n.acceptedFiles,"templates-text":o.templatesTextCasted,"username-options":o.usernameOptionsCasted,"emoji-data-source":n.emojiDataSource,onToggleRoomsList:o.toggleRoomsList,onRoomInfo:o.roomInfo,onFetchMessages:o.fetchMessages,onSendMessage:o.sendMessage,onEditMessage:o.editMessage,onDeleteMessage:o.deleteMessage,onOpenFile:o.openFile,onOpenUserTag:o.openUserTag,onOpenFailedMessage:o.openFailedMessage,onMenuActionHandler:o.menuActionHandler,onMessageActionHandler:o.messageActionHandler,onMessageSelectionActionHandler:o.messageSelectionActionHandler,onSendMessageReaction:o.sendMessageReaction,onTypingMessage:o.typingMessage,onTextareaActionHandler:o.textareaActionHandler},fO({_:2},[pO(s.slots,(t=>({name:t.slot,fn:vM((n=>[mO(e.$slots,t.slot,rR(yL(n)))]))})))]),1032,["current-user-id","rooms","room-id","load-first-room","messages","room-message","messages-loaded","menu-actions","message-actions","message-selection-actions","auto-scroll","show-send-icon","show-files","show-audio","audio-bit-rate","audio-sample-rate","show-emojis","show-reaction-emojis","show-new-messages-divider","show-footer","text-messages","single-room","show-rooms-list","text-formatting","link-options","is-mobile","loading-rooms","room-info-enabled","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","scroll-distance","accepted-files","templates-text","username-options","emoji-data-source","onToggleRoomsList","onRoomInfo","onFetchMessages","onSendMessage","onEditMessage","onDeleteMessage","onOpenFile","onOpenUserTag","onOpenFailedMessage","onMenuActionHandler","onMessageActionHandler","onMessageSelectionActionHandler","onSendMessageReaction","onTypingMessage","onTextareaActionHandler"])]),_L(EN,{name:"vac-fade-preview",appear:""},{default:vM((()=>[s.showMediaPreview?(iL(),hL(l,{key:0,file:s.previewFile,onCloseMediaPreview:t[1]||(t[1]=e=>s.showMediaPreview=!1)},fO({_:2},[pO(s.slots,(t=>({name:t.slot,fn:vM((n=>[mO(e.$slots,t.slot,rR(yL(n)))]))})))]),1032,["file"])):xL("",!0)])),_:3})],4)}],["styles",['.vac-fade-spinner-enter-from{opacity:0}.vac-fade-spinner-enter-active{transition:opacity .8s}.vac-fade-spinner-leave-active{transition:opacity .2s;opacity:0}.vac-fade-image-enter-from{opacity:0}.vac-fade-image-enter-active{transition:opacity 1s}.vac-fade-image-leave-active{transition:opacity .5s;opacity:0}.vac-fade-message-enter-from{opacity:0}.vac-fade-message-enter-active{transition:opacity .5s}.vac-fade-message-leave-active{transition:opacity .2s;opacity:0}.vac-slide-left-enter-active,.vac-slide-right-enter-active{transition:all .3s ease;transition-property:transform,opacity}.vac-slide-left-leave-active,.vac-slide-right-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)!important;transition-property:transform,opacity}.vac-slide-left-enter-from,.vac-slide-left-leave-to{transform:translate(10px);opacity:0}.vac-slide-right-enter-from,.vac-slide-right-leave-to{transform:translate(-10px);opacity:0}.vac-slide-up-enter-active{transition:all .3s ease}.vac-slide-up-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)}.vac-slide-up-enter-from,.vac-slide-up-leave-to{transform:translateY(10px);opacity:0}.vac-bounce-enter-active{animation:vac-bounce-in .5s}.vac-bounce-leave-active{animation:vac-bounce-in .3s reverse}@keyframes vac-bounce-in{0%{transform:scale(0)}50%{transform:scale(1.05)}to{transform:scale(1)}}.vac-fade-preview-enter{opacity:0}.vac-fade-preview-enter-active{transition:opacity .1s}.vac-fade-preview-leave-active{transition:opacity .2s;opacity:0}.vac-bounce-preview-enter-active{animation:vac-bounce-image-in .4s}.vac-bounce-preview-leave-active{animation:vac-bounce-image-in .3s reverse}@keyframes vac-bounce-image-in{0%{transform:scale(.6)}to{transform:scale(1)}}.vac-menu-list{border-radius:4px;display:block;cursor:pointer;background:var(--chat-dropdown-bg-color);padding:6px 0}.vac-menu-list :hover{background:var(--chat-dropdown-bg-color-hover);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-list :not(:hover){transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-height:30px;padding:5px 16px;position:relative;white-space:nowrap;line-height:30px}.vac-menu-options{position:absolute;right:10px;top:20px;z-index:9999;min-width:150px;display:inline-block;border-radius:4px;font-size:14px;color:var(--chat-color);overflow-y:auto;overflow-x:hidden;contain:content;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-app-border{border:var(--chat-border-style)}.vac-app-border-t{border-top:var(--chat-border-style)}.vac-app-border-r{border-right:var(--chat-border-style)}.vac-app-border-b{border-bottom:var(--chat-border-style)}.vac-app-box-shadow{transition:all .5s;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-item-clickable{cursor:pointer}.vac-vertical-center{display:flex;align-items:center;height:100%}.vac-vertical-center .vac-vertical-container{width:100%;text-align:center}.vac-svg-button{max-height:30px;display:flex;cursor:pointer;transition:all .2s}.vac-svg-button:hover{transform:scale(1.1);opacity:.7}.vac-avatar{background-size:cover;background-position:center center;background-repeat:no-repeat;background-color:#ddd;height:42px;width:42px;min-height:42px;min-width:42px;margin-right:15px;border-radius:50%}.vac-blur-loading{filter:blur(3px)}.vac-badge-counter{height:13px;width:auto;min-width:13px;border-radius:50%;display:flex;align-items:center;justify-content:center;padding:3px;font-size:11px;font-weight:500}.vac-text-ellipsis{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-text-bold{font-weight:700}.vac-text-italic{font-style:italic}.vac-text-strike{text-decoration:line-through}.vac-text-underline{text-decoration:underline}.vac-text-inline-code{display:inline-block;font-size:12px;color:var(--chat-markdown-color);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:2px 0;padding:2px 3px}.vac-text-multiline-code{display:block;font-size:12px;color:var(--chat-markdown-color-multi);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:4px 0;padding:7px}.vac-text-tag{color:var(--chat-message-color-tag);cursor:pointer}.vac-file-container{display:flex;align-content:center;justify-content:center;flex-wrap:wrap;text-align:center;background:var(--chat-bg-color-input);border:var(--chat-border-style-input);border-radius:4px;padding:10px}.vac-file-container svg{height:28px;width:28px}.vac-file-container .vac-text-extension{font-size:12px;color:var(--chat-message-color-file-extension);margin-top:-2px}.vac-card-window{width:100%;display:block;max-width:100%;background:var(--chat-content-bg-color);color:var(--chat-color);overflow-wrap:break-word;white-space:normal;border:var(--chat-container-border);border-radius:var(--chat-container-border-radius);box-shadow:var(--chat-container-box-shadow);-webkit-tap-highlight-color:transparent}.vac-card-window *{font-family:inherit}.vac-card-window a{color:#0d579c;font-weight:500}.vac-card-window .vac-chat-container{height:100%;display:flex}.vac-card-window .vac-chat-container input{min-width:10px}.vac-card-window .vac-chat-container textarea,.vac-card-window .vac-chat-container input[type=text],.vac-card-window .vac-chat-container input[type=search]{-webkit-appearance:none}.vac-media-preview{position:fixed;top:0;left:0;z-index:99;width:100vw;height:100vh;display:flex;align-items:center;background-color:#000c;outline:none}.vac-media-preview .vac-media-preview-container{height:calc(100% - 140px);width:calc(100% - 80px);padding:70px 40px;margin:0 auto}.vac-media-preview .vac-image-preview{width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center}.vac-media-preview video{width:100%;height:100%}.vac-media-preview .vac-svg-button{position:absolute;top:30px;right:30px;transform:scale(1.4)}@media only screen and (max-width: 768px){.vac-media-preview .vac-svg-button{top:20px;right:20px;transform:scale(1.2)}.vac-media-preview .vac-media-preview-container{width:calc(100% - 40px);padding:70px 20px}}.vac-col-messages{position:relative;height:100%;flex:1;overflow:hidden;display:flex;flex-flow:column}.vac-col-messages .vac-container-center{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.vac-col-messages .vac-room-empty{font-size:14px;color:#9ca6af;font-style:italic;line-height:20px;white-space:pre-line}.vac-col-messages .vac-room-empty div{padding:0 10%}.vac-col-messages .vac-container-scroll{background:var(--chat-content-bg-color);flex:1;overflow-y:auto;margin-right:1px;margin-top:65px;-webkit-overflow-scrolling:touch}.vac-col-messages .vac-container-scroll.vac-scroll-smooth{scroll-behavior:smooth}.vac-col-messages .vac-messages-container{padding:0 5px 5px}.vac-col-messages .vac-text-started{font-size:14px;color:var(--chat-message-color-started);font-style:italic;text-align:center;margin-top:25px;margin-bottom:20px}.vac-col-messages .vac-icon-scroll{position:absolute;bottom:80px;right:20px;padding:8px;background:var(--chat-bg-scroll-icon);border-radius:50%;box-shadow:0 1px 1px -1px #0003,0 1px 1px #00000024,0 1px 2px #0000001f;display:flex;cursor:pointer;z-index:10}.vac-col-messages .vac-icon-scroll svg{height:25px;width:25px}.vac-col-messages .vac-messages-count{position:absolute;top:-8px;left:11px;background-color:var(--chat-message-bg-color-scroll-counter);color:var(--chat-message-color-scroll-counter)}.vac-col-messages .vac-messages-hidden{opacity:0}@media only screen and (max-width: 768px){.vac-col-messages .vac-container-scroll{margin-top:50px}.vac-col-messages .vac-text-started{margin-top:20px}.vac-col-messages .vac-icon-scroll{bottom:70px}}.vac-room-header{position:absolute;display:flex;align-items:center;height:64px;width:100%;z-index:10;margin-right:1px;background:var(--chat-header-bg-color);border-top-right-radius:var(--chat-container-border-radius)}.vac-room-header .vac-room-wrapper{display:flex;align-items:center;min-width:0;height:100%;width:100%;padding:0 16px}.vac-room-header .vac-toggle-button{margin-right:15px}.vac-room-header .vac-toggle-button svg{height:26px;width:26px}.vac-room-header .vac-rotate-icon{transform:rotate(180deg)!important}.vac-room-header .vac-rotate-icon-init{transform:rotate(360deg)}.vac-room-header .vac-info-wrapper,.vac-room-header .vac-room-selection{display:flex;align-items:center;min-width:0;width:100%;height:100%}.vac-room-header .vac-room-selection .vac-selection-button{padding:8px 16px;color:var(--chat-color-button);background-color:var(--chat-bg-color-button);border-radius:4px;margin-right:10px;cursor:pointer;transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-button:hover{opacity:.7}.vac-room-header .vac-room-selection .vac-selection-button:active{opacity:.9}.vac-room-header .vac-room-selection .vac-selection-button .vac-selection-button-count{margin-left:6px;opacity:.9}.vac-room-header .vac-room-selection .vac-selection-cancel{display:flex;align-items:center;margin-left:auto;white-space:nowrap;color:var(--chat-color-button-clear);transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-cancel:hover{opacity:.7}.vac-room-header .vac-room-name{font-size:17px;font-weight:500;line-height:22px;color:var(--chat-header-color-name)}.vac-room-header .vac-room-info{font-size:13px;line-height:18px;color:var(--chat-header-color-info)}.vac-room-header .vac-room-options{margin-left:auto}@media only screen and (max-width: 768px){.vac-room-header{height:50px}.vac-room-header .vac-room-wrapper{padding:0 10px}.vac-room-header .vac-room-name{font-size:16px;line-height:22px}.vac-room-header .vac-room-info{font-size:12px;line-height:16px}.vac-room-header .vac-avatar{height:37px;width:37px;min-height:37px;min-width:37px}}.vac-room-footer{width:100%;border-bottom-right-radius:4px;z-index:10}.vac-box-footer{display:flex;position:relative;background:var(--chat-footer-bg-color);padding:10px 8px}.vac-textarea{max-height:300px;overflow-y:auto;height:20px;width:100%;line-height:20px;outline:0;resize:none;border-radius:20px;padding:12px 16px;box-sizing:content-box;font-size:16px;background:var(--chat-bg-color-input);color:var(--chat-color);caret-color:var(--chat-color-caret);border:var(--chat-border-style-input)}.vac-textarea::placeholder{color:var(--chat-color-placeholder);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-textarea-outline{border:1px solid var(--chat-border-color-input-selected);box-shadow:inset 0 0 0 1px var(--chat-border-color-input-selected)}.vac-icon-textarea,.vac-icon-textarea-left{display:flex;align-items:center}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea{margin-left:5px}.vac-icon-textarea-left{display:flex;align-items:center;margin-right:5px}.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea-left .vac-icon-microphone{fill:var(--chat-icon-color-microphone);margin:0 7px}.vac-icon-textarea-left .vac-dot-audio-record{height:15px;width:15px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-record);animation:vac-scaling .8s ease-in-out infinite alternate}@keyframes vac-scaling{0%{transform:scale(1);opacity:.4}to{transform:scale(1.1);opacity:1}}.vac-icon-textarea-left .vac-dot-audio-record-time{font-size:16px;color:var(--chat-color);margin-left:8px;width:45px}.vac-icon-textarea-left .vac-icon-audio-stop,.vac-icon-textarea-left .vac-icon-audio-confirm{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop svg,.vac-icon-textarea-left .vac-icon-audio-confirm svg{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop{margin-right:20px}.vac-icon-textarea-left .vac-icon-audio-stop #vac-icon-close-outline{fill:var(--chat-icon-color-audio-cancel)}.vac-icon-textarea-left .vac-icon-audio-confirm{margin-right:3px;margin-left:12px}.vac-icon-textarea-left .vac-icon-audio-confirm #vac-icon-checkmark{fill:var(--chat-icon-color-audio-confirm)}.vac-send-disabled,.vac-send-disabled svg{cursor:none!important;pointer-events:none!important;transform:none!important}@media only screen and (max-width: 768px){.vac-room-footer{width:100%}.vac-box-footer{padding:7px 2px 7px 7px}.vac-box-footer.vac-box-footer-border{border-top:var(--chat-border-style-input)}.vac-textarea{padding:7px;line-height:18px}.vac-textarea::placeholder{color:transparent}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 5px!important}}@media only screen and (max-height: 768px){.vac-textarea{max-height:120px}}.vac-emojis-container{width:calc(100% - 16px);padding:10px 8px;background:var(--chat-footer-bg-color);display:flex;align-items:center;overflow:auto}.vac-emojis-container .vac-emoji-element{padding:0 8px;font-size:30px;border-radius:4px;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-emojis-container .vac-emoji-element-active{background:var(--chat-footer-bg-color-tag-active)}@media only screen and (max-width: 768px){.vac-emojis-container{width:calc(100% - 10px);padding:7px 5px}.vac-emojis-container .vac-emoji-element{padding:0 7px;font-size:26px}}.vac-reply-container{display:flex;padding:10px 10px 0;background:var(--chat-footer-bg-color);align-items:center;width:calc(100% - 20px)}.vac-reply-container .vac-reply-box{width:100%;overflow:hidden;background:var(--chat-footer-bg-color-reply);border-radius:4px;padding:8px 10px}.vac-reply-container .vac-reply-info{overflow:hidden}.vac-reply-container .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-container .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content);white-space:pre-line}.vac-reply-container .vac-icon-reply{margin-left:10px}.vac-reply-container .vac-icon-reply svg{height:20px;width:20px}.vac-reply-container .vac-image-reply{max-height:100px;max-width:200px;margin:4px 10px 0 0;border-radius:4px}.vac-reply-container .vac-audio-reply{margin-right:10px}.vac-reply-container .vac-file-container{max-width:80px}@media only screen and (max-width: 768px){.vac-reply-container{padding:5px 8px;width:calc(100% - 16px)}}.vac-room-files-container{display:flex;align-items:center;padding:10px 6px 0;background:var(--chat-footer-bg-color)}.vac-room-files-container .vac-files-box{display:flex;overflow:auto;width:calc(100% - 30px)}.vac-room-files-container video{height:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-files-container .vac-icon-close{margin-left:auto}.vac-room-files-container .vac-icon-close svg{height:20px;width:20px}@media only screen and (max-width: 768px){.vac-files-container{padding:6px 4px 4px 2px}}.vac-room-file-container{display:flex;position:relative;margin:0 4px}.vac-room-file-container .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:100px;width:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-file-container .vac-file-container{height:80px;width:80px}.vac-room-file-container .vac-icon-remove{position:absolute;top:6px;left:6px;z-index:10}.vac-room-file-container .vac-icon-remove svg{height:20px;width:20px;border-radius:50%}.vac-room-file-container .vac-icon-remove:before{content:" ";position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5);border-radius:50%;z-index:-1}.vac-tags-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-tags-container .vac-tags-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-tags-container .vac-tags-box-active{background:var(--chat-footer-bg-color-tag-active)}.vac-tags-container .vac-tags-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-tags-container .vac-tags-avatar{height:34px;width:34px;min-height:34px;min-width:34px}.vac-tags-container .vac-tags-username{font-size:14px}@media only screen and (max-width: 768px){.vac-tags-container .vac-tags-box{height:50px}.vac-tags-container .vac-tags-info{padding:0 12px}}.vac-template-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-template-container .vac-template-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-template-container .vac-template-active{background:var(--chat-footer-bg-color-tag-active)}.vac-template-container .vac-template-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-template-container .vac-template-tag{font-size:14px;font-weight:700;margin-right:10px}.vac-template-container .vac-template-text{font-size:14px}@media only screen and (max-width: 768px){.vac-template-container .vac-template-box{height:50px}.vac-template-container .vac-template-info{padding:0 12px}}.vac-rooms-container{display:flex;flex-flow:column;flex:0 0 25%;min-width:260px;max-width:500px;position:relative;background:var(--chat-sidemenu-bg-color);height:100%;border-top-left-radius:var(--chat-container-border-radius);border-bottom-left-radius:var(--chat-container-border-radius)}.vac-rooms-container.vac-rooms-container-full{flex:0 0 100%;max-width:100%}.vac-rooms-container .vac-rooms-empty{font-size:14px;color:#9ca6af;font-style:italic;text-align:center;margin:40px 0;line-height:20px;white-space:pre-line}.vac-rooms-container .vac-room-list{flex:1;position:relative;max-width:100%;cursor:pointer;padding:0 10px 5px;overflow-y:auto}.vac-rooms-container .vac-room-item{border-radius:8px;align-items:center;display:flex;flex:1 1 100%;margin-bottom:5px;padding:0 14px;position:relative;min-height:71px;transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-rooms-container .vac-room-item:hover{background:var(--chat-sidemenu-bg-color-hover)}.vac-rooms-container .vac-room-selected{color:var(--chat-sidemenu-color-active)!important;background:var(--chat-sidemenu-bg-color-active)!important}.vac-rooms-container .vac-room-selected:hover{background:var(--chat-sidemenu-bg-color-active)!important}@media only screen and (max-width: 768px){.vac-rooms-container .vac-room-list{padding:0 7px 5px}.vac-rooms-container .vac-room-item{min-height:60px;padding:0 8px}}.vac-room-container{display:flex;flex:1;align-items:center;width:100%}.vac-room-container .vac-name-container{flex:1}.vac-room-container .vac-title-container{display:flex;align-items:center;line-height:25px}.vac-room-container .vac-state-circle{width:9px;height:9px;border-radius:50%;background-color:var(--chat-room-color-offline);margin-right:6px;transition:.3s}.vac-room-container .vac-state-online{background-color:var(--chat-room-color-online)}.vac-room-container .vac-room-name{flex:1;color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-text-date{margin-left:5px;font-size:11px;color:var(--chat-room-color-timestamp)}.vac-room-container .vac-text-last{display:flex;align-items:center;font-size:12px;line-height:19px;color:var(--chat-room-color-message)}.vac-room-container .vac-message-new{color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-icon-check{display:flex;vertical-align:middle;height:14px;width:14px;margin-top:-2px;margin-right:2px}.vac-room-container .vac-icon-microphone{height:15px;width:15px;vertical-align:middle;margin:-3px 1px 0 -2px;fill:var(--chat-room-color-message)}.vac-room-container .vac-room-options-container{display:flex;margin-left:auto}.vac-room-container .vac-room-badge{background-color:var(--chat-room-bg-color-badge);color:var(--chat-room-color-badge);margin-left:5px}.vac-room-container .vac-list-room-options{height:19px;width:19px;align-items:center;margin-left:5px}.vac-box-empty{margin-top:10px}@media only screen and (max-width: 768px){.vac-box-empty{margin-top:7px}}.vac-box-search{position:sticky;display:flex;align-items:center;height:64px;padding:0 15px}.vac-box-search .vac-icon-search{display:flex;position:absolute;left:30px}.vac-box-search .vac-icon-search svg{width:18px;height:18px}.vac-box-search .vac-input{height:38px;width:100%;background:var(--chat-bg-color-input);color:var(--chat-color);font-size:15px;outline:0;caret-color:var(--chat-color-caret);padding:10px 10px 10px 40px;border:1px solid var(--chat-sidemenu-border-color-search);border-radius:20px}.vac-box-search .vac-input::placeholder{color:var(--chat-color-placeholder)}.vac-box-search .vac-add-icon{margin-left:auto;padding-left:10px}@media only screen and (max-width: 768px){.vac-box-search{height:58px}}.vac-message-wrapper .vac-card-info{border-radius:4px;text-align:center;margin:10px auto;font-size:12px;padding:4px;display:block;overflow-wrap:break-word;position:relative;white-space:normal;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-card-date{max-width:150px;font-weight:500;text-transform:uppercase;color:var(--chat-message-color-date);background-color:var(--chat-message-bg-color-date)}.vac-message-wrapper .vac-card-system{max-width:250px;padding:8px 4px;color:var(--chat-message-color-system);background-color:var(--chat-message-bg-color-system)}.vac-message-wrapper .vac-line-new{color:var(--chat-message-color-new-messages);position:relative;text-align:center;font-size:13px;padding:10px 0}.vac-message-wrapper .vac-line-new:after,.vac-message-wrapper .vac-line-new:before{border-top:1px solid var(--chat-message-color-new-messages);content:"";left:0;position:absolute;top:50%;width:calc(50% - 60px)}.vac-message-wrapper .vac-line-new:before{left:auto;right:0}.vac-message-wrapper .vac-message-box{display:flex;flex:0 0 50%;max-width:50%;justify-content:flex-start;line-height:1.4}.vac-message-wrapper .vac-avatar{height:28px;width:28px;min-height:28px;min-width:28px;margin:0 0 2px;align-self:flex-end}.vac-message-wrapper .vac-avatar-current-offset{margin-right:28px}.vac-message-wrapper .vac-avatar-offset{margin-left:28px}.vac-message-wrapper .vac-failure-container{position:relative;align-self:flex-end;height:20px;width:20px;margin:0 0 2px -4px;border-radius:50%;background-color:#f44336}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:6px}.vac-message-wrapper .vac-failure-container .vac-failure-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:15px;font-weight:700}.vac-message-wrapper .vac-message-container{position:relative;padding:2px 10px;align-items:end;min-width:100px;box-sizing:content-box}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-offset-current{margin-left:50%;justify-content:flex-end}.vac-message-wrapper .vac-message-card{background-color:var(--chat-message-bg-color);color:var(--chat-message-color);border-radius:8px;font-size:14px;padding:6px 9px 3px;white-space:pre-line;max-width:100%;-webkit-transition-property:box-shadow,opacity;transition-property:box-shadow,opacity;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);will-change:box-shadow;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-message-highlight{box-shadow:0 1px 2px -1px #0000001a,0 1px 2px -1px #0000001c,0 1px 5px -1px #0000001c}.vac-message-wrapper .vac-message-current{background-color:var(--chat-message-bg-color-me)!important}.vac-message-wrapper .vac-message-deleted{color:var(--chat-message-color-deleted)!important;font-size:13px!important;font-style:italic!important;background-color:var(--chat-message-bg-color-deleted)!important}.vac-message-wrapper .vac-message-selected{background-color:var(--chat-message-bg-color-selected)!important;transition:background-color .2s}.vac-message-wrapper .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:250px;width:250px;max-width:100%;border-radius:4px;margin:4px auto 5px;transition:.4s filter linear}.vac-message-wrapper .vac-text-username{font-size:13px;color:var(--chat-message-color-username);margin-bottom:2px}.vac-message-wrapper .vac-username-reply{margin-bottom:5px}.vac-message-wrapper .vac-text-timestamp{font-size:10px;color:var(--chat-message-color-timestamp);text-align:right}.vac-message-wrapper .vac-progress-time{float:left;margin:-2px 0 0 40px;color:var(--chat-color);font-size:12px}.vac-message-wrapper .vac-icon-edited{-webkit-box-align:center;align-items:center;display:-webkit-inline-box;display:inline-flex;justify-content:center;letter-spacing:normal;line-height:1;text-indent:0;vertical-align:middle;margin:0 4px 2px}.vac-message-wrapper .vac-icon-edited svg{height:12px;width:12px}.vac-message-wrapper .vac-icon-check{height:14px;width:14px;vertical-align:middle;margin:-3px -3px 0 3px}@media only screen and (max-width: 768px){.vac-message-wrapper .vac-message-container{padding:2px 3px 1px}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-message-box{flex:0 0 80%;max-width:80%}.vac-message-wrapper .vac-avatar{height:25px;width:25px;min-height:25px;min-width:25px;margin:0 6px 1px 0}.vac-message-wrapper .vac-avatar.vac-avatar-current{margin:0 0 1px 6px}.vac-message-wrapper .vac-avatar-current-offset{margin-right:31px}.vac-message-wrapper .vac-avatar-offset{margin-left:31px}.vac-message-wrapper .vac-failure-container{margin-left:2px}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:0}.vac-message-wrapper .vac-offset-current{margin-left:20%}.vac-message-wrapper .vac-progress-time{margin-left:37px}}.vac-audio-player{display:flex;margin:8px 0 5px}.vac-audio-player .vac-svg-button{max-width:18px;margin-left:7px}@media only screen and (max-width: 768px){.vac-audio-player{margin:4px 0 0}.vac-audio-player .vac-svg-button{max-width:16px;margin-left:5px}}.vac-player-bar{display:flex;align-items:center;max-width:calc(100% - 18px);margin-right:7px;margin-left:20px}.vac-player-bar .vac-player-progress{width:190px}.vac-player-bar .vac-player-progress .vac-line-container{position:relative;height:4px;border-radius:5px;background-color:var(--chat-message-bg-color-audio-line)}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-progress{position:absolute;height:inherit;background-color:var(--chat-message-bg-color-audio-progress);border-radius:inherit}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{position:absolute;top:-5px;margin-left:-7px;height:14px;width:14px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-progress-selector);transition:transform .25s}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot__active{transform:scale(1.2)}@media only screen and (max-width: 768px){.vac-player-bar{margin-right:5px}.vac-player-bar .vac-player-progress .vac-line-container{height:3px}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{height:12px;width:12px;top:-5px;margin-left:-5px}}.vac-message-actions-wrapper .vac-options-container{position:absolute;top:2px;right:10px;height:40px;width:70px;overflow:hidden;border-top-right-radius:8px}.vac-message-actions-wrapper .vac-blur-container{position:absolute;height:100%;width:100%;left:8px;bottom:10px;background:var(--chat-message-bg-color);filter:blur(3px);border-bottom-left-radius:8px}.vac-message-actions-wrapper .vac-options-me{background:var(--chat-message-bg-color-me)}.vac-message-actions-wrapper .vac-message-options{background:var(--chat-icon-bg-dropdown-message);border-radius:50%;position:absolute;top:7px;right:7px}.vac-message-actions-wrapper .vac-message-options svg{height:17px;width:17px;padding:5px;margin:-5px}.vac-message-actions-wrapper .vac-message-emojis{position:absolute;top:6px;right:30px}.vac-message-actions-wrapper .vac-menu-options{right:15px}.vac-message-actions-wrapper .vac-menu-left{right:-118px}@media only screen and (max-width: 768px){.vac-message-actions-wrapper .vac-options-container{right:3px}.vac-message-actions-wrapper .vac-menu-left{right:-50px}}.vac-message-files-container .vac-file-wrapper{position:relative;width:fit-content}.vac-message-files-container .vac-file-wrapper .vac-file-container{height:60px;width:60px;margin:3px 0 5px;cursor:pointer;transition:all .6s}.vac-message-files-container .vac-file-wrapper .vac-file-container:hover{opacity:.85}.vac-message-files-container .vac-file-wrapper .vac-file-container svg{height:30px;width:30px}.vac-message-files-container .vac-file-wrapper .vac-file-container.vac-file-container-progress{background-color:#0000004d}.vac-message-file-container{position:relative;z-index:0}.vac-message-file-container .vac-message-image-container{cursor:pointer}.vac-message-file-container .vac-image-buttons{position:absolute;width:100%;height:100%;border-radius:4px;background:linear-gradient(to bottom,rgba(0,0,0,0) 55%,rgba(0,0,0,.02) 60%,rgba(0,0,0,.05) 65%,rgba(0,0,0,.1) 70%,rgba(0,0,0,.2) 75%,rgba(0,0,0,.3) 80%,rgba(0,0,0,.5) 85%,rgba(0,0,0,.6) 90%,rgba(0,0,0,.7) 95%,rgba(0,0,0,.8) 100%)}.vac-message-file-container .vac-image-buttons svg{height:26px;width:26px}.vac-message-file-container .vac-image-buttons .vac-button-view,.vac-message-file-container .vac-image-buttons .vac-button-download{position:absolute;bottom:6px;left:7px}.vac-message-file-container .vac-image-buttons :first-child{left:40px}.vac-message-file-container .vac-image-buttons .vac-button-view{max-width:18px;bottom:8px}.vac-message-file-container .vac-video-container{width:350px;max-width:100%;margin:4px auto 5px;cursor:pointer}.vac-message-file-container .vac-video-container video{width:100%;height:100%;border-radius:4px}.vac-button-reaction{display:inline-flex;align-items:center;border:var(--chat-message-border-style-reaction);outline:none;background:var(--chat-message-bg-color-reaction);border-radius:4px;margin:4px 2px 0;transition:.3s;padding:0 5px;font-size:18px;line-height:23px}.vac-button-reaction span{font-size:11px;font-weight:500;min-width:7px;color:var(--chat-message-color-reaction-counter)}.vac-button-reaction:hover{border:var(--chat-message-border-style-reaction-hover);background:var(--chat-message-bg-color-reaction-hover);cursor:pointer}.vac-button-reaction.vac-reaction-me{border:var(--chat-message-border-style-reaction-me);background:var(--chat-message-bg-color-reaction-me)}.vac-button-reaction.vac-reaction-me span{color:var(--chat-message-color-reaction-counter-me)}.vac-button-reaction.vac-reaction-me:hover{border:var(--chat-message-border-style-reaction-hover-me);background:var(--chat-message-bg-color-reaction-hover-me)}.vac-reply-message{background:var(--chat-message-bg-color-reply);border-radius:4px;margin:-1px -5px 8px;padding:8px 10px}.vac-reply-message .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-message .vac-image-reply-container{width:70px}.vac-reply-message .vac-image-reply-container .vac-message-image-reply{height:70px;width:70px;margin:4px auto 3px}.vac-reply-message .vac-video-reply-container{width:200px;max-width:100%}.vac-reply-message .vac-video-reply-container video{width:100%;height:100%;border-radius:4px}.vac-reply-message .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content)}.vac-reply-message .vac-file-container{height:60px;width:60px}.vac-emoji-wrapper{position:relative;display:flex}.vac-emoji-wrapper .vac-emoji-reaction svg{height:19px;width:19px}.vac-emoji-wrapper .vac-emoji-picker{position:absolute;z-index:9999;bottom:32px;right:10px;width:300px;padding-top:4px;overflow:scroll;box-sizing:border-box;border-radius:.5rem;background:var(--chat-emoji-bg-color);box-shadow:0 1px 2px -2px #0000001a,0 1px 2px -1px #0000001a,0 1px 2px 1px #0000001a;scrollbar-width:none}.vac-emoji-wrapper .vac-emoji-picker::-webkit-scrollbar{display:none}.vac-emoji-wrapper .vac-emoji-picker.vac-picker-reaction{position:fixed;top:initial;right:initial}.vac-emoji-wrapper .vac-emoji-picker emoji-picker{height:100%;width:100%;--emoji-size: 1.2rem;--background: var(--chat-emoji-bg-color);--emoji-padding: .4rem;--border-color: var(--chat-sidemenu-border-color-search);--button-hover-background: var(--chat-sidemenu-bg-color-hover);--button-active-background: var(--chat-sidemenu-bg-color-hover)}.vac-format-message-wrapper .vac-format-container{display:inline}.vac-format-message-wrapper .vac-icon-deleted{height:14px;width:14px;vertical-align:middle;margin:-2px 2px 0 0;fill:var(--chat-message-color-deleted)}.vac-format-message-wrapper .vac-icon-deleted.vac-icon-deleted-room{margin:-3px 1px 0 0;fill:var(--chat-room-color-message)}.vac-format-message-wrapper .vac-image-link-container{background-color:var(--chat-message-bg-color-media);padding:8px;margin:2px auto;border-radius:4px}.vac-format-message-wrapper .vac-image-link{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:contain;background-position:center center!important;background-repeat:no-repeat!important;height:150px;width:150px;max-width:100%;border-radius:4px;margin:0 auto}.vac-format-message-wrapper .vac-image-link-message{max-width:166px;font-size:12px}.vac-loader-wrapper.vac-container-center{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-loader-wrapper.vac-container-top{padding:21px}.vac-loader-wrapper.vac-container-top #vac-circle{height:20px;width:20px}.vac-loader-wrapper #vac-circle{margin:auto;height:28px;width:28px;border:3px rgba(0,0,0,.25) solid;border-top:3px var(--chat-color-spinner) solid;border-right:3px var(--chat-color-spinner) solid;border-bottom:3px var(--chat-color-spinner) solid;border-radius:50%;-webkit-animation:vac-spin 1s infinite linear;animation:vac-spin 1s infinite linear}@media only screen and (max-width: 768px){.vac-loader-wrapper #vac-circle{height:24px;width:24px}.vac-loader-wrapper.vac-container-top{padding:18px}.vac-loader-wrapper.vac-container-top #vac-circle{height:16px;width:16px}}@-webkit-keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}#vac-icon-search{fill:var(--chat-icon-color-search)}#vac-icon-add{fill:var(--chat-icon-color-add)}#vac-icon-toggle{fill:var(--chat-icon-color-toggle)}#vac-icon-menu{fill:var(--chat-icon-color-menu)}#vac-icon-close{fill:var(--chat-icon-color-close)}#vac-icon-close-image{fill:var(--chat-icon-color-close-image)}#vac-icon-file{fill:var(--chat-icon-color-file)}#vac-icon-paperclip{fill:var(--chat-icon-color-paperclip)}#vac-icon-close-outline{fill:var(--chat-icon-color-close-outline)}#vac-icon-close-outline-preview{fill:var(--chat-icon-color-close-preview)}#vac-icon-send{fill:var(--chat-icon-color-send)}#vac-icon-send-disabled{fill:var(--chat-icon-color-send-disabled)}#vac-icon-emoji{fill:var(--chat-icon-color-emoji)}#vac-icon-emoji-reaction{fill:var(--chat-icon-color-emoji-reaction)}#vac-icon-document{fill:var(--chat-icon-color-document)}#vac-icon-pencil{fill:var(--chat-icon-color-pencil)}#vac-icon-checkmark,#vac-icon-double-checkmark{fill:var(--chat-icon-color-checkmark)}#vac-icon-checkmark-seen,#vac-icon-double-checkmark-seen{fill:var(--chat-icon-color-checkmark-seen)}#vac-icon-eye{fill:var(--chat-icon-color-eye)}#vac-icon-dropdown-message{fill:var(--chat-icon-color-dropdown-message)}#vac-icon-dropdown-room{fill:var(--chat-icon-color-dropdown-room)}#vac-icon-dropdown-scroll{fill:var(--chat-icon-color-dropdown-scroll)}#vac-icon-audio-play{fill:var(--chat-icon-color-audio-play)}#vac-icon-audio-pause{fill:var(--chat-icon-color-audio-pause)}.vac-progress-wrapper{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-progress-wrapper circle{transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}.vac-progress-wrapper .vac-progress-content{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:-1;margin-top:-2px;background-color:#000000b3;border-radius:50%}.vac-progress-wrapper .vac-progress-content .vac-progress-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-weight:700;color:#fff}.vac-progress-wrapper .vac-progress-content .vac-progress-text .vac-progress-pourcent{font-size:9px;font-weight:400}\n']]]);const KG=function(e,t){const n=function(e){return bR(e)?{setup:e,name:e.name}:e}(e);class r extends wN{constructor(e){super(n,e,t)}}return r.def=n,r}(WG),YG="vue-advanced-chat";var XG=n(48588),QG=n(34155);function ZG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nW(r.key),r)}}function eW(e,t,n){return t&&JG(e.prototype,t),n&&JG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tW(e,t,n){return(t=nW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var rW="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},sW=function(e){return e&&e.Math==Math&&e},oW=sW("object"==typeof globalThis&&globalThis)||sW("object"==typeof window&&window)||sW("object"==typeof self&&self)||sW("object"==typeof rW&&rW)||function(){return this}()||Function("return this")(),iW={},aW=function(e){try{return!!e()}catch(e){return!0}},lW=!aW((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),cW=!aW((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),uW=cW,hW=Function.prototype.call,dW=uW?hW.bind(hW):function(){return hW.apply(hW,arguments)},pW={},fW={}.propertyIsEnumerable,mW=Object.getOwnPropertyDescriptor,gW=mW&&!fW.call({1:2},1);pW.f=gW?function(e){var t=mW(this,e);return!!t&&t.enumerable}:fW;var vW,_W,yW=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},bW=cW,wW=Function.prototype,xW=wW.call,TW=bW&&wW.bind.bind(xW,xW),EW=bW?TW:function(e){return function(){return xW.apply(e,arguments)}},SW=EW,kW=SW({}.toString),CW=SW("".slice),AW=function(e){return CW(kW(e),8,-1)},IW=aW,RW=AW,MW=Object,OW=EW("".split),LW=IW((function(){return!MW("z").propertyIsEnumerable(0)}))?function(e){return"String"==RW(e)?OW(e,""):MW(e)}:MW,NW=function(e){return null==e},PW=NW,DW=TypeError,jW=function(e){if(PW(e))throw DW("Can't call method on "+e);return e},FW=LW,UW=jW,BW=function(e){return FW(UW(e))},$W="object"==typeof document&&document.all,VW={all:$W,IS_HTMLDDA:void 0===$W&&void 0!==$W},HW=VW.all,zW=VW.IS_HTMLDDA?function(e){return"function"==typeof e||e===HW}:function(e){return"function"==typeof e},qW=zW,GW=VW.all,WW=VW.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:qW(e)||e===GW}:function(e){return"object"==typeof e?null!==e:qW(e)},KW=oW,YW=zW,XW=function(e,t){return arguments.length<2?(n=KW[e],YW(n)?n:void 0):KW[e]&&KW[e][t];var n},QW=EW({}.isPrototypeOf),ZW="undefined"!=typeof navigator&&String(navigator.userAgent)||"",JW=oW,eK=ZW,tK=JW.process,nK=JW.Deno,rK=tK&&tK.versions||nK&&nK.version,sK=rK&&rK.v8;sK&&(_W=(vW=sK.split("."))[0]>0&&vW[0]<4?1:+(vW[0]+vW[1])),!_W&&eK&&(!(vW=eK.match(/Edge\/(\d+)/))||vW[1]>=74)&&(vW=eK.match(/Chrome\/(\d+)/))&&(_W=+vW[1]);var oK=_W,iK=oK,aK=aW,lK=!!Object.getOwnPropertySymbols&&!aK((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&iK&&iK<41})),cK=lK&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,uK=XW,hK=zW,dK=QW,pK=Object,fK=cK?function(e){return"symbol"==typeof e}:function(e){var t=uK("Symbol");return hK(t)&&dK(t.prototype,pK(e))},mK=String,gK=function(e){try{return mK(e)}catch(e){return"Object"}},vK=zW,_K=gK,yK=TypeError,bK=function(e){if(vK(e))return e;throw yK(_K(e)+" is not a function")},wK=bK,xK=NW,TK=function(e,t){var n=e[t];return xK(n)?void 0:wK(n)},EK=dW,SK=zW,kK=WW,CK=TypeError,AK={},IK={get exports(){return AK},set exports(e){AK=e}},RK=oW,MK=Object.defineProperty,OK=function(e,t){try{MK(RK,e,{value:t,configurable:!0,writable:!0})}catch(n){RK[e]=t}return t},LK=OK,NK="__core-js_shared__",PK=oW[NK]||LK(NK,{}),DK=PK;(IK.exports=function(e,t){return DK[e]||(DK[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.27.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"});var jK=jW,FK=Object,UK=function(e){return FK(jK(e))},BK=UK,$K=EW({}.hasOwnProperty),VK=Object.hasOwn||function(e,t){return $K(BK(e),t)},HK=EW,zK=0,qK=Math.random(),GK=HK(1..toString),WK=function(e){return"Symbol("+(void 0===e?"":e)+")_"+GK(++zK+qK,36)},KK=AK,YK=VK,XK=WK,QK=lK,ZK=cK,JK=oW.Symbol,eY=KK("wks"),tY=ZK?JK.for||JK:JK&&JK.withoutSetter||XK,nY=function(e){return YK(eY,e)||(eY[e]=QK&&YK(JK,e)?JK[e]:tY("Symbol."+e)),eY[e]},rY=dW,sY=WW,oY=fK,iY=TK,aY=function(e,t){var n,r;if("string"===t&&SK(n=e.toString)&&!kK(r=EK(n,e)))return r;if(SK(n=e.valueOf)&&!kK(r=EK(n,e)))return r;if("string"!==t&&SK(n=e.toString)&&!kK(r=EK(n,e)))return r;throw CK("Can't convert object to primitive value")},lY=TypeError,cY=nY("toPrimitive"),uY=function(e,t){if(!sY(e)||oY(e))return e;var n,r=iY(e,cY);if(r){if(void 0===t&&(t="default"),n=rY(r,e,t),!sY(n)||oY(n))return n;throw lY("Can't convert object to primitive value")}return void 0===t&&(t="number"),aY(e,t)},hY=fK,dY=function(e){var t=uY(e,"string");return hY(t)?t:t+""},pY=WW,fY=oW.document,mY=pY(fY)&&pY(fY.createElement),gY=function(e){return mY?fY.createElement(e):{}},vY=gY,_Y=!lW&&!aW((function(){return 7!=Object.defineProperty(vY("div"),"a",{get:function(){return 7}}).a})),yY=lW,bY=dW,wY=pW,xY=yW,TY=BW,EY=dY,SY=VK,kY=_Y,CY=Object.getOwnPropertyDescriptor;iW.f=yY?CY:function(e,t){if(e=TY(e),t=EY(t),kY)try{return CY(e,t)}catch(e){}if(SY(e,t))return xY(!bY(wY.f,e,t),e[t])};var AY={},IY=lW&&aW((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),RY=WW,MY=String,OY=TypeError,LY=function(e){if(RY(e))return e;throw OY(MY(e)+" is not an object")},NY=lW,PY=_Y,DY=IY,jY=LY,FY=dY,UY=TypeError,BY=Object.defineProperty,$Y=Object.getOwnPropertyDescriptor,VY="enumerable",HY="configurable",zY="writable";AY.f=NY?DY?function(e,t,n){if(jY(e),t=FY(t),jY(n),"function"==typeof e&&"prototype"===t&&"value"in n&&zY in n&&!n[zY]){var r=$Y(e,t);r&&r[zY]&&(e[t]=n.value,n={configurable:HY in n?n[HY]:r[HY],enumerable:VY in n?n[VY]:r[VY],writable:!1})}return BY(e,t,n)}:BY:function(e,t,n){if(jY(e),t=FY(t),jY(n),PY)try{return BY(e,t,n)}catch(e){}if("get"in n||"set"in n)throw UY("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var qY=AY,GY=yW,WY=lW?function(e,t,n){return qY.f(e,t,GY(1,n))}:function(e,t,n){return e[t]=n,e},KY={},YY={get exports(){return KY},set exports(e){KY=e}},XY=lW,QY=VK,ZY=Function.prototype,JY=XY&&Object.getOwnPropertyDescriptor,eX=QY(ZY,"name"),tX={EXISTS:eX,PROPER:eX&&"something"===function(){}.name,CONFIGURABLE:eX&&(!XY||XY&&JY(ZY,"name").configurable)},nX=zW,rX=PK,sX=EW(Function.toString);nX(rX.inspectSource)||(rX.inspectSource=function(e){return sX(e)});var oX,iX,aX,lX=rX.inspectSource,cX=zW,uX=oW.WeakMap,hX=cX(uX)&&/native code/.test(String(uX)),dX=WK,pX=AK("keys"),fX=function(e){return pX[e]||(pX[e]=dX(e))},mX={},gX=hX,vX=oW,_X=WW,yX=WY,bX=VK,wX=PK,xX=fX,TX=mX,EX="Object already initialized",SX=vX.TypeError,kX=vX.WeakMap;if(gX||wX.state){var CX=wX.state||(wX.state=new kX);CX.get=CX.get,CX.has=CX.has,CX.set=CX.set,oX=function(e,t){if(CX.has(e))throw SX(EX);return t.facade=e,CX.set(e,t),t},iX=function(e){return CX.get(e)||{}},aX=function(e){return CX.has(e)}}else{var AX=xX("state");TX[AX]=!0,oX=function(e,t){if(bX(e,AX))throw SX(EX);return t.facade=e,yX(e,AX,t),t},iX=function(e){return bX(e,AX)?e[AX]:{}},aX=function(e){return bX(e,AX)}}var IX={set:oX,get:iX,has:aX,enforce:function(e){return aX(e)?iX(e):oX(e,{})},getterFor:function(e){return function(t){var n;if(!_X(t)||(n=iX(t)).type!==e)throw SX("Incompatible receiver, "+e+" required");return n}}},RX=EW,MX=aW,OX=zW,LX=VK,NX=lW,PX=tX.CONFIGURABLE,DX=lX,jX=IX.enforce,FX=IX.get,UX=String,BX=Object.defineProperty,$X=RX("".slice),VX=RX("".replace),HX=RX([].join),zX=NX&&!MX((function(){return 8!==BX((function(){}),"length",{value:8}).length})),qX=String(String).split("String"),GX=YY.exports=function(e,t,n){"Symbol("===$X(UX(t),0,7)&&(t="["+VX(UX(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!LX(e,"name")||PX&&e.name!==t)&&(NX?BX(e,"name",{value:t,configurable:!0}):e.name=t),zX&&n&&LX(n,"arity")&&e.length!==n.arity&&BX(e,"length",{value:n.arity});try{n&&LX(n,"constructor")&&n.constructor?NX&&BX(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=jX(e);return LX(r,"source")||(r.source=HX(qX,"string"==typeof t?t:"")),e};Function.prototype.toString=GX((function(){return OX(this)&&FX(this).source||DX(this)}),"toString");var WX=zW,KX=AY,YX=KY,XX=OK,QX=function(e,t,n,r){r||(r={});var s=r.enumerable,o=void 0!==r.name?r.name:t;if(WX(n)&&YX(n,o,r),r.global)s?e[t]=n:XX(t,n);else{try{r.unsafe?e[t]&&(s=!0):delete e[t]}catch(e){}s?e[t]=n:KX.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},ZX={},JX=Math.ceil,eQ=Math.floor,tQ=Math.trunc||function(e){var t=+e;return(t>0?eQ:JX)(t)},nQ=tQ,rQ=function(e){var t=+e;return t!=t||0===t?0:nQ(t)},sQ=rQ,oQ=Math.max,iQ=Math.min,aQ=rQ,lQ=Math.min,cQ=function(e){return e>0?lQ(aQ(e),9007199254740991):0},uQ=cQ,hQ=function(e){return uQ(e.length)},dQ=BW,pQ=function(e,t){var n=sQ(e);return n<0?oQ(n+t,0):iQ(n,t)},fQ=hQ,mQ=function(e){return function(t,n,r){var s,o=dQ(t),i=fQ(o),a=pQ(r,i);if(e&&n!=n){for(;i>a;)if((s=o[a++])!=s)return!0}else for(;i>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},gQ={includes:mQ(!0),indexOf:mQ(!1)},vQ=VK,_Q=BW,yQ=gQ.indexOf,bQ=mX,wQ=EW([].push),xQ=function(e,t){var n,r=_Q(e),s=0,o=[];for(n in r)!vQ(bQ,n)&&vQ(r,n)&&wQ(o,n);for(;t.length>s;)vQ(r,n=t[s++])&&(~yQ(o,n)||wQ(o,n));return o},TQ=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],SQ=xQ,kQ=TQ.concat("length","prototype");ZX.f=Object.getOwnPropertyNames||function(e){return SQ(e,kQ)};var CQ={};CQ.f=Object.getOwnPropertySymbols;var AQ=XW,IQ=ZX,RQ=CQ,MQ=LY,OQ=EW([].concat),LQ=AQ("Reflect","ownKeys")||function(e){var t=IQ.f(MQ(e)),n=RQ.f;return n?OQ(t,n(e)):t},NQ=VK,PQ=LQ,DQ=iW,jQ=AY,FQ=aW,UQ=zW,BQ=/#|\.prototype\./,$Q=function(e,t){var n=HQ[VQ(e)];return n==qQ||n!=zQ&&(UQ(t)?FQ(t):!!t)},VQ=$Q.normalize=function(e){return String(e).replace(BQ,".").toLowerCase()},HQ=$Q.data={},zQ=$Q.NATIVE="N",qQ=$Q.POLYFILL="P",GQ=$Q,WQ=oW,KQ=iW.f,YQ=WY,XQ=QX,QQ=OK,ZQ=function(e,t,n){for(var r=PQ(t),s=jQ.f,o=DQ.f,i=0;i<r.length;i++){var a=r[i];NQ(e,a)||n&&NQ(n,a)||s(e,a,o(t,a))}},JQ=GQ,eZ=function(e,t){var n,r,s,o,i,a=e.target,l=e.global,c=e.stat;if(n=l?WQ:c?WQ[a]||QQ(a,{}):(WQ[a]||{}).prototype)for(r in t){if(o=t[r],s=e.dontCallGetSet?(i=KQ(n,r))&&i.value:n[r],!JQ(l?r:a+(c?".":"#")+r,e.forced)&&void 0!==s){if(typeof o==typeof s)continue;ZQ(o,s)}(e.sham||s&&s.sham)&&YQ(o,"sham",!0),XQ(n,r,o,e)}},tZ=AW,nZ=EW,rZ=function(e){if("Function"===tZ(e))return nZ(e)},sZ=bK,oZ=cW,iZ=rZ(rZ.bind),aZ=function(e,t){return sZ(e),void 0===t?e:oZ?iZ(e,t):function(){return e.apply(t,arguments)}},lZ=AW,cZ=Array.isArray||function(e){return"Array"==lZ(e)},uZ={};uZ[nY("toStringTag")]="z";var hZ="[object z]"===String(uZ),dZ=hZ,pZ=zW,fZ=AW,mZ=nY("toStringTag"),gZ=Object,vZ="Arguments"==fZ(function(){return arguments}()),_Z=dZ?fZ:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=gZ(e),mZ))?n:vZ?fZ(t):"Object"==(r=fZ(t))&&pZ(t.callee)?"Arguments":r},yZ=EW,bZ=aW,wZ=zW,xZ=_Z,TZ=lX,EZ=function(){},SZ=[],kZ=XW("Reflect","construct"),CZ=/^\s*(?:class|function)\b/,AZ=yZ(CZ.exec),IZ=!CZ.exec(EZ),RZ=function(e){if(!wZ(e))return!1;try{return kZ(EZ,SZ,e),!0}catch(e){return!1}},MZ=function(e){if(!wZ(e))return!1;switch(xZ(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return IZ||!!AZ(CZ,TZ(e))}catch(e){return!0}};MZ.sham=!0;var OZ=!kZ||bZ((function(){var e;return RZ(RZ.call)||!RZ(Object)||!RZ((function(){e=!0}))||e}))?MZ:RZ,LZ=cZ,NZ=OZ,PZ=WW,DZ=nY("species"),jZ=Array,FZ=function(e){var t;return LZ(e)&&(t=e.constructor,(NZ(t)&&(t===jZ||LZ(t.prototype))||PZ(t)&&null===(t=t[DZ]))&&(t=void 0)),void 0===t?jZ:t},UZ=aZ,BZ=LW,$Z=UK,VZ=hQ,HZ=function(e,t){return new(FZ(e))(0===t?0:t)},zZ=EW([].push),qZ=function(e){var t=1==e,n=2==e,r=3==e,s=4==e,o=6==e,i=7==e,a=5==e||o;return function(l,c,u,h){for(var d,p,f=$Z(l),m=BZ(f),g=UZ(c,u),v=VZ(m),_=0,y=h||HZ,b=t?y(l,v):n||i?y(l,0):void 0;v>_;_++)if((a||_ in m)&&(p=g(d=m[_],_,f),e))if(t)b[_]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return _;case 2:zZ(b,d)}else switch(e){case 4:return!1;case 7:zZ(b,d)}return o?-1:r||s?s:b}},GZ={forEach:qZ(0),map:qZ(1),filter:qZ(2),some:qZ(3),every:qZ(4),find:qZ(5),findIndex:qZ(6),filterReject:qZ(7)},WZ=aW,KZ=oK,YZ=nY("species"),XZ=function(e){return KZ>=51||!WZ((function(){var t=[];return(t.constructor={})[YZ]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},QZ=GZ.filter;eZ({target:"Array",proto:!0,forced:!XZ("filter")},{filter:function(e){return QZ(this,e,arguments.length>1?arguments[1]:void 0)}});var ZZ=_Z,JZ=hZ?{}.toString:function(){return"[object "+ZZ(this)+"]"};hZ||QX(Object.prototype,"toString",JZ,{unsafe:!0});var eJ,tJ,nJ,rJ,sJ=void 0!==QG&&"process"==AW(QG),oJ=zW,iJ=String,aJ=TypeError,lJ=EW,cJ=LY,uJ=function(e){if("object"==typeof e||oJ(e))return e;throw aJ("Can't set "+iJ(e)+" as a prototype")},hJ=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=lJ(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return cJ(n),uJ(r),t?e(n,r):n.__proto__=r,n}}():void 0),dJ=AY.f,pJ=VK,fJ=nY("toStringTag"),mJ=XW,gJ=AY,vJ=lW,_J=nY("species"),yJ=QW,bJ=TypeError,wJ=OZ,xJ=gK,TJ=TypeError,EJ=LY,SJ=function(e){if(wJ(e))return e;throw TJ(xJ(e)+" is not a constructor")},kJ=NW,CJ=nY("species"),AJ=cW,IJ=Function.prototype,RJ=IJ.apply,MJ=IJ.call,OJ="object"==typeof Reflect&&Reflect.apply||(AJ?MJ.bind(RJ):function(){return MJ.apply(RJ,arguments)}),LJ=XW("document","documentElement"),NJ=EW([].slice),PJ=TypeError,DJ=/(?:ipad|iphone|ipod).*applewebkit/i.test(ZW),jJ=oW,FJ=OJ,UJ=aZ,BJ=zW,$J=VK,VJ=aW,HJ=LJ,zJ=NJ,qJ=gY,GJ=function(e,t){if(e<t)throw PJ("Not enough arguments");return e},WJ=DJ,KJ=sJ,YJ=jJ.setImmediate,XJ=jJ.clearImmediate,QJ=jJ.process,ZJ=jJ.Dispatch,JJ=jJ.Function,e1=jJ.MessageChannel,t1=jJ.String,n1=0,r1={},s1="onreadystatechange";VJ((function(){eJ=jJ.location}));var o1=function(e){if($J(r1,e)){var t=r1[e];delete r1[e],t()}},i1=function(e){return function(){o1(e)}},a1=function(e){o1(e.data)},l1=function(e){jJ.postMessage(t1(e),eJ.protocol+"//"+eJ.host)};YJ&&XJ||(YJ=function(e){GJ(arguments.length,1);var t=BJ(e)?e:JJ(e),n=zJ(arguments,1);return r1[++n1]=function(){FJ(t,void 0,n)},tJ(n1),n1},XJ=function(e){delete r1[e]},KJ?tJ=function(e){QJ.nextTick(i1(e))}:ZJ&&ZJ.now?tJ=function(e){ZJ.now(i1(e))}:e1&&!WJ?(rJ=(nJ=new e1).port2,nJ.port1.onmessage=a1,tJ=UJ(rJ.postMessage,rJ)):jJ.addEventListener&&BJ(jJ.postMessage)&&!jJ.importScripts&&eJ&&"file:"!==eJ.protocol&&!VJ(l1)?(tJ=l1,jJ.addEventListener("message",a1,!1)):tJ=s1 in qJ("script")?function(e){HJ.appendChild(qJ("script"))[s1]=function(){HJ.removeChild(this),o1(e)}}:function(e){setTimeout(i1(e),0)});var c1={set:YJ,clear:XJ},u1=function(){this.head=null,this.tail=null};u1.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var h1,d1,p1,f1,m1,g1=u1,v1=/ipad|iphone|ipod/i.test(ZW)&&"undefined"!=typeof Pebble,_1=/web0s(?!.*chrome)/i.test(ZW),y1=oW,b1=aZ,w1=iW.f,x1=c1.set,T1=g1,E1=DJ,S1=v1,k1=_1,C1=sJ,A1=y1.MutationObserver||y1.WebKitMutationObserver,I1=y1.document,R1=y1.process,M1=y1.Promise,O1=w1(y1,"queueMicrotask"),L1=O1&&O1.value;if(!L1){var N1=new T1,P1=function(){var e,t;for(C1&&(e=R1.domain)&&e.exit();t=N1.get();)try{t()}catch(e){throw N1.head&&h1(),e}e&&e.enter()};E1||C1||k1||!A1||!I1?!S1&&M1&&M1.resolve?((f1=M1.resolve(void 0)).constructor=M1,m1=b1(f1.then,f1),h1=function(){m1(P1)}):C1?h1=function(){R1.nextTick(P1)}:(x1=b1(x1,y1),h1=function(){x1(P1)}):(d1=!0,p1=I1.createTextNode(""),new A1(P1).observe(p1,{characterData:!0}),h1=function(){p1.data=d1=!d1}),L1=function(e){N1.head||h1(),N1.add(e)}}var D1=L1,j1=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},F1=oW.Promise,U1="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,B1=!U1&&!sJ&&"object"==typeof window&&"object"==typeof document,$1=oW,V1=F1,H1=zW,z1=GQ,q1=lX,G1=nY,W1=B1,K1=U1,Y1=oK;V1&&V1.prototype;var X1=G1("species"),Q1=!1,Z1=H1($1.PromiseRejectionEvent),J1=z1("Promise",(function(){var e=q1(V1),t=e!==String(V1);if(!t&&66===Y1)return!0;if(!Y1||Y1<51||!/native code/.test(e)){var n=new V1((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[X1]=r,!(Q1=n.then((function(){}))instanceof r))return!0}return!t&&(W1||K1)&&!Z1})),e0={CONSTRUCTOR:J1,REJECTION_EVENT:Z1,SUBCLASSING:Q1},t0={},n0=bK,r0=TypeError,s0=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw r0("Bad Promise constructor");t=e,n=r})),this.resolve=n0(t),this.reject=n0(n)};t0.f=function(e){return new s0(e)};var o0,i0,a0,l0=eZ,c0=sJ,u0=oW,h0=dW,d0=QX,p0=hJ,f0=function(e,t,n){e&&!n&&(e=e.prototype),e&&!pJ(e,fJ)&&dJ(e,fJ,{configurable:!0,value:t})},m0=function(e){var t=mJ(e),n=gJ.f;vJ&&t&&!t[_J]&&n(t,_J,{configurable:!0,get:function(){return this}})},g0=bK,v0=zW,_0=WW,y0=function(e,t){if(yJ(t,e))return e;throw bJ("Incorrect invocation")},b0=function(e,t){var n,r=EJ(e).constructor;return void 0===r||kJ(n=EJ(r)[CJ])?t:SJ(n)},w0=c1.set,x0=D1,T0=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}},E0=j1,S0=g1,k0=IX,C0=F1,A0=t0,I0="Promise",R0=e0.CONSTRUCTOR,M0=e0.REJECTION_EVENT,O0=e0.SUBCLASSING,L0=k0.getterFor(I0),N0=k0.set,P0=C0&&C0.prototype,D0=C0,j0=P0,F0=u0.TypeError,U0=u0.document,B0=u0.process,$0=A0.f,V0=$0,H0=!!(U0&&U0.createEvent&&u0.dispatchEvent),z0="unhandledrejection",q0=function(e){var t;return!(!_0(e)||!v0(t=e.then))&&t},G0=function(e,t){var n,r,s,o=t.value,i=1==t.state,a=i?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{a?(i||(2===t.rejection&&Q0(t),t.rejection=1),!0===a?n=o:(u&&u.enter(),n=a(o),u&&(u.exit(),s=!0)),n===e.promise?c(F0("Promise-chain cycle")):(r=q0(n))?h0(r,n,l,c):l(n)):c(o)}catch(e){u&&!s&&u.exit(),c(e)}},W0=function(e,t){e.notified||(e.notified=!0,x0((function(){for(var n,r=e.reactions;n=r.get();)G0(n,e);e.notified=!1,t&&!e.rejection&&Y0(e)})))},K0=function(e,t,n){var r,s;H0?((r=U0.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u0.dispatchEvent(r)):r={promise:t,reason:n},!M0&&(s=u0["on"+e])?s(r):e===z0&&T0("Unhandled promise rejection",n)},Y0=function(e){h0(w0,u0,(function(){var t,n=e.facade,r=e.value;if(X0(e)&&(t=E0((function(){c0?B0.emit("unhandledRejection",r,n):K0(z0,n,r)})),e.rejection=c0||X0(e)?2:1,t.error))throw t.value}))},X0=function(e){return 1!==e.rejection&&!e.parent},Q0=function(e){h0(w0,u0,(function(){var t=e.facade;c0?B0.emit("rejectionHandled",t):K0("rejectionhandled",t,e.value)}))},Z0=function(e,t,n){return function(r){e(t,r,n)}},J0=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,W0(e,!0))},e2=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw F0("Promise can't be resolved itself");var r=q0(t);r?x0((function(){var n={done:!1};try{h0(r,t,Z0(e2,n,e),Z0(J0,n,e))}catch(t){J0(n,t,e)}})):(e.value=t,e.state=1,W0(e,!1))}catch(t){J0({done:!1},t,e)}}};if(R0&&(D0=function(e){y0(this,j0),g0(e),h0(o0,this);var t=L0(this);try{e(Z0(e2,t),Z0(J0,t))}catch(e){J0(t,e)}},j0=D0.prototype,(o0=function(e){N0(this,{type:I0,done:!1,notified:!1,parent:!1,reactions:new S0,rejection:!1,state:0,value:void 0})}).prototype=d0(j0,"then",(function(e,t){var n=L0(this),r=$0(b0(this,D0));return n.parent=!0,r.ok=!v0(e)||e,r.fail=v0(t)&&t,r.domain=c0?B0.domain:void 0,0==n.state?n.reactions.add(r):x0((function(){G0(r,n)})),r.promise})),i0=function(){var e=new o0,t=L0(e);this.promise=e,this.resolve=Z0(e2,t),this.reject=Z0(J0,t)},A0.f=$0=function(e){return e===D0||undefined===e?new i0(e):V0(e)},v0(C0)&&P0!==Object.prototype)){a0=P0.then,O0||d0(P0,"then",(function(e,t){var n=this;return new D0((function(e,t){h0(a0,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete P0.constructor}catch(fc){}p0&&p0(P0,j0)}l0({global:!0,constructor:!0,wrap:!0,forced:R0},{Promise:D0}),f0(D0,I0,!1),m0(I0);var t2={},n2=t2,r2=nY("iterator"),s2=Array.prototype,o2=_Z,i2=TK,a2=NW,l2=t2,c2=nY("iterator"),u2=function(e){if(!a2(e))return i2(e,c2)||i2(e,"@@iterator")||l2[o2(e)]},h2=dW,d2=bK,p2=LY,f2=gK,m2=u2,g2=TypeError,v2=dW,_2=LY,y2=TK,b2=aZ,w2=dW,x2=LY,T2=gK,E2=function(e){return void 0!==e&&(n2.Array===e||s2[r2]===e)},S2=hQ,k2=QW,C2=function(e,t){var n=arguments.length<2?m2(e):t;if(d2(n))return p2(h2(n,e));throw g2(f2(e)+" is not iterable")},A2=u2,I2=function(e,t,n){var r,s;_2(e);try{if(!(r=y2(e,"return"))){if("throw"===t)throw n;return n}r=v2(r,e)}catch(e){s=!0,r=e}if("throw"===t)throw n;if(s)throw r;return _2(r),n},R2=TypeError,M2=function(e,t){this.stopped=e,this.result=t},O2=M2.prototype,L2=function(e,t,n){var r,s,o,i,a,l,c,u=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),m=b2(t,u),g=function(e){return r&&I2(r,"normal",e),new M2(!0,e)},v=function(e){return h?(x2(e),f?m(e[0],e[1],g):m(e[0],e[1])):f?m(e,g):m(e)};if(d)r=e.iterator;else if(p)r=e;else{if(!(s=A2(e)))throw R2(T2(e)+" is not iterable");if(E2(s)){for(o=0,i=S2(e);i>o;o++)if((a=v(e[o]))&&k2(O2,a))return a;return new M2(!1)}r=C2(e,s)}for(l=d?e.next:r.next;!(c=w2(l,r)).done;){try{a=v(c.value)}catch(e){I2(r,"throw",e)}if("object"==typeof a&&a&&k2(O2,a))return a}return new M2(!1)},N2=nY("iterator"),P2=!1;try{var D2=0,j2={next:function(){return{done:!!D2++}},return:function(){P2=!0}};j2[N2]=function(){return this},Array.from(j2,(function(){throw 2}))}catch(fc){}var F2=F1,U2=function(e,t){if(!t&&!P2)return!1;var n=!1;try{var r={};r[N2]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},B2=e0.CONSTRUCTOR||!U2((function(e){F2.all(e).then(void 0,(function(){}))})),$2=dW,V2=bK,H2=t0,z2=j1,q2=L2;eZ({target:"Promise",stat:!0,forced:B2},{all:function(e){var t=this,n=H2.f(t),r=n.resolve,s=n.reject,o=z2((function(){var n=V2(t.resolve),o=[],i=0,a=1;q2(e,(function(e){var l=i++,c=!1;a++,$2(n,t,e).then((function(e){c||(c=!0,o[l]=e,--a||r(o))}),s)})),--a||r(o)}));return o.error&&s(o.value),n.promise}});var G2=eZ,W2=e0.CONSTRUCTOR,K2=F1,Y2=XW,X2=zW,Q2=QX,Z2=K2&&K2.prototype;if(G2({target:"Promise",proto:!0,forced:W2,real:!0},{catch:function(e){return this.then(void 0,e)}}),X2(K2)){var J2=Y2("Promise").prototype.catch;Z2.catch!==J2&&Q2(Z2,"catch",J2,{unsafe:!0})}var e3=dW,t3=bK,n3=t0,r3=j1,s3=L2;eZ({target:"Promise",stat:!0,forced:B2},{race:function(e){var t=this,n=n3.f(t),r=n.reject,s=r3((function(){var s=t3(t.resolve);s3(e,(function(e){e3(s,t,e).then(n.resolve,r)}))}));return s.error&&r(s.value),n.promise}});var o3=dW,i3=t0;eZ({target:"Promise",stat:!0,forced:e0.CONSTRUCTOR},{reject:function(e){var t=i3.f(this);return o3(t.reject,void 0,e),t.promise}});var a3,l3=LY,c3=WW,u3=t0,h3=eZ,d3=e0.CONSTRUCTOR,p3=function(e,t){if(l3(e),c3(t)&&t.constructor===e)return t;var n=u3.f(e);return(0,n.resolve)(t),n.promise};XW("Promise"),h3({target:"Promise",stat:!0,forced:d3},{resolve:function(e){return p3(this,e)}}),function(e){e[e.Choose=1]="Choose",e[e.Move=2]="Move",e[e.Copy=3]="Copy",e[e.CopyMove=4]="CopyMove"}(a3||(a3={}));var f3=xQ,m3=TQ,g3=Object.keys||function(e){return f3(e,m3)},v3=lW,_3=EW,y3=dW,b3=aW,w3=g3,x3=CQ,T3=pW,E3=UK,S3=LW,k3=Object.assign,C3=Object.defineProperty,A3=_3([].concat),I3=!k3||b3((function(){if(v3&&1!==k3({b:1},k3(C3({},"a",{enumerable:!0,get:function(){C3(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=k3({},e)[n]||w3(k3({},t)).join("")!=r}))?function(e,t){for(var n=E3(e),r=arguments.length,s=1,o=x3.f,i=T3.f;r>s;)for(var a,l=S3(arguments[s++]),c=o?A3(w3(l),o(l)):w3(l),u=c.length,h=0;u>h;)a=c[h++],v3&&!y3(i,l,a)||(n[a]=l[a]);return n}:k3,R3=I3;eZ({target:"Object",stat:!0,arity:2,forced:Object.assign!==R3},{assign:R3});var M3=_Z,O3=String,L3=function(e){if("Symbol"===M3(e))throw TypeError("Cannot convert a Symbol value to a string");return O3(e)},N3=LY,P3=function(){var e=N3(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},D3=dW,j3=VK,F3=QW,U3=P3,B3=RegExp.prototype,$3=tX.PROPER,V3=QX,H3=LY,z3=L3,q3=aW,G3=function(e){var t=e.flags;return void 0!==t||"flags"in B3||j3(e,"flags")||!F3(B3,e)?t:D3(U3,e)},W3="toString",K3=RegExp.prototype[W3],Y3=q3((function(){return"/a/b"!=K3.call({source:"a",flags:"b"})})),X3=$3&&K3.name!=W3;(Y3||X3)&&V3(RegExp.prototype,W3,(function(){var e=H3(this);return"/"+z3(e.source)+"/"+z3(G3(e))}),{unsafe:!0});var Q3=GZ.map;eZ({target:"Array",proto:!0,forced:!XZ("map")},{map:function(e){return Q3(this,e,arguments.length>1?arguments[1]:void 0)}});var Z3={},J3=aW,e4=oW.RegExp,t4=J3((function(){var e=e4("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),n4=t4||J3((function(){return!e4("a","y").sticky})),r4=t4||J3((function(){var e=e4("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),s4={BROKEN_CARET:r4,MISSED_STICKY:n4,UNSUPPORTED_Y:t4},o4={},i4=lW,a4=IY,l4=AY,c4=LY,u4=BW,h4=g3;o4.f=i4&&!a4?Object.defineProperties:function(e,t){c4(e);for(var n,r=u4(t),s=h4(t),o=s.length,i=0;o>i;)l4.f(e,n=s[i++],r[n]);return e};var d4,p4=LY,f4=o4,m4=TQ,g4=mX,v4=LJ,_4=gY,y4="prototype",b4="script",w4=fX("IE_PROTO"),x4=function(){},T4=function(e){return"<"+b4+">"+e+"</"+b4+">"},E4=function(e){e.write(T4("")),e.close();var t=e.parentWindow.Object;return e=null,t},S4=function(){try{d4=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;S4="undefined"!=typeof document?document.domain&&d4?E4(d4):(t=_4("iframe"),n="java"+b4+":",t.style.display="none",v4.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(T4("document.F=Object")),e.close(),e.F):E4(d4);for(var r=m4.length;r--;)delete S4[y4][m4[r]];return S4()};g4[w4]=!0;var k4,C4,A4=Object.create||function(e,t){var n;return null!==e?(x4[y4]=p4(e),n=new x4,x4[y4]=null,n[w4]=e):n=S4(),void 0===t?n:f4.f(n,t)},I4=aW,R4=oW.RegExp,M4=I4((function(){var e=R4(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),O4=aW,L4=oW.RegExp,N4=O4((function(){var e=L4("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),P4=dW,D4=EW,j4=L3,F4=P3,U4=s4,B4=A4,$4=IX.get,V4=M4,H4=N4,z4=AK("native-string-replace",String.prototype.replace),q4=RegExp.prototype.exec,G4=q4,W4=D4("".charAt),K4=D4("".indexOf),Y4=D4("".replace),X4=D4("".slice),Q4=(C4=/b*/g,P4(q4,k4=/a/,"a"),P4(q4,C4,"a"),0!==k4.lastIndex||0!==C4.lastIndex),Z4=U4.BROKEN_CARET,J4=void 0!==/()??/.exec("")[1];(Q4||J4||Z4||V4||H4)&&(G4=function(e){var t,n,r,s,o,i,a,l=this,c=$4(l),u=j4(e),h=c.raw;if(h)return h.lastIndex=l.lastIndex,t=P4(G4,h,u),l.lastIndex=h.lastIndex,t;var d=c.groups,p=Z4&&l.sticky,f=P4(F4,l),m=l.source,g=0,v=u;if(p&&(f=Y4(f,"y",""),-1===K4(f,"g")&&(f+="g"),v=X4(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==W4(u,l.lastIndex-1))&&(m="(?: "+m+")",v=" "+v,g++),n=new RegExp("^(?:"+m+")",f)),J4&&(n=new RegExp("^"+m+"$(?!\\s)",f)),Q4&&(r=l.lastIndex),s=P4(q4,p?n:l,v),p?s?(s.input=X4(s.input,g),s[0]=X4(s[0],g),s.index=l.lastIndex,l.lastIndex+=s[0].length):l.lastIndex=0:Q4&&s&&(l.lastIndex=l.global?s.index+s[0].length:r),J4&&s&&s.length>1&&P4(z4,s[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(s[o]=void 0)})),s&&d)for(s.groups=i=B4(null),o=0;o<d.length;o++)i[(a=d[o])[0]]=s[a[1]];return s});var e5=G4;eZ({target:"RegExp",proto:!0,forced:/./.exec!==e5},{exec:e5});var t5=rZ,n5=QX,r5=e5,s5=aW,o5=nY,i5=WY,a5=o5("species"),l5=RegExp.prototype,c5=EW,u5=rQ,h5=L3,d5=jW,p5=c5("".charAt),f5=c5("".charCodeAt),m5=c5("".slice),g5=function(e){return function(t,n){var r,s,o=h5(d5(t)),i=u5(n),a=o.length;return i<0||i>=a?e?"":void 0:(r=f5(o,i))<55296||r>56319||i+1===a||(s=f5(o,i+1))<56320||s>57343?e?p5(o,i):r:e?m5(o,i,i+2):s-56320+(r-55296<<10)+65536}},v5={codeAt:g5(!1),charAt:g5(!0)}.charAt,_5=EW,y5=UK,b5=Math.floor,w5=_5("".charAt),x5=_5("".replace),T5=_5("".slice),E5=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S5=/\$([$&'`]|\d{1,2})/g,k5=dW,C5=LY,A5=zW,I5=AW,R5=e5,M5=TypeError,O5=OJ,L5=dW,N5=EW,P5=function(e,t,n,r){var s=o5(e),o=!s5((function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})),i=o&&!s5((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[a5]=function(){return n},n.flags="",n[s]=/./[s]),n.exec=function(){return t=!0,null},n[s](""),!t}));if(!o||!i||n){var a=t5(/./[s]),l=t(s,""[e],(function(e,t,n,r,s){var i=t5(e),l=t.exec;return l===r5||l===l5.exec?o&&!s?{done:!0,value:a(t,n,r)}:{done:!0,value:i(n,t,r)}:{done:!1}}));n5(String.prototype,e,l[0]),n5(l5,s,l[1])}r&&i5(l5[s],"sham",!0)},D5=aW,j5=LY,F5=zW,U5=NW,B5=rQ,$5=cQ,V5=L3,H5=jW,z5=function(e,t,n){return t+(n?v5(e,t).length:1)},q5=TK,G5=function(e,t,n,r,s,o){var i=n+e.length,a=r.length,l=S5;return void 0!==s&&(s=y5(s),l=E5),x5(o,l,(function(o,l){var c;switch(w5(l,0)){case"$":return"$";case"&":return e;case"`":return T5(t,0,n);case"'":return T5(t,i);case"<":c=s[T5(l,1,-1)];break;default:var u=+l;if(0===u)return o;if(u>a){var h=b5(u/10);return 0===h?o:h<=a?void 0===r[h-1]?w5(l,1):r[h-1]+w5(l,1):o}c=r[u-1]}return void 0===c?"":c}))},W5=function(e,t){var n=e.exec;if(A5(n)){var r=k5(n,e,t);return null!==r&&C5(r),r}if("RegExp"===I5(e))return k5(R5,e,t);throw M5("RegExp#exec called on incompatible receiver")},K5=nY("replace"),Y5=Math.max,X5=Math.min,Q5=N5([].concat),Z5=N5([].push),J5=N5("".indexOf),e6=N5("".slice),t6=function(e){return void 0===e?e:String(e)},n6="$0"==="a".replace(/./,"$0"),r6=!!/./[K5]&&""===/./[K5]("a","$0"),s6=!D5((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));P5("replace",(function(e,t,n){var r=r6?"$":"$0";return[function(e,n){var r=H5(this),s=U5(e)?void 0:q5(e,K5);return s?L5(s,e,r,n):L5(t,V5(r),e,n)},function(e,s){var o=j5(this),i=V5(e);if("string"==typeof s&&-1===J5(s,r)&&-1===J5(s,"$<")){var a=n(t,o,i,s);if(a.done)return a.value}var l=F5(s);l||(s=V5(s));var c=o.global;if(c){var u=o.unicode;o.lastIndex=0}for(var h=[];;){var d=W5(o,i);if(null===d)break;if(Z5(h,d),!c)break;""===V5(d[0])&&(o.lastIndex=z5(i,$5(o.lastIndex),u))}for(var p="",f=0,m=0;m<h.length;m++){for(var g=V5((d=h[m])[0]),v=Y5(X5(B5(d.index),i.length),0),_=[],y=1;y<d.length;y++)Z5(_,t6(d[y]));var b=d.groups;if(l){var w=Q5([g],_,v,i);void 0!==b&&Z5(w,b);var x=V5(O5(s,void 0,w))}else x=G5(g,i,v,_,b,s);v>=f&&(p+=e6(i,f,v)+x,f=v+g.length)}return p+e6(i,f)}]}),!s6||!n6||r6);var o6=eZ,i6=lW,a6=AY.f;o6({target:"Object",stat:!0,forced:Object.defineProperty!==a6,sham:!i6},{defineProperty:a6});var l6="__lodash_hash_undefined__",c6=1/0,u6="[object Function]",h6="[object GeneratorFunction]",d6="[object Symbol]",p6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f6=/^\w*$/,m6=/^\./,g6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v6=/\\(\\)?/g,_6=/^\[object .+?Constructor\]$/,y6="object"==typeof rW&&rW&&rW.Object===Object&&rW,b6="object"==typeof self&&self&&self.Object===Object&&self,w6=y6||b6||Function("return this")();var x6=Array.prototype,T6=Function.prototype,E6=Object.prototype,S6=w6["__core-js_shared__"],k6=function(){var e=/[^.]+$/.exec(S6&&S6.keys&&S6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),C6=T6.toString,A6=E6.hasOwnProperty,I6=E6.toString,R6=RegExp("^"+C6.call(A6).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M6=w6.Symbol,O6=x6.splice,L6=z6(w6,"Map"),N6=z6(Object,"create"),P6=M6?M6.prototype:void 0,D6=P6?P6.toString:void 0;function j6(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function F6(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function U6(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B6(e,t){for(var n,r,s=e.length;s--;)if((n=e[s][0])===(r=t)||n!=n&&r!=r)return s;return-1}function $6(e,t){var n;t=function(e,t){if(K6(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||X6(e))return!0;return f6.test(e)||!p6.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:K6(n=t)?n:q6(n);for(var r=0,s=t.length;null!=e&&r<s;)e=e[G6(t[r++])];return r&&r==s?e:void 0}function V6(e){if(!Y6(e)||(t=e,k6&&k6 in t))return!1;var t,n=function(e){var t=Y6(e)?I6.call(e):"";return t==u6||t==h6}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?R6:_6;return n.test(function(e){if(null!=e){try{return C6.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function H6(e,t){var n,r,s=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?s["string"==typeof t?"string":"hash"]:s.map}function z6(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return V6(n)?n:void 0}j6.prototype.clear=function(){this.__data__=N6?N6(null):{}},j6.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},j6.prototype.get=function(e){var t=this.__data__;if(N6){var n=t[e];return n===l6?void 0:n}return A6.call(t,e)?t[e]:void 0},j6.prototype.has=function(e){var t=this.__data__;return N6?void 0!==t[e]:A6.call(t,e)},j6.prototype.set=function(e,t){return this.__data__[e]=N6&&void 0===t?l6:t,this},F6.prototype.clear=function(){this.__data__=[]},F6.prototype.delete=function(e){var t=this.__data__,n=B6(t,e);return!(n<0)&&(n==t.length-1?t.pop():O6.call(t,n,1),!0)},F6.prototype.get=function(e){var t=this.__data__,n=B6(t,e);return n<0?void 0:t[n][1]},F6.prototype.has=function(e){return B6(this.__data__,e)>-1},F6.prototype.set=function(e,t){var n=this.__data__,r=B6(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},U6.prototype.clear=function(){this.__data__={hash:new j6,map:new(L6||F6),string:new j6}},U6.prototype.delete=function(e){return H6(this,e).delete(e)},U6.prototype.get=function(e){return H6(this,e).get(e)},U6.prototype.has=function(e){return H6(this,e).has(e)},U6.prototype.set=function(e,t){return H6(this,e).set(e,t),this};var q6=W6((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(X6(e))return D6?D6.call(e):"";var t=e+"";return"0"==t&&1/e==-c6?"-0":t}(t);var n=[];return m6.test(e)&&n.push(""),e.replace(g6,(function(e,t,r,s){n.push(r?s.replace(v6,"$1"):t||e)})),n}));function G6(e){if("string"==typeof e||X6(e))return e;var t=e+"";return"0"==t&&1/e==-c6?"-0":t}function W6(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var i=e.apply(this,r);return n.cache=o.set(s,i),i};return n.cache=new(W6.Cache||U6),n}W6.Cache=U6;var K6=Array.isArray;function Y6(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function X6(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&I6.call(e)==d6}var Q6=function(e,t,n){var r=null==e?void 0:$6(e,t);return void 0===r?n:r},Z6={ach:{name:"Acholi",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},af:{name:"Afrikaans",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ak:{name:"Akan",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},am:{name:"Amharic",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},an:{name:"Aragonese",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ar:{name:"Arabic",examples:[{plural:0,sample:0},{plural:1,sample:1},{plural:2,sample:2},{plural:3,sample:3},{plural:4,sample:11},{plural:5,sample:100}],nplurals:6,pluralsText:"nplurals = 6; plural = (n === 0 ? 0 : n === 1 ? 1 : n === 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5)",pluralsFunc:function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5}},arn:{name:"Mapudungun",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},ast:{name:"Asturian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ay:{name:"Aymará",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},az:{name:"Azerbaijani",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},be:{name:"Belarusian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)",pluralsFunc:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},bg:{name:"Bulgarian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},bn:{name:"Bengali",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},bo:{name:"Tibetan",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},br:{name:"Breton",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},brx:{name:"Bodo",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},bs:{name:"Bosnian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)",pluralsFunc:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},ca:{name:"Catalan",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},cgg:{name:"Chiga",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},cs:{name:"Czech",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n === 1 ? 0 : (n >= 2 && n <= 4) ? 1 : 2)",pluralsFunc:function(e){return 1===e?0:e>=2&&e<=4?1:2}},csb:{name:"Kashubian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n === 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)",pluralsFunc:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},cy:{name:"Welsh",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:3},{plural:3,sample:8}],nplurals:4,pluralsText:"nplurals = 4; plural = (n === 1 ? 0 : n === 2 ? 1 : (n !== 8 && n !== 11) ? 2 : 3)",pluralsFunc:function(e){return 1===e?0:2===e?1:8!==e&&11!==e?2:3}},da:{name:"Danish",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},de:{name:"German",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},doi:{name:"Dogri",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},dz:{name:"Dzongkha",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},el:{name:"Greek",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},en:{name:"English",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},eo:{name:"Esperanto",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},es:{name:"Spanish",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},et:{name:"Estonian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},eu:{name:"Basque",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},fa:{name:"Persian",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},ff:{name:"Fulah",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},fi:{name:"Finnish",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},fil:{name:"Filipino",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},fo:{name:"Faroese",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},fr:{name:"French",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},fur:{name:"Friulian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},fy:{name:"Frisian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ga:{name:"Irish",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:3},{plural:3,sample:7},{plural:4,sample:11}],nplurals:5,pluralsText:"nplurals = 5; plural = (n === 1 ? 0 : n === 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4)",pluralsFunc:function(e){return 1===e?0:2===e?1:e<7?2:e<11?3:4}},gd:{name:"Scottish Gaelic",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:3},{plural:3,sample:20}],nplurals:4,pluralsText:"nplurals = 4; plural = ((n === 1 || n === 11) ? 0 : (n === 2 || n === 12) ? 1 : (n > 2 && n < 20) ? 2 : 3)",pluralsFunc:function(e){return 1===e||11===e?0:2===e||12===e?1:e>2&&e<20?2:3}},gl:{name:"Galician",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},gu:{name:"Gujarati",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},gun:{name:"Gun",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},ha:{name:"Hausa",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},he:{name:"Hebrew",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},hi:{name:"Hindi",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},hne:{name:"Chhattisgarhi",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},hr:{name:"Croatian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)",pluralsFunc:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},hu:{name:"Hungarian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},hy:{name:"Armenian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},id:{name:"Indonesian",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},is:{name:"Icelandic",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n % 10 !== 1 || n % 100 === 11)",pluralsFunc:function(e){return e%10!=1||e%100==11}},it:{name:"Italian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ja:{name:"Japanese",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},jbo:{name:"Lojban",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},jv:{name:"Javanese",examples:[{plural:0,sample:0},{plural:1,sample:1}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 0)",pluralsFunc:function(e){return 0!==e}},ka:{name:"Georgian",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},kk:{name:"Kazakh",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},km:{name:"Khmer",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},kn:{name:"Kannada",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ko:{name:"Korean",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},ku:{name:"Kurdish",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},kw:{name:"Cornish",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:3},{plural:3,sample:4}],nplurals:4,pluralsText:"nplurals = 4; plural = (n === 1 ? 0 : n === 2 ? 1 : n === 3 ? 2 : 3)",pluralsFunc:function(e){return 1===e?0:2===e?1:3===e?2:3}},ky:{name:"Kyrgyz",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},lb:{name:"Letzeburgesch",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ln:{name:"Lingala",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},lo:{name:"Lao",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},lt:{name:"Lithuanian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:10}],nplurals:3,pluralsText:"nplurals = 3; plural = (n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)",pluralsFunc:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2}},lv:{name:"Latvian",examples:[{plural:2,sample:0},{plural:0,sample:1},{plural:1,sample:2}],nplurals:3,pluralsText:"nplurals = 3; plural = (n % 10 === 1 && n % 100 !== 11 ? 0 : n !== 0 ? 1 : 2)",pluralsFunc:function(e){return e%10==1&&e%100!=11?0:0!==e?1:2}},mai:{name:"Maithili",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},mfe:{name:"Mauritian Creole",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},mg:{name:"Malagasy",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},mi:{name:"Maori",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},mk:{name:"Macedonian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n === 1 || n % 10 === 1 ? 0 : 1)",pluralsFunc:function(e){return 1===e||e%10==1?0:1}},ml:{name:"Malayalam",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},mn:{name:"Mongolian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},mni:{name:"Manipuri",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},mnk:{name:"Mandinka",examples:[{plural:0,sample:0},{plural:1,sample:1},{plural:2,sample:2}],nplurals:3,pluralsText:"nplurals = 3; plural = (n === 0 ? 0 : n === 1 ? 1 : 2)",pluralsFunc:function(e){return 0===e?0:1===e?1:2}},mr:{name:"Marathi",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ms:{name:"Malay",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},mt:{name:"Maltese",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:11},{plural:3,sample:20}],nplurals:4,pluralsText:"nplurals = 4; plural = (n === 1 ? 0 : n === 0 || ( n % 100 > 1 && n % 100 < 11) ? 1 : (n % 100 > 10 && n % 100 < 20 ) ? 2 : 3)",pluralsFunc:function(e){return 1===e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3}},my:{name:"Burmese",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},nah:{name:"Nahuatl",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},nap:{name:"Neapolitan",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},nb:{name:"Norwegian Bokmal",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ne:{name:"Nepali",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},nl:{name:"Dutch",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},nn:{name:"Norwegian Nynorsk",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},no:{name:"Norwegian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},nso:{name:"Northern Sotho",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},oc:{name:"Occitan",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},or:{name:"Oriya",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},pa:{name:"Punjabi",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},pap:{name:"Papiamento",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},pl:{name:"Polish",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n === 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)",pluralsFunc:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},pms:{name:"Piemontese",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ps:{name:"Pashto",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},pt:{name:"Portuguese",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},rm:{name:"Romansh",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ro:{name:"Romanian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:20}],nplurals:3,pluralsText:"nplurals = 3; plural = (n === 1 ? 0 : (n === 0 || (n % 100 > 0 && n % 100 < 20)) ? 1 : 2)",pluralsFunc:function(e){return 1===e?0:0===e||e%100>0&&e%100<20?1:2}},ru:{name:"Russian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)",pluralsFunc:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},rw:{name:"Kinyarwanda",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},sah:{name:"Yakut",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},sat:{name:"Santali",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},sco:{name:"Scots",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},sd:{name:"Sindhi",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},se:{name:"Northern Sami",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},si:{name:"Sinhala",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},sk:{name:"Slovak",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n === 1 ? 0 : (n >= 2 && n <= 4) ? 1 : 2)",pluralsFunc:function(e){return 1===e?0:e>=2&&e<=4?1:2}},sl:{name:"Slovenian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:3},{plural:3,sample:5}],nplurals:4,pluralsText:"nplurals = 4; plural = (n % 100 === 1 ? 0 : n % 100 === 2 ? 1 : n % 100 === 3 || n % 100 === 4 ? 2 : 3)",pluralsFunc:function(e){return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3}},so:{name:"Somali",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},son:{name:"Songhay",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},sq:{name:"Albanian",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},sr:{name:"Serbian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)",pluralsFunc:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},su:{name:"Sundanese",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},sv:{name:"Swedish",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},sw:{name:"Swahili",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},ta:{name:"Tamil",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},te:{name:"Telugu",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},tg:{name:"Tajik",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},th:{name:"Thai",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},ti:{name:"Tigrinya",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},tk:{name:"Turkmen",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},tr:{name:"Turkish",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},tt:{name:"Tatar",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},ug:{name:"Uyghur",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},uk:{name:"Ukrainian",examples:[{plural:0,sample:1},{plural:1,sample:2},{plural:2,sample:5}],nplurals:3,pluralsText:"nplurals = 3; plural = (n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)",pluralsFunc:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}},ur:{name:"Urdu",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},uz:{name:"Uzbek",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},vi:{name:"Vietnamese",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},wa:{name:"Walloon",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n > 1)",pluralsFunc:function(e){return e>1}},wo:{name:"Wolof",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}},yo:{name:"Yoruba",examples:[{plural:0,sample:1},{plural:1,sample:2}],nplurals:2,pluralsText:"nplurals = 2; plural = (n !== 1)",pluralsFunc:function(e){return 1!==e}},zh:{name:"Chinese",examples:[{plural:0,sample:1}],nplurals:1,pluralsText:"nplurals = 1; plural = 0",pluralsFunc:function(){return 0}}},J6=e9;function e9(e){e=e||{},this.catalogs={},this.locale="",this.domain="messages",this.listeners=[],this.sourceLocale="",e.sourceLocale&&("string"==typeof e.sourceLocale?this.sourceLocale=e.sourceLocale:this.warn("The `sourceLocale` option should be a string")),this.debug="debug"in e&&!0===e.debug}e9.prototype.on=function(e,t){this.listeners.push({eventName:e,callback:t})},e9.prototype.off=function(e,t){this.listeners=this.listeners.filter((function(n){return!1==(n.eventName===e&&n.callback===t)}))},e9.prototype.emit=function(e,t){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];r.eventName===e&&r.callback(t)}},e9.prototype.warn=function(e){this.debug&&console.warn(e),this.emit("error",new Error(e))},e9.prototype.addTranslations=function(e,t,n){this.catalogs[e]||(this.catalogs[e]={}),this.catalogs[e][t]=n},e9.prototype.setLocale=function(e){"string"==typeof e?(""===e.trim()&&this.warn("You called setLocale() with an empty value, which makes little sense."),e===this.sourceLocale||this.catalogs[e]||this.warn('You called setLocale() with "'+e+'", but no translations for that locale has been added.'),this.locale=e):this.warn("You called setLocale() with an argument of type "+typeof e+". The locale must be a string.")},e9.prototype.setTextDomain=function(e){"string"==typeof e?(""===e.trim()&&this.warn("You called setTextDomain() with an empty `domain` value."),this.domain=e):this.warn("You called setTextDomain() with an argument of type "+typeof e+". The domain must be a string.")},e9.prototype.gettext=function(e){return this.dnpgettext(this.domain,"",e)},e9.prototype.dgettext=function(e,t){return this.dnpgettext(e,"",t)},e9.prototype.ngettext=function(e,t,n){return this.dnpgettext(this.domain,"",e,t,n)},e9.prototype.dngettext=function(e,t,n,r){return this.dnpgettext(e,"",t,n,r)},e9.prototype.pgettext=function(e,t){return this.dnpgettext(this.domain,e,t)},e9.prototype.dpgettext=function(e,t,n){return this.dnpgettext(e,t,n)},e9.prototype.npgettext=function(e,t,n,r){return this.dnpgettext(this.domain,e,t,n,r)},e9.prototype.dnpgettext=function(e,t,n,r,s){var o,i,a=n;if(t=t||"",isNaN(s)||1===s||(a=r||n),o=this._getTranslation(e,t,n)){if("number"==typeof s)"boolean"==typeof(i=(0,Z6[e9.getLanguageCode(this.locale)].pluralsFunc)(s))&&(i=i?1:0);else i=0;return o.msgstr[i]||a}return this.sourceLocale&&this.locale===this.sourceLocale||this.warn('No translation was found for msgid "'+n+'" in msgctxt "'+t+'" and domain "'+e+'"'),a},e9.prototype.getComment=function(e,t,n){var r;return(r=this._getTranslation(e,t,n))&&r.comments||{}},e9.prototype._getTranslation=function(e,t,n){return t=t||"",Q6(this.catalogs,[this.locale,e,"translations",t,n])},e9.getLanguageCode=function(e){return e.split(/[\-_]/)[0].toLowerCase()},e9.prototype.textdomain=function(e){this.debug&&console.warn("textdomain(domain) was used to set locales in node-gettext v1. Make sure you are using it for domains, and switch to setLocale(locale) if you are not.\n\n To read more about the migration from node-gettext v1 to v2, see https://github.com/alexanderwallin/node-gettext/#migrating-from-1x-to-2x\n\nThis warning will be removed in the final 2.0.0"),this.setTextDomain(e)},e9.prototype.setlocale=function(e){this.setLocale(e)},e9.prototype.addTextdomain=function(){console.error("addTextdomain() is deprecated.\n\n* To add translations, use addTranslations()\n* To set the default domain, use setTextDomain() (or its alias textdomain())\n\nTo read more about the migration from node-gettext v1 to v2, see https://github.com/alexanderwallin/node-gettext/#migrating-from-1x-to-2x")};var t9={};function n9(){return document.documentElement.dataset.locale||"en"}Object.defineProperty(t9,"__esModule",{value:!0}),t9.getCanonicalLocale=function(){return n9().replace(/_/g,"-")},t9.getDayNames=function(){if(void 0===window.dayNames)return console.warn("No dayNames found"),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return window.dayNames},t9.getDayNamesMin=function(){if(void 0===window.dayNamesMin)return console.warn("No dayNamesMin found"),["Su","Mo","Tu","We","Th","Fr","Sa"];return window.dayNamesMin},t9.getDayNamesShort=function(){if(void 0===window.dayNamesShort)return console.warn("No dayNamesShort found"),["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."];return window.dayNamesShort},t9.getFirstDay=function(){if(void 0===window.firstDay)return console.warn("No firstDay found"),1;return window.firstDay},t9.getLanguage=function(){return document.documentElement.lang||"en"},t9.getLocale=n9,t9.getMonthNames=function(){if(void 0===window.monthNames)return console.warn("No monthNames found"),["January","February","March","April","May","June","July","August","September","October","November","December"];return window.monthNames},t9.getMonthNamesShort=function(){if(void 0===window.monthNamesShort)return console.warn("No monthNamesShort found"),["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."];return window.monthNamesShort},t9.translate=function(e,t,n,r,s){if("undefined"==typeof OC)return console.warn("No OC found"),t;return OC.L10N.translate(e,t,n,r,s)},t9.translatePlural=function(e,t,n,r,s,o){if("undefined"==typeof OC)return console.warn("No OC found"),t;return OC.L10N.translatePlural(e,t,n,r,s,o)},Object.defineProperty(Z3,"__esModule",{value:!0});var r9,s9=Z3.getGettextBuilder=function(){return new u9},o9=(r9=J6)&&r9.__esModule?r9:{default:r9},i9=t9;function a9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c9(e,t,n){return t&&l9(e.prototype,t),n&&l9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var u9=function(){function e(){a9(this,e),this.translations={},this.debug=!1}return c9(e,[{key:"setLanguage",value:function(e){return this.locale=e,this}},{key:"detectLocale",value:function(){return this.setLanguage((0,i9.getLanguage)().replace("-","_"))}},{key:"addTranslation",value:function(e,t){return this.translations[e]=t,this}},{key:"enableDebugMode",value:function(){return this.debug=!0,this}},{key:"build",value:function(){return new h9(this.locale||"en",this.translations,this.debug)}}]),e}(),h9=function(){function e(t,n,r){for(var s in a9(this,e),this.gt=new o9.default({debug:r,sourceLocale:"en"}),n)this.gt.addTranslations(s,"messages",n[s]);this.gt.setLocale(t)}return c9(e,[{key:"subtitudePlaceholders",value:function(e,t){return e.replace(/{([^{}]*)}/g,(function(e,n){var r=t[n];return"string"==typeof r||"number"==typeof r?r.toString():e}))}},{key:"gettext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.subtitudePlaceholders(this.gt.gettext(e),t)}},{key:"ngettext",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.subtitudePlaceholders(this.gt.ngettext(e,t,n).replace(/%n/g,n.toString()),r)}}]),e}();var d9=s9().detectLocale();[{locale:"ar",json:{charset:"utf-8",headers:{"Last-Translator":"S1 SYSTEMS | BP <info@s1.sa>, 2020","Language-Team":"Arabic (https://www.transifex.com/nextcloud/teams/64236/ar/)","Content-Type":"text/plain; charset=UTF-8",Language:"ar","Plural-Forms":"nplurals=6; plural=n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n%100>=3 && n%100<=10 ? 3 : n%100>=11 && n%100<=99 ? 4 : 5;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nS1 SYSTEMS | BP <info@s1.sa>, 2020\n"},msgstr:["Last-Translator: S1 SYSTEMS | BP <info@s1.sa>, 2020\nLanguage-Team: Arabic (https://www.transifex.com/nextcloud/teams/64236/ar/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: ar\nPlural-Forms: nplurals=6; plural=n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n%100>=3 && n%100<=10 ? 3 : n%100>=11 && n%100<=99 ? 4 : 5;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:191"},msgstr:["تراجع"]}}}}},{locale:"ast",json:{charset:"utf-8",headers:{"Last-Translator":"enolp <enolp@softastur.org>, 2020","Language-Team":"Asturian (https://www.transifex.com/nextcloud/teams/64236/ast/)","Content-Type":"text/plain; charset=UTF-8",Language:"ast","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nenolp <enolp@softastur.org>, 2020\n"},msgstr:["Last-Translator: enolp <enolp@softastur.org>, 2020\nLanguage-Team: Asturian (https://www.transifex.com/nextcloud/teams/64236/ast/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: ast\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Desfacer"]}}}}},{locale:"br",json:{charset:"utf-8",headers:{"Last-Translator":"Kervoas-Le Nabat Ewen <ewenkervoas@free.fr>, 2020","Language-Team":"Breton (https://www.transifex.com/nextcloud/teams/64236/br/)","Content-Type":"text/plain; charset=UTF-8",Language:"br","Plural-Forms":"nplurals=5; plural=((n%10 == 1) && (n%100 != 11) && (n%100 !=71) && (n%100 !=91) ? 0 :(n%10 == 2) && (n%100 != 12) && (n%100 !=72) && (n%100 !=92) ? 1 :(n%10 ==3 || n%10==4 || n%10==9) && (n%100 < 10 || n% 100 > 19) && (n%100 < 70 || n%100 > 79) && (n%100 < 90 || n%100 > 99) ? 2 :(n != 0 && n % 1000000 == 0) ? 3 : 4);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nKervoas-Le Nabat Ewen <ewenkervoas@free.fr>, 2020\n"},msgstr:["Last-Translator: Kervoas-Le Nabat Ewen <ewenkervoas@free.fr>, 2020\nLanguage-Team: Breton (https://www.transifex.com/nextcloud/teams/64236/br/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: br\nPlural-Forms: nplurals=5; plural=((n%10 == 1) && (n%100 != 11) && (n%100 !=71) && (n%100 !=91) ? 0 :(n%10 == 2) && (n%100 != 12) && (n%100 !=72) && (n%100 !=92) ? 1 :(n%10 ==3 || n%10==4 || n%10==9) && (n%100 < 10 || n% 100 > 19) && (n%100 < 70 || n%100 > 79) && (n%100 < 90 || n%100 > 99) ? 2 :(n != 0 && n % 1000000 == 0) ? 3 : 4);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Disober"]}}}}},{locale:"ca",json:{charset:"utf-8",headers:{"Last-Translator":"Marc Riera <marcriera@softcatala.org>, 2020","Language-Team":"Catalan (https://www.transifex.com/nextcloud/teams/64236/ca/)","Content-Type":"text/plain; charset=UTF-8",Language:"ca","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nMarc Riera <marcriera@softcatala.org>, 2020\n"},msgstr:["Last-Translator: Marc Riera <marcriera@softcatala.org>, 2020\nLanguage-Team: Catalan (https://www.transifex.com/nextcloud/teams/64236/ca/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: ca\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Desfés"]}}}}},{locale:"cs",json:{charset:"utf-8",headers:{"Last-Translator":"Pavel Borecki <pavel.borecki@gmail.com>, 2020","Language-Team":"Czech (https://www.transifex.com/nextcloud/teams/64236/cs/)","Content-Type":"text/plain; charset=UTF-8",Language:"cs","Plural-Forms":"nplurals=4; plural=(n == 1 && n % 1 == 0) ? 0 : (n >= 2 && n <= 4 && n % 1 == 0) ? 1: (n % 1 != 0 ) ? 2 : 3;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nPavel Borecki <pavel.borecki@gmail.com>, 2020\n"},msgstr:["Last-Translator: Pavel Borecki <pavel.borecki@gmail.com>, 2020\nLanguage-Team: Czech (https://www.transifex.com/nextcloud/teams/64236/cs/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: cs\nPlural-Forms: nplurals=4; plural=(n == 1 && n % 1 == 0) ? 0 : (n >= 2 && n <= 4 && n % 1 == 0) ? 1: (n % 1 != 0 ) ? 2 : 3;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Zpět"]}}}}},{locale:"cs_CZ",json:{charset:"utf-8",headers:{"Last-Translator":"Pavel Borecki <pavel.borecki@gmail.com>, 2020","Language-Team":"Czech (Czech Republic) (https://www.transifex.com/nextcloud/teams/64236/cs_CZ/)","Content-Type":"text/plain; charset=UTF-8",Language:"cs_CZ","Plural-Forms":"nplurals=4; plural=(n == 1 && n % 1 == 0) ? 0 : (n >= 2 && n <= 4 && n % 1 == 0) ? 1: (n % 1 != 0 ) ? 2 : 3;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nPavel Borecki <pavel.borecki@gmail.com>, 2020\n"},msgstr:["Last-Translator: Pavel Borecki <pavel.borecki@gmail.com>, 2020\nLanguage-Team: Czech (Czech Republic) (https://www.transifex.com/nextcloud/teams/64236/cs_CZ/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: cs_CZ\nPlural-Forms: nplurals=4; plural=(n == 1 && n % 1 == 0) ? 0 : (n >= 2 && n <= 4 && n % 1 == 0) ? 1: (n % 1 != 0 ) ? 2 : 3;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Zpět"]}}}}},{locale:"da",json:{charset:"utf-8",headers:{"Last-Translator":"Martin Bonde <Martin@maboni.dk>, 2020","Language-Team":"Danish (https://www.transifex.com/nextcloud/teams/64236/da/)","Content-Type":"text/plain; charset=UTF-8",Language:"da","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nMartin Bonde <Martin@maboni.dk>, 2020\n"},msgstr:["Last-Translator: Martin Bonde <Martin@maboni.dk>, 2020\nLanguage-Team: Danish (https://www.transifex.com/nextcloud/teams/64236/da/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: da\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Fortryd"]}}}}},{locale:"de",json:{charset:"utf-8",headers:{"Last-Translator":"Mark Ziegler <mark.ziegler@rakekniven.de>, 2020","Language-Team":"German (https://www.transifex.com/nextcloud/teams/64236/de/)","Content-Type":"text/plain; charset=UTF-8",Language:"de","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nMark Ziegler <mark.ziegler@rakekniven.de>, 2020\n"},msgstr:["Last-Translator: Mark Ziegler <mark.ziegler@rakekniven.de>, 2020\nLanguage-Team: German (https://www.transifex.com/nextcloud/teams/64236/de/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: de\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Rückgängig"]}}}}},{locale:"de_DE",json:{charset:"utf-8",headers:{"Last-Translator":"Gustav Gyges, 2021","Language-Team":"German (Germany) (https://www.transifex.com/nextcloud/teams/64236/de_DE/)","Content-Type":"text/plain; charset=UTF-8",Language:"de_DE","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nGustav Gyges, 2021\n"},msgstr:["Last-Translator: Gustav Gyges, 2021\nLanguage-Team: German (Germany) (https://www.transifex.com/nextcloud/teams/64236/de_DE/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: de_DE\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Rückgängig machen"]}}}}},{locale:"el",json:{charset:"utf-8",headers:{"Last-Translator":"ByteGet, 2020","Language-Team":"Greek (https://www.transifex.com/nextcloud/teams/64236/el/)","Content-Type":"text/plain; charset=UTF-8",Language:"el","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nByteGet, 2020\n"},msgstr:["Last-Translator: ByteGet, 2020\nLanguage-Team: Greek (https://www.transifex.com/nextcloud/teams/64236/el/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: el\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Αναίρεση"]}}}}},{locale:"en_GB",json:{charset:"utf-8",headers:{"Last-Translator":"Jeff Gunn <planemastr1@gmail.com>, 2021","Language-Team":"English (United Kingdom) (https://www.transifex.com/nextcloud/teams/64236/en_GB/)","Content-Type":"text/plain; charset=UTF-8",Language:"en_GB","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nJeff Gunn <planemastr1@gmail.com>, 2021\n"},msgstr:["Last-Translator: Jeff Gunn <planemastr1@gmail.com>, 2021\nLanguage-Team: English (United Kingdom) (https://www.transifex.com/nextcloud/teams/64236/en_GB/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: en_GB\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Undo"]}}}}},{locale:"eo",json:{charset:"utf-8",headers:{"Last-Translator":"Va Milushnikov <va.milushnikov@gmail.com>, 2020","Language-Team":"Esperanto (https://www.transifex.com/nextcloud/teams/64236/eo/)","Content-Type":"text/plain; charset=UTF-8",Language:"eo","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nVa Milushnikov <va.milushnikov@gmail.com>, 2020\n"},msgstr:["Last-Translator: Va Milushnikov <va.milushnikov@gmail.com>, 2020\nLanguage-Team: Esperanto (https://www.transifex.com/nextcloud/teams/64236/eo/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: eo\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:191"},msgstr:["Malfari"]}}}}},{locale:"es",json:{charset:"utf-8",headers:{"Last-Translator":"Gabriel Anca <gabrielancacorral@gmail.com>, 2020","Language-Team":"Spanish (https://www.transifex.com/nextcloud/teams/64236/es/)","Content-Type":"text/plain; charset=UTF-8",Language:"es","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nGabriel Anca <gabrielancacorral@gmail.com>, 2020\n"},msgstr:["Last-Translator: Gabriel Anca <gabrielancacorral@gmail.com>, 2020\nLanguage-Team: Spanish (https://www.transifex.com/nextcloud/teams/64236/es/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: es\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Deshacer"]}}}}},{locale:"es_AR",json:{charset:"utf-8",headers:{"Last-Translator":"Matias Iglesias, 2022","Language-Team":"Spanish (Argentina) (https://www.transifex.com/nextcloud/teams/64236/es_AR/)","Content-Type":"text/plain; charset=UTF-8",Language:"es_AR","Plural-Forms":"nplurals=3; plural=n == 1 ? 0 : n != 0 && n % 1000000 == 0 ? 1 : 2;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nMatias Iglesias, 2022\n"},msgstr:["Last-Translator: Matias Iglesias, 2022\nLanguage-Team: Spanish (Argentina) (https://www.transifex.com/nextcloud/teams/64236/es_AR/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: es_AR\nPlural-Forms: nplurals=3; plural=n == 1 ? 0 : n != 0 && n % 1000000 == 0 ? 1 : 2;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:223"},msgstr:["Deshacer"]}}}}},{locale:"es_MX",json:{charset:"utf-8",headers:{"Last-Translator":"Luis Francisco Castro, 2022","Language-Team":"Spanish (Mexico) (https://www.transifex.com/nextcloud/teams/64236/es_MX/)","Content-Type":"text/plain; charset=UTF-8",Language:"es_MX","Plural-Forms":"nplurals=3; plural=n == 1 ? 0 : n != 0 && n % 1000000 == 0 ? 1 : 2;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nLuis Francisco Castro, 2022\n"},msgstr:["Last-Translator: Luis Francisco Castro, 2022\nLanguage-Team: Spanish (Mexico) (https://www.transifex.com/nextcloud/teams/64236/es_MX/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: es_MX\nPlural-Forms: nplurals=3; plural=n == 1 ? 0 : n != 0 && n % 1000000 == 0 ? 1 : 2;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:223"},msgstr:["Deshacer"]}}}}},{locale:"eu",json:{charset:"utf-8",headers:{"Last-Translator":"Unai Tolosa Pontesta <utolosa002@gmail.com>, 2021","Language-Team":"Basque (https://www.transifex.com/nextcloud/teams/64236/eu/)","Content-Type":"text/plain; charset=UTF-8",Language:"eu","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nUnai Tolosa Pontesta <utolosa002@gmail.com>, 2021\n"},msgstr:["Last-Translator: Unai Tolosa Pontesta <utolosa002@gmail.com>, 2021\nLanguage-Team: Basque (https://www.transifex.com/nextcloud/teams/64236/eu/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: eu\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Desegin"]}}}}},{locale:"fa",json:{charset:"utf-8",headers:{"Last-Translator":"Mostafa Ahangarha <ahangarha@riseup.net>, 2020","Language-Team":"Persian (https://www.transifex.com/nextcloud/teams/64236/fa/)","Content-Type":"text/plain; charset=UTF-8",Language:"fa","Plural-Forms":"nplurals=2; plural=(n > 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nMostafa Ahangarha <ahangarha@riseup.net>, 2020\n"},msgstr:["Last-Translator: Mostafa Ahangarha <ahangarha@riseup.net>, 2020\nLanguage-Team: Persian (https://www.transifex.com/nextcloud/teams/64236/fa/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: fa\nPlural-Forms: nplurals=2; plural=(n > 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["بازگردانی"]}}}}},{locale:"fi_FI",json:{charset:"utf-8",headers:{"Last-Translator":"teemue, 2020","Language-Team":"Finnish (Finland) (https://www.transifex.com/nextcloud/teams/64236/fi_FI/)","Content-Type":"text/plain; charset=UTF-8",Language:"fi_FI","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nteemue, 2020\n"},msgstr:["Last-Translator: teemue, 2020\nLanguage-Team: Finnish (Finland) (https://www.transifex.com/nextcloud/teams/64236/fi_FI/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: fi_FI\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:191"},msgstr:["Kumoa"]}}}}},{locale:"fr",json:{charset:"utf-8",headers:{"Last-Translator":"John Molakvoæ <skjnldsv@protonmail.com>, 2020","Language-Team":"French (https://www.transifex.com/nextcloud/teams/64236/fr/)","Content-Type":"text/plain; charset=UTF-8",Language:"fr","Plural-Forms":"nplurals=2; plural=(n > 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nJohn Molakvoæ <skjnldsv@protonmail.com>, 2020\n"},msgstr:["Last-Translator: John Molakvoæ <skjnldsv@protonmail.com>, 2020\nLanguage-Team: French (https://www.transifex.com/nextcloud/teams/64236/fr/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: fr\nPlural-Forms: nplurals=2; plural=(n > 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Annuler"]}}}}},{locale:"gl",json:{charset:"utf-8",headers:{"Last-Translator":"Miguel Anxo Bouzada <mbouzada@gmail.com>, 2020","Language-Team":"Galician (https://www.transifex.com/nextcloud/teams/64236/gl/)","Content-Type":"text/plain; charset=UTF-8",Language:"gl","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nMiguel Anxo Bouzada <mbouzada@gmail.com>, 2020\n"},msgstr:["Last-Translator: Miguel Anxo Bouzada <mbouzada@gmail.com>, 2020\nLanguage-Team: Galician (https://www.transifex.com/nextcloud/teams/64236/gl/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: gl\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Desfacer"]}}}}},{locale:"he",json:{charset:"utf-8",headers:{"Last-Translator":"Yaron Shahrabani <sh.yaron@gmail.com>, 2020","Language-Team":"Hebrew (https://www.transifex.com/nextcloud/teams/64236/he/)","Content-Type":"text/plain; charset=UTF-8",Language:"he","Plural-Forms":"nplurals=4; plural=(n == 1 && n % 1 == 0) ? 0 : (n == 2 && n % 1 == 0) ? 1: (n % 10 == 0 && n % 1 == 0 && n > 10) ? 2 : 3;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nYaron Shahrabani <sh.yaron@gmail.com>, 2020\n"},msgstr:["Last-Translator: Yaron Shahrabani <sh.yaron@gmail.com>, 2020\nLanguage-Team: Hebrew (https://www.transifex.com/nextcloud/teams/64236/he/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: he\nPlural-Forms: nplurals=4; plural=(n == 1 && n % 1 == 0) ? 0 : (n == 2 && n % 1 == 0) ? 1: (n % 10 == 0 && n % 1 == 0 && n > 10) ? 2 : 3;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["ביטול"]}}}}},{locale:"hu_HU",json:{charset:"utf-8",headers:{"Last-Translator":"Balázs Meskó <meskobalazs@mailbox.org>, 2021","Language-Team":"Hungarian (Hungary) (https://www.transifex.com/nextcloud/teams/64236/hu_HU/)","Content-Type":"text/plain; charset=UTF-8",Language:"hu_HU","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nBalázs Meskó <meskobalazs@mailbox.org>, 2021\n"},msgstr:["Last-Translator: Balázs Meskó <meskobalazs@mailbox.org>, 2021\nLanguage-Team: Hungarian (Hungary) (https://www.transifex.com/nextcloud/teams/64236/hu_HU/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: hu_HU\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:191"},msgstr:["Visszavonás"]}}}}},{locale:"id",json:{charset:"utf-8",headers:{"Last-Translator":"agus sutrisno <agussutrisno@smamsa.sch.id>, 2020","Language-Team":"Indonesian (https://www.transifex.com/nextcloud/teams/64236/id/)","Content-Type":"text/plain; charset=UTF-8",Language:"id","Plural-Forms":"nplurals=1; plural=0;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nagus sutrisno <agussutrisno@smamsa.sch.id>, 2020\n"},msgstr:["Last-Translator: agus sutrisno <agussutrisno@smamsa.sch.id>, 2020\nLanguage-Team: Indonesian (https://www.transifex.com/nextcloud/teams/64236/id/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: id\nPlural-Forms: nplurals=1; plural=0;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Tidak jadi"]}}}}},{locale:"is",json:{charset:"utf-8",headers:{"Last-Translator":"Sveinn í Felli <sv1@fellsnet.is>, 2020","Language-Team":"Icelandic (https://www.transifex.com/nextcloud/teams/64236/is/)","Content-Type":"text/plain; charset=UTF-8",Language:"is","Plural-Forms":"nplurals=2; plural=(n % 10 != 1 || n % 100 == 11);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nSveinn í Felli <sv1@fellsnet.is>, 2020\n"},msgstr:["Last-Translator: Sveinn í Felli <sv1@fellsnet.is>, 2020\nLanguage-Team: Icelandic (https://www.transifex.com/nextcloud/teams/64236/is/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: is\nPlural-Forms: nplurals=2; plural=(n % 10 != 1 || n % 100 == 11);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Afturkalla"]}}}}},{locale:"it",json:{charset:"utf-8",headers:{"Last-Translator":"Vincenzo Reale <vinx.reale@gmail.com>, 2020","Language-Team":"Italian (https://www.transifex.com/nextcloud/teams/64236/it/)","Content-Type":"text/plain; charset=UTF-8",Language:"it","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nVincenzo Reale <vinx.reale@gmail.com>, 2020\n"},msgstr:["Last-Translator: Vincenzo Reale <vinx.reale@gmail.com>, 2020\nLanguage-Team: Italian (https://www.transifex.com/nextcloud/teams/64236/it/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: it\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Annulla"]}}}}},{locale:"ja_JP",json:{charset:"utf-8",headers:{"Last-Translator":"323484, 2020","Language-Team":"Japanese (Japan) (https://www.transifex.com/nextcloud/teams/64236/ja_JP/)","Content-Type":"text/plain; charset=UTF-8",Language:"ja_JP","Plural-Forms":"nplurals=1; plural=0;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\n323484, 2020\n"},msgstr:["Last-Translator: 323484, 2020\nLanguage-Team: Japanese (Japan) (https://www.transifex.com/nextcloud/teams/64236/ja_JP/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: ja_JP\nPlural-Forms: nplurals=1; plural=0;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["元に戻す"]}}}}},{locale:"kab",json:{charset:"utf-8",headers:{"Last-Translator":"ZiriSut, 2021","Language-Team":"Kabyle (https://www.transifex.com/nextcloud/teams/64236/kab/)","Content-Type":"text/plain; charset=UTF-8",Language:"kab","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nZiriSut, 2021\n"},msgstr:["Last-Translator: ZiriSut, 2021\nLanguage-Team: Kabyle (https://www.transifex.com/nextcloud/teams/64236/kab/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: kab\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Sefsex"]}}}}},{locale:"ko",json:{charset:"utf-8",headers:{"Last-Translator":"Brandon Han, 2021","Language-Team":"Korean (https://www.transifex.com/nextcloud/teams/64236/ko/)","Content-Type":"text/plain; charset=UTF-8",Language:"ko","Plural-Forms":"nplurals=1; plural=0;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nBrandon Han, 2021\n"},msgstr:["Last-Translator: Brandon Han, 2021\nLanguage-Team: Korean (https://www.transifex.com/nextcloud/teams/64236/ko/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: ko\nPlural-Forms: nplurals=1; plural=0;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["되돌리기"]}}}}},{locale:"lt_LT",json:{charset:"utf-8",headers:{"Last-Translator":"Moo, 2020","Language-Team":"Lithuanian (Lithuania) (https://www.transifex.com/nextcloud/teams/64236/lt_LT/)","Content-Type":"text/plain; charset=UTF-8",Language:"lt_LT","Plural-Forms":"nplurals=4; plural=(n % 10 == 1 && (n % 100 > 19 || n % 100 < 11) ? 0 : (n % 10 >= 2 && n % 10 <=9) && (n % 100 > 19 || n % 100 < 11) ? 1 : n % 1 != 0 ? 2: 3);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nMoo, 2020\n"},msgstr:["Last-Translator: Moo, 2020\nLanguage-Team: Lithuanian (Lithuania) (https://www.transifex.com/nextcloud/teams/64236/lt_LT/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: lt_LT\nPlural-Forms: nplurals=4; plural=(n % 10 == 1 && (n % 100 > 19 || n % 100 < 11) ? 0 : (n % 10 >= 2 && n % 10 <=9) && (n % 100 > 19 || n % 100 < 11) ? 1 : n % 1 != 0 ? 2: 3);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Atšaukti"]}}}}},{locale:"mk",json:{charset:"utf-8",headers:{"Last-Translator":"Сашко Тодоров, 2020","Language-Team":"Macedonian (https://www.transifex.com/nextcloud/teams/64236/mk/)","Content-Type":"text/plain; charset=UTF-8",Language:"mk","Plural-Forms":"nplurals=2; plural=(n % 10 == 1 && n % 100 != 11) ? 0 : 1;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nСашко Тодоров, 2020\n"},msgstr:["Last-Translator: Сашко Тодоров, 2020\nLanguage-Team: Macedonian (https://www.transifex.com/nextcloud/teams/64236/mk/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: mk\nPlural-Forms: nplurals=2; plural=(n % 10 == 1 && n % 100 != 11) ? 0 : 1;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Врати"]}}}}},{locale:"mn",json:{charset:"utf-8",headers:{"Last-Translator":"BATKHUYAG Ganbold <gbatkhuyag@gmail.com>, 2022","Language-Team":"Mongolian (https://www.transifex.com/nextcloud/teams/64236/mn/)","Content-Type":"text/plain; charset=UTF-8",Language:"mn","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nBATKHUYAG Ganbold <gbatkhuyag@gmail.com>, 2022\n"},msgstr:["Last-Translator: BATKHUYAG Ganbold <gbatkhuyag@gmail.com>, 2022\nLanguage-Team: Mongolian (https://www.transifex.com/nextcloud/teams/64236/mn/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: mn\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Буцаах"]}}}}},{locale:"mr",json:{charset:"utf-8",headers:{"Last-Translator":"Vinit Dhabre <VINIT@ymail.com>, 2021","Language-Team":"Marathi (https://www.transifex.com/nextcloud/teams/64236/mr/)","Content-Type":"text/plain; charset=UTF-8",Language:"mr","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nVinit Dhabre <VINIT@ymail.com>, 2021\n"},msgstr:["Last-Translator: Vinit Dhabre <VINIT@ymail.com>, 2021\nLanguage-Team: Marathi (https://www.transifex.com/nextcloud/teams/64236/mr/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: mr\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["पूर्ववत करा"]}}}}},{locale:"my",json:{charset:"utf-8",headers:{"Last-Translator":"Htike Aung Kyaw <htikeagkyaw@gmail.com>, 2021","Language-Team":"Burmese (https://www.transifex.com/nextcloud/teams/64236/my/)","Content-Type":"text/plain; charset=UTF-8",Language:"my","Plural-Forms":"nplurals=1; plural=0;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nHtike Aung Kyaw <htikeagkyaw@gmail.com>, 2021\n"},msgstr:["Last-Translator: Htike Aung Kyaw <htikeagkyaw@gmail.com>, 2021\nLanguage-Team: Burmese (https://www.transifex.com/nextcloud/teams/64236/my/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: my\nPlural-Forms: nplurals=1; plural=0;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["နဂိုအတိုင်းပြန်ထားရန်"]}}}}},{locale:"nb_NO",json:{charset:"utf-8",headers:{"Last-Translator":"sverre.vikan <sverre.vikan@gmail.com>, 2020","Language-Team":"Norwegian Bokmål (Norway) (https://www.transifex.com/nextcloud/teams/64236/nb_NO/)","Content-Type":"text/plain; charset=UTF-8",Language:"nb_NO","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nsverre.vikan <sverre.vikan@gmail.com>, 2020\n"},msgstr:["Last-Translator: sverre.vikan <sverre.vikan@gmail.com>, 2020\nLanguage-Team: Norwegian Bokmål (Norway) (https://www.transifex.com/nextcloud/teams/64236/nb_NO/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: nb_NO\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Angre"]}}}}},{locale:"nl",json:{charset:"utf-8",headers:{"Last-Translator":"Robin Slot, 2020","Language-Team":"Dutch (https://www.transifex.com/nextcloud/teams/64236/nl/)","Content-Type":"text/plain; charset=UTF-8",Language:"nl","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nRobin Slot, 2020\n"},msgstr:["Last-Translator: Robin Slot, 2020\nLanguage-Team: Dutch (https://www.transifex.com/nextcloud/teams/64236/nl/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: nl\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:191"},msgstr:["Ongedaan maken"]}}}}},{locale:"oc",json:{charset:"utf-8",headers:{"Last-Translator":"Quentin PAGÈS, 2020","Language-Team":"Occitan (post 1500) (https://www.transifex.com/nextcloud/teams/64236/oc/)","Content-Type":"text/plain; charset=UTF-8",Language:"oc","Plural-Forms":"nplurals=2; plural=(n > 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nQuentin PAGÈS, 2020\n"},msgstr:["Last-Translator: Quentin PAGÈS, 2020\nLanguage-Team: Occitan (post 1500) (https://www.transifex.com/nextcloud/teams/64236/oc/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: oc\nPlural-Forms: nplurals=2; plural=(n > 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Anullar"]}}}}},{locale:"pl",json:{charset:"utf-8",headers:{"Last-Translator":"Robert Szmurło <robert.szmurlo@ee.pw.edu.pl>, 2020","Language-Team":"Polish (https://www.transifex.com/nextcloud/teams/64236/pl/)","Content-Type":"text/plain; charset=UTF-8",Language:"pl","Plural-Forms":"nplurals=4; plural=(n==1 ? 0 : (n%10>=2 && n%10<=4) && (n%100<12 || n%100>14) ? 1 : n!=1 && (n%10>=0 && n%10<=1) || (n%10>=5 && n%10<=9) || (n%100>=12 && n%100<=14) ? 2 : 3);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nRobert Szmurło <robert.szmurlo@ee.pw.edu.pl>, 2020\n"},msgstr:["Last-Translator: Robert Szmurło <robert.szmurlo@ee.pw.edu.pl>, 2020\nLanguage-Team: Polish (https://www.transifex.com/nextcloud/teams/64236/pl/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: pl\nPlural-Forms: nplurals=4; plural=(n==1 ? 0 : (n%10>=2 && n%10<=4) && (n%100<12 || n%100>14) ? 1 : n!=1 && (n%10>=0 && n%10<=1) || (n%10>=5 && n%10<=9) || (n%100>=12 && n%100<=14) ? 2 : 3);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Cofnij"]}}}}},{locale:"pt_BR",json:{charset:"utf-8",headers:{"Last-Translator":"Paulo Schopf, 2020","Language-Team":"Portuguese (Brazil) (https://www.transifex.com/nextcloud/teams/64236/pt_BR/)","Content-Type":"text/plain; charset=UTF-8",Language:"pt_BR","Plural-Forms":"nplurals=2; plural=(n > 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nPaulo Schopf, 2020\n"},msgstr:["Last-Translator: Paulo Schopf, 2020\nLanguage-Team: Portuguese (Brazil) (https://www.transifex.com/nextcloud/teams/64236/pt_BR/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: pt_BR\nPlural-Forms: nplurals=2; plural=(n > 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Desfazer"]}}}}},{locale:"pt_PT",json:{charset:"utf-8",headers:{"Last-Translator":"Manuela Silva <mmsrs@sky.com>, 2022","Language-Team":"Portuguese (Portugal) (https://www.transifex.com/nextcloud/teams/64236/pt_PT/)","Content-Type":"text/plain; charset=UTF-8",Language:"pt_PT","Plural-Forms":"nplurals=3; plural=(n == 0 || n == 1) ? 0 : n != 0 && n % 1000000 == 0 ? 1 : 2;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nManuela Silva <mmsrs@sky.com>, 2022\n"},msgstr:["Last-Translator: Manuela Silva <mmsrs@sky.com>, 2022\nLanguage-Team: Portuguese (Portugal) (https://www.transifex.com/nextcloud/teams/64236/pt_PT/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: pt_PT\nPlural-Forms: nplurals=3; plural=(n == 0 || n == 1) ? 0 : n != 0 && n % 1000000 == 0 ? 1 : 2;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:223"},msgstr:["Anular"]}}}}},{locale:"ro",json:{charset:"utf-8",headers:{"Last-Translator":"Mădălin Vasiliu <contact@madalinvasiliu.com>, 2022","Language-Team":"Romanian (https://www.transifex.com/nextcloud/teams/64236/ro/)","Content-Type":"text/plain; charset=UTF-8",Language:"ro","Plural-Forms":"nplurals=3; plural=(n==1?0:(((n%100>19)||((n%100==0)&&(n!=0)))?2:1));"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nMădălin Vasiliu <contact@madalinvasiliu.com>, 2022\n"},msgstr:["Last-Translator: Mădălin Vasiliu <contact@madalinvasiliu.com>, 2022\nLanguage-Team: Romanian (https://www.transifex.com/nextcloud/teams/64236/ro/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: ro\nPlural-Forms: nplurals=3; plural=(n==1?0:(((n%100>19)||((n%100==0)&&(n!=0)))?2:1));\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:193"},msgstr:["Anulează"]}}}}},{locale:"ru",json:{charset:"utf-8",headers:{"Last-Translator":"Andrey Atapin <atab@kirovedu.ru>, 2020","Language-Team":"Russian (https://www.transifex.com/nextcloud/teams/64236/ru/)","Content-Type":"text/plain; charset=UTF-8",Language:"ru","Plural-Forms":"nplurals=4; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : n%10==0 || (n%10>=5 && n%10<=9) || (n%100>=11 && n%100<=14)? 2 : 3);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nAndrey Atapin <atab@kirovedu.ru>, 2020\n"},msgstr:["Last-Translator: Andrey Atapin <atab@kirovedu.ru>, 2020\nLanguage-Team: Russian (https://www.transifex.com/nextcloud/teams/64236/ru/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: ru\nPlural-Forms: nplurals=4; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : n%10==0 || (n%10>=5 && n%10<=9) || (n%100>=11 && n%100<=14)? 2 : 3);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:187"},msgstr:["Отменить"]}}}}},{locale:"si",json:{charset:"utf-8",headers:{"Last-Translator":"Hela Basa, 2021","Language-Team":"Sinhala (https://www.transifex.com/nextcloud/teams/64236/si/)","Content-Type":"text/plain; charset=UTF-8",Language:"si","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nHela Basa, 2021\n"},msgstr:["Last-Translator: Hela Basa, 2021\nLanguage-Team: Sinhala (https://www.transifex.com/nextcloud/teams/64236/si/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: si\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["පෙරසේ"]}}}}},{locale:"sk_SK",json:{charset:"utf-8",headers:{"Last-Translator":"vladimirjendrol <vlado@jendrol.sk>, 2020","Language-Team":"Slovak (Slovakia) (https://www.transifex.com/nextcloud/teams/64236/sk_SK/)","Content-Type":"text/plain; charset=UTF-8",Language:"sk_SK","Plural-Forms":"nplurals=4; plural=(n % 1 == 0 && n == 1 ? 0 : n % 1 == 0 && n >= 2 && n <= 4 ? 1 : n % 1 != 0 ? 2: 3);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nvladimirjendrol <vlado@jendrol.sk>, 2020\n"},msgstr:["Last-Translator: vladimirjendrol <vlado@jendrol.sk>, 2020\nLanguage-Team: Slovak (Slovakia) (https://www.transifex.com/nextcloud/teams/64236/sk_SK/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: sk_SK\nPlural-Forms: nplurals=4; plural=(n % 1 == 0 && n == 1 ? 0 : n % 1 == 0 && n >= 2 && n <= 4 ? 1 : n % 1 != 0 ? 2: 3);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Späť"]}}}}},{locale:"sl",json:{charset:"utf-8",headers:{"Last-Translator":"Matej Urbančič <>, 2020","Language-Team":"Slovenian (https://www.transifex.com/nextcloud/teams/64236/sl/)","Content-Type":"text/plain; charset=UTF-8",Language:"sl","Plural-Forms":"nplurals=4; plural=(n%100==1 ? 0 : n%100==2 ? 1 : n%100==3 || n%100==4 ? 2 : 3);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nMatej Urbančič <>, 2020\n"},msgstr:["Last-Translator: Matej Urbančič <>, 2020\nLanguage-Team: Slovenian (https://www.transifex.com/nextcloud/teams/64236/sl/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: sl\nPlural-Forms: nplurals=4; plural=(n%100==1 ? 0 : n%100==2 ? 1 : n%100==3 || n%100==4 ? 2 : 3);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:191"},msgstr:["Razveljavi"]}}}}},{locale:"sr",json:{charset:"utf-8",headers:{"Last-Translator":"aleksandar jevtic, 2022","Language-Team":"Serbian (https://www.transifex.com/nextcloud/teams/64236/sr/)","Content-Type":"text/plain; charset=UTF-8",Language:"sr","Plural-Forms":"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\naleksandar jevtic, 2022\n"},msgstr:["Last-Translator: aleksandar jevtic, 2022\nLanguage-Team: Serbian (https://www.transifex.com/nextcloud/teams/64236/sr/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: sr\nPlural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:223"},msgstr:["Poništi"]}}}}},{locale:"sv",json:{charset:"utf-8",headers:{"Last-Translator":"Victor Nyberg <v70123@gmail.com>, 2021","Language-Team":"Swedish (https://www.transifex.com/nextcloud/teams/64236/sv/)","Content-Type":"text/plain; charset=UTF-8",Language:"sv","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nVictor Nyberg <v70123@gmail.com>, 2021\n"},msgstr:["Last-Translator: Victor Nyberg <v70123@gmail.com>, 2021\nLanguage-Team: Swedish (https://www.transifex.com/nextcloud/teams/64236/sv/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: sv\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:191"},msgstr:["Ångra"]}}}}},{locale:"ta",json:{charset:"utf-8",headers:{"Last-Translator":"ஒளியன் Oliyan, 2022","Language-Team":"Tamil (https://www.transifex.com/nextcloud/teams/64236/ta/)","Content-Type":"text/plain; charset=UTF-8",Language:"ta","Plural-Forms":"nplurals=2; plural=(n != 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nஒளியன் Oliyan, 2022\n"},msgstr:["Last-Translator: ஒளியன் Oliyan, 2022\nLanguage-Team: Tamil (https://www.transifex.com/nextcloud/teams/64236/ta/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: ta\nPlural-Forms: nplurals=2; plural=(n != 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["செயல்தவிர்"]}}}}},{locale:"th_TH",json:{charset:"utf-8",headers:{"Last-Translator":"Phongpanot Phairat <ppnplus@protonmail.com>, 2021","Language-Team":"Thai (Thailand) (https://www.transifex.com/nextcloud/teams/64236/th_TH/)","Content-Type":"text/plain; charset=UTF-8",Language:"th_TH","Plural-Forms":"nplurals=1; plural=0;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nPhongpanot Phairat <ppnplus@protonmail.com>, 2021\n"},msgstr:["Last-Translator: Phongpanot Phairat <ppnplus@protonmail.com>, 2021\nLanguage-Team: Thai (Thailand) (https://www.transifex.com/nextcloud/teams/64236/th_TH/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: th_TH\nPlural-Forms: nplurals=1; plural=0;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["เลิกทำ"]}}}}},{locale:"tr",json:{charset:"utf-8",headers:{"Last-Translator":"Kaya Zeren <kayazeren@gmail.com>, 2020","Language-Team":"Turkish (https://www.transifex.com/nextcloud/teams/64236/tr/)","Content-Type":"text/plain; charset=UTF-8",Language:"tr","Plural-Forms":"nplurals=2; plural=(n > 1);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nKaya Zeren <kayazeren@gmail.com>, 2020\n"},msgstr:["Last-Translator: Kaya Zeren <kayazeren@gmail.com>, 2020\nLanguage-Team: Turkish (https://www.transifex.com/nextcloud/teams/64236/tr/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: tr\nPlural-Forms: nplurals=2; plural=(n > 1);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:191"},msgstr:["Geri al"]}}}}},{locale:"uk",json:{charset:"utf-8",headers:{"Last-Translator":"Oleksandr Panasyuk, 2021","Language-Team":"Ukrainian (https://www.transifex.com/nextcloud/teams/64236/uk/)","Content-Type":"text/plain; charset=UTF-8",Language:"uk","Plural-Forms":"nplurals=4; plural=(n % 1 == 0 && n % 10 == 1 && n % 100 != 11 ? 0 : n % 1 == 0 && n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 12 || n % 100 > 14) ? 1 : n % 1 == 0 && (n % 10 ==0 || (n % 10 >=5 && n % 10 <=9) || (n % 100 >=11 && n % 100 <=14 )) ? 2: 3);"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nOleksandr Panasyuk, 2021\n"},msgstr:["Last-Translator: Oleksandr Panasyuk, 2021\nLanguage-Team: Ukrainian (https://www.transifex.com/nextcloud/teams/64236/uk/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: uk\nPlural-Forms: nplurals=4; plural=(n % 1 == 0 && n % 10 == 1 && n % 100 != 11 ? 0 : n % 1 == 0 && n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 12 || n % 100 > 14) ? 1 : n % 1 == 0 && (n % 10 ==0 || (n % 10 >=5 && n % 10 <=9) || (n % 100 >=11 && n % 100 <=14 )) ? 2: 3);\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Скасувати дію"]}}}}},{locale:"vi",json:{charset:"utf-8",headers:{"Last-Translator":"Luu Thang <luuthang@vif.vn>, 2021","Language-Team":"Vietnamese (https://www.transifex.com/nextcloud/teams/64236/vi/)","Content-Type":"text/plain; charset=UTF-8",Language:"vi","Plural-Forms":"nplurals=1; plural=0;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nLuu Thang <luuthang@vif.vn>, 2021\n"},msgstr:["Last-Translator: Luu Thang <luuthang@vif.vn>, 2021\nLanguage-Team: Vietnamese (https://www.transifex.com/nextcloud/teams/64236/vi/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: vi\nPlural-Forms: nplurals=1; plural=0;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["Hoàn tác"]}}}}},{locale:"zh_CN",json:{charset:"utf-8",headers:{"Last-Translator":"Henry Ji, 2022","Language-Team":"Chinese (China) (https://www.transifex.com/nextcloud/teams/64236/zh_CN/)","Content-Type":"text/plain; charset=UTF-8",Language:"zh_CN","Plural-Forms":"nplurals=1; plural=0;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nHenry Ji, 2022\n"},msgstr:["Last-Translator: Henry Ji, 2022\nLanguage-Team: Chinese (China) (https://www.transifex.com/nextcloud/teams/64236/zh_CN/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: zh_CN\nPlural-Forms: nplurals=1; plural=0;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:[" 撤消"]}}}}},{locale:"zh_HK",json:{charset:"utf-8",headers:{"Last-Translator":"Cha Wong <cafetango@gmail.com>, 2021","Language-Team":"Chinese (Hong Kong) (https://www.transifex.com/nextcloud/teams/64236/zh_HK/)","Content-Type":"text/plain; charset=UTF-8",Language:"zh_HK","Plural-Forms":"nplurals=1; plural=0;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nCha Wong <cafetango@gmail.com>, 2021\n"},msgstr:["Last-Translator: Cha Wong <cafetango@gmail.com>, 2021\nLanguage-Team: Chinese (Hong Kong) (https://www.transifex.com/nextcloud/teams/64236/zh_HK/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: zh_HK\nPlural-Forms: nplurals=1; plural=0;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:191"},msgstr:["還原"]}}}}},{locale:"zh_TW",json:{charset:"utf-8",headers:{"Last-Translator":"Natashia Maxins <railroad1987@gmail.com>, 2020","Language-Team":"Chinese (Taiwan) (https://www.transifex.com/nextcloud/teams/64236/zh_TW/)","Content-Type":"text/plain; charset=UTF-8",Language:"zh_TW","Plural-Forms":"nplurals=1; plural=0;"},translations:{"":{"":{msgid:"",comments:{translator:"\nTranslators:\nNatashia Maxins <railroad1987@gmail.com>, 2020\n"},msgstr:["Last-Translator: Natashia Maxins <railroad1987@gmail.com>, 2020\nLanguage-Team: Chinese (Taiwan) (https://www.transifex.com/nextcloud/teams/64236/zh_TW/)\nContent-Type: text/plain; charset=UTF-8\nLanguage: zh_TW\nPlural-Forms: nplurals=1; plural=0;\n"]},Undo:{msgid:"Undo",comments:{reference:"lib/toast.ts:192"},msgstr:["復原"]}}}}}].map((function(e){return d9.addTranslation(e.locale,e.json)}));var p9=d9.build();p9.ngettext.bind(p9);p9.gettext.bind(p9);var f9=eW((function e(){ZG(this,e)}));f9.ERROR="toast-error",f9.WARNING="toast-warning",f9.INFO="toast-info",f9.SUCCESS="toast-success",f9.PERMANENT="toast-error",f9.UNDO="toast-undo";var m9=eW((function e(){ZG(this,e)}));m9.OFF="off",m9.POLITE="polite",m9.ASSERTIVE="assertive";var g9=7e3;function v9(e,t){var n,r;if(t=Object.assign({timeout:g9,isHTML:!1,type:void 0,selector:void 0,onRemove:function(){},onClick:void 0,close:!0},t),"string"==typeof e&&!t.isHTML){var s=document.createElement("div");s.innerHTML=e,e=s.innerText}var o=null!==(r=t.type)&&void 0!==r?r:"";"function"==typeof t.onClick&&(o+=" toast-with-click ");var i=e instanceof Node,a=m9.POLITE;t.ariaLive?a=t.ariaLive.toString():t.type!==f9.ERROR&&t.type!==f9.UNDO||(a=m9.ASSERTIVE);var l=XG((tW(n={},i?"node":"text",e),tW(n,"duration",t.timeout),tW(n,"callback",t.onRemove),tW(n,"onClick",t.onClick),tW(n,"close",t.close),tW(n,"gravity","top"),tW(n,"selector",t.selector),tW(n,"position","right"),tW(n,"backgroundColor",""),tW(n,"className","dialogs "+o),tW(n,"escapeMarkup",!t.isHTML),tW(n,"ariaLive",a),n));return l.showToast(),l}function _9(e,t){return v9(e,Object.assign(Object.assign({},t),{type:f9.SUCCESS}))}var y9=n(34155);customElements.get(YG)||customElements.define(YG,KG);const b9={name:"ChatContainer1",props:{theme:{type:String,required:!0},isDevice:{type:Boolean,required:!0}},emits:["show-demo-options"],setup(){},data:()=>({state:jo("llamavirtualuser","chat-config"),emojiDataSource:"img/data.json",showAudio:"false",showFiles:"false",allUsers:[],rooms:[],roomId:"",roomsLoaded:!1,loadingRooms:!0,roomsPerPage:15,roomsLoadedCount:0,selectedRoom:null,messages:[],messagesPerPage:20,messagesLoadedCount:0,messagesLoaded:!1,messagesLastCount:0,roomMessage:"",typingMessageCache:{context:"",timestamp:0},disableForm:!1,addNewRoom:null,roomActions:[{name:"deleteRoom",title:"Delete Room"}],menuActions:[{name:"deleteRoom",title:"Delete Room"}],messageSelectionActions:[{name:"deleteMessages",title:"Delete"}],messageActions:[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit"},{name:"deleteMessage",title:"Delete",onlyMe:!0},{name:"selectMessages",title:"Select"}],styles:{container:{borderRadius:"4px"}},templatesText:[{tag:"help",text:"This is the help"},{tag:"action",text:"This is the action"},{tag:"action 2",text:"This is the second action"}],currentUserId:-1,llamaUser:{},msgService:uA.getInstance(),userService:dA.getInstance(),roomService:fA.getInstance()}),computed:{loadedRooms(){return this.rooms.slice(0,this.roomsLoadedCount)},screenHeight(){return this.isDevice?window.innerHeight+"px":"calc(100vh - 80px)"}},mounted(){console.log("ChatContainer1::mounted()"),console.log("ChatContainer1::mounted()::process",y9),this.llamaUser=this.state.llama_user,this.currentUser=this.state.current_user,this.currentUserId=this.state.current_user.id,this.addCss(),this.fetchRooms()},methods:{addCss(){console.log("ChatContainer1::addCss()");const e=(new Date).getTimezoneOffset();console.log("ChatContainer1::addCss()::offset",e);const t=Intl.DateTimeFormat().resolvedOptions().timeZone;console.log("ChatContainer1::addCss()::timezone",t),this.userService.updateUserOnlineStatus(this.currentUserId,new Date),this.userService.onLineUsers.subscribe(this.listen_UsersOnlineStatus),this.roomService.onTypingUser.subscribe(this.listen_RoomsTypingUser),this.roomService.onRoomUpdated.subscribe(this.listen_RoomsUpdate),this.roomService.onRoomDeleted.subscribe(this.listen_RoomsDeleted),this.roomService.onRoomProcess.subscribe(this.listen_RoomsProcess),this.roomService.onRoomCreated.subscribe(this.listen_RoomsCreated),this.msgService.onMessageSend.subscribe(this.listen_MessageSend),this.msgService.onLastMessage.subscribe(this.listen_LastMessage),this.msgService.onMessageRoom.subscribe(this.listen_NewMessageRoom),this.msgService.onMessageUpdate.subscribe(this.listen_MessageUpdate),this.msgService.onMessageDelete.subscribe(this.listen_MessageDelete)},resetRooms(){console.log("ChatContainer1::resetRooms()"),this.rooms=[],this.roomsLoaded=!0,this.loadingRooms=!0,this.roomsLoadedCount=0},resetMessages(){console.log("ChatContainer1::resetMessages()"),this.messages=[],this.messagesLoaded=!1,this.messagesLoadedCount=0,this.messagesLastCount=0},resetForms(){console.log("ChatContainer1::resetForms()"),this.disableForm=!1,this.addNewRoom=null,this.removeRoomId=null},fetchRooms(){console.log("ChatContainer1::fetchRooms()"),this.resetRooms(),this.resetMessages(),this.event_fetchMoreRooms()},event_fetchMoreRooms(){console.log("ChatContainer1::event_fetchMoreRooms()");const e=this.roomService.roomsQuery(this.currentUserId,this.roomsPerPage,this.roomsLoadedCount);this.roomService.fetchMoreRooms(e)},async uploadFile(e){let{file:t,messageId:n,roomId:r,userId:s}=e;return console.log("ChatContainer1::uploadFile()",t,n,r),new Promise((e=>{let o=t.extension||t.type;"svg"!==o&&"pdf"!==o||(o=t.type),this.msgService.uploadMessageFile(n,r,s,t,(e=>{this.updateFileProgress(n,e)}),(o=>{this.messages.find((e=>e._id===n)).files.forEach((e=>{delete e.progress,e.url===t.localUrl&&(e.url=o)})),this.msgService.updateMessageFile(n,r,s,t),e(!0)}),(t=>{e(!1),function(e,t){v9(e,Object.assign(Object.assign({},t),{type:f9.ERROR}))}("Upload Message Error")}))}))},updateFileProgress(e,t){const n=this.messages.find((t=>t._id===e));n&&n.files&&(n.files.find((e=>e.name===t.file.name)).progress=t.progress,this.messages=[...this.messages])},formattedFiles(e){const t=[];return e.forEach((e=>{t.push(this.formattedFile(e))})),t},formattedFile(e){const t={name:e.name,size:e.size,type:e.type,extension:e.extension||e.type,url:e.url||e.localUrl};return e.audio&&(t.audio=!0,t.duration=e.duration),t},event_openFile(e){let{file:t}=e;console.log("ChatContainer1::event_openFile()",t),window.open(t.file.localUrl,"_blank")},event_showDemoOptions(e){console.log("ChatContainer1::event_showDemoOptions()",e),this.$emit("show-demo-options",e)},async event_openUserTag(e){let t,{user:n}=e;if(console.log("ChatContainer1::event_openUserTag()",n),this.rooms.forEach((e=>{if(2===e.users.length){const r=e.users[0]._id,s=e.users[1]._id;r!==n._id&&r!==this.currentUserId||s!==n._id&&s!==this.currentUserId||(t=e.roomId)}})),t)return void(this.roomId=t);const r=await Rk(this.currentUserId,n._id);if(r.data.length)return this.loadRoom(r);const s=await Rk(n._id,this.currentUserId);if(s.data.length)return this.loadRoom(s);const o=n._id===this.currentUserId?[this.currentUserId]:[n._id,this.currentUserId],i=await(e=>Ak(Ik,e))({users:o,lastUpdated:new Date});this.roomId=i.id,this.fetchRooms()},async loadRoom(e){console.log("ChatContainer1::loadRoom()",e),e.forEach((async e=>{this.loadingRooms||(await this.roomService.updateRoomSeen(e.id,new Date),this.roomId=e.id,this.fetchRooms())}))},event_menuActionHandler(e){let{action:t,roomId:n}=e;if(console.log("ChatContainer1::event_menuActionHandler()",t,n),"deleteRoom"===t.name)return this.deleteRoom(n)},event_messageSelectionActionHandler(e){let{action:t,messages:n,roomId:r}=e;if(console.log("ChatContainer1::event_messageSelectionActionHandler()",t,n,r),"deleteMessages"===t.name)n.forEach((e=>{this.event_deleteMessage({message:e,roomId:r})}))},async event_sendMessageReaction(e){let{reaction:t,remove:n,messageId:r,roomId:s}=e;console.log("ChatContainer1::event_sendMessageReaction()",t,n,r,s),this.msgService.updateMessageReactions(r,this.currentUserId,t.unicode,n?"remove":"add",new Date)},event_typingMessage(e){let{message:t,roomId:n}=e;if(n){if((null==t?void 0:t.length)>1)return void(this.typingMessageCache.context=t);if(1===(null==t?void 0:t.length)&&this.typingMessageCache.context)return void(this.typingMessageCache.context=t);0===(null==t?void 0:t.length)&&(this.typingMessageCache.timestamp=0),1===(null==t?void 0:t.length)&&(this.typingMessageCache.timestamp=new Date),this.typingMessageCache.context=t,this.roomService.updateRoomTypingUsers(n,this.currentUserId,t?"add":"remove")}},listen_RoomsTypingUser(e){const t=this.rooms.find((t=>t.roomId===e.roomId));t&&("add"===e.message?t.typingUsers=e.userId:"remove"===e.message&&(t.typingUsers=null))},listen_RoomsCreated(e){let{roomsLen:t,room:n}=e;console.log("ChatContainer1::listen_RoomsCreated()",n),this.fetchRooms()},listen_RoomsDeleted(e){let{roomsLen:t,room:n}=e;console.log("ChatContainer1::listen_RoomsDeleted()",n),this.fetchRooms()},listen_RoomsUpdate(e){let{roomsLen:t,room:n}=e;const r=this.rooms.find((e=>e.roomId===n.id));r&&(r.index=n.lastUpdated.seconds)},async listen_RoomsProcess(e){let{roomsLen:t,room:n}=e;if(console.log("ChatContainer1::listen_RoomsProcess()",t,n),0===t)return this.roomsLoaded=!0,void(this.loadingRooms=!1);const r=[];n.users.forEach((e=>{this.allUsers.find((t=>(null==t?void 0:t.id)===e))||-1!==r.indexOf(e)||r.push(e)}));const s=[];r.forEach((e=>{const t=this.userService.getUser(e);s.push(t)})),this.allUsers=[...this.allUsers,...await Promise.all(s)];const o=[];n.users.forEach((e=>{const t=this.allUsers.find((t=>(null==t?void 0:t.id)===e));t&&o.push(t)})),n.users=o;const i=o.filter((e=>e._id!==this.currentUserId)),a=i.map((e=>e.username)).join(", ")||"Myself",l=1===i.length&&i[0].avatar?i[0].avatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQYAAADjCAMAAABQFUqLAAAAilBMVEX///9BuIM0SV5xyqJnd4bz+/dNvIug28FZwZPP7eDn9u9AsYE1UGC35NCJ07I2V2M3ZWc/qn4+nHo7gXHb8ujD6dis4Ml9zqo8jnXy9PWU17llxZo5c2ycprBBVGjJztQ/o3w7h3M6em44bGrm6OuFkp89lXdNYHI2XmWzusJ0gpFaa3zZ3eFrnZOT9yJ3AAAFzElEQVR42szaCVLbQBCF4e6xZOMFzGIWAbZYJIQN3P96MSSTraZcea2o532H0F/TTzIy+ChAlZjVBehjhJvIRHEPAbQWsyJglmowlfJIcU8B1IjRNoBeFHctIseKmy8CZic2VRcwp2owk72R4h4DqBaTdQA9KG4in6ZqsAyYN7FoAuheceNSvpwo7tzlK7kLmMVcccfyXTlW3GnAbCqB1QH0qLiRRJZongVQK7A3n1j+ZInmBRzNwWN5rrgT+eXSI5oFGsuNQyzHM4mM0bwZOJptAJ2ZYxmt1OA1YLphY/mkuKNS/nBLF83CI5aXEvWI5jMczQFjedMrltGVJZqL4aLZBcyrGqwk8o3mO/CY8I1lNLVEc4lGc6hYPtseE5F3NLdEsbySlJk6PC26Sv7BewBdWGIpSUT3OPjyNu/3mOgfzXs0mg1tLCOXe1zLdHlLu/OIZk0Ry1tJ4rnHNRvHy1vateJe/nM0W8/LW9os/z2u9ojlnST53uPWBDPVQflHLKeZ6qD8I1a1yRjLKP+I5ThTHbbyiGbHdHn7W/4Ra5c/lgT3ON+ZiiGaLcNM9Tuee5zv5S0t/4jlM1OVclD+Ect5pkrzv8clYpnt8hblH7GcZiqA0z2uIrq8fSEYsXxnKqpo1kSXt738I1aWmSriucfBl7deMxVdNCuCmeoHghHLd6YijGYje1vGWPre4xhmqk/5Ryyay1vOEYthpiK4x20JZiohGLEYZiqCexzV5S3biMUxUxHc4xx/EE8jGbGYLm8JDj+V88xU37i1YxuGgRgIgnAFguHMdiL1X6QaUMbj/y7ZxAGzBIwmdyzXRCxSpvKM5hGUN6THETIVwONQ8paPWAPGstvjuPL2fF/EaCYzFdfjUPK2MGKh5e35fvtHM5ip2B6HkrdFEYuaqdij2TCW3IhFyFQNHvc3y1syYs0ZS4DHVTPVjNFkjGXJ48zy1hux+JmK6HHHCzKWJY+7zPLGiVjJTCX2uDdoLGsRy5ipWKO5Xd4YEevcLm8Ej4s+iG8fzc+csaxFLGOmwowmcSxrHmeWt2DEMstbMmIZMxXB40jyFoxYxky13+NY8haMWMZM1eFxZnkLRiy1vAWfyo2ZqmM054xlKWIZM1XHaM4Zy5LHGTNVh8eZ5S0YseaMZc3jzPKWjFjGTNXgcWZ5WxexLrS8BT3OmKk6PM4sb8mIZcxUDaM5Zyzvcs0dN2IYhoKFC1kG7Go/QNykyv2PmIq7kCPTPypYcuYSA77htYjlMVM1kKbn5c0yYnnMVA32OI+ZqoU048jy2h7neXkzjFgeM1WLPc7z8ma3x/14Xt4sI5bHTNVgj3O9vBlGLI+ZqoU0PS9vhhHLY6Zqscd99oP4v0WsOLK8FrE8ZqoG0owjy2t7nOflzTJieV7eDPc4j5mqxR7neXmzi1jfHjNVA2kGkuWFiOU0U1lL0/nyZrTHBZPl2adyt5nKVJrhZHnqtAh1TGxLEyTLE3uc80xldVoEOyZ0adJkeXSPC7O8XYpYATLVEWniZHkoYoVa3k7vcUEy1U5pMmW5O2KFyVS7pEmV5Z/TAndMVKSJWt7W9ji0LIvTAnlMLKWJlqUw4Ja3YxErXKbakiZblsKIW97qzJRMpZPhshSelEylM8BlKSTa8rZrjwvxIH6GES5LoaMeEyUZLkthoi1vaxGLekyUJLYsX/S05a3OHZOpdDq2LIUbJlPpTLTlbW2PY8tSeGAylU7PlqWQscdESceWpTDglrc6CXtMLKTJlqUw4pa3OjMlU+lkuCyFJyVTbe1x8R7Ez5DYsnxHLEqm0hnhshQ66jFRknHLW52Jkqm2TgvqMVGS2LJ80dOWtzp3TKbS6diyFG645a3OFyVTbUmTLUvhgclUOj1blkLGLW91nrTlrc4Al6WQsMfEQppsWQojbnmrM1OPiZIMl6Uw0Za3tYhFyVQ6iS3Ld8SiZCqdEbe81enYshRumEylM32ALH8BfJbP09a3ElQAAAAASUVORK5CYII=",c={...n,roomName:a,roomId:n.id,avatar:l,index:n.lastUpdated.seconds,lastMessage:{content:"Room created",timestamp:Pk(new Date(n.lastUpdated.seconds),n.lastUpdated)}};this.rooms.push(c),t+this.roomsLoadedCount===this.rooms.length&&(this.msgService.getRoomsLastMessage(this.currentUserId),this.rooms.sort(((e,t)=>e.index-t.index)))},async listen_MessageSend(e){let{msgLen:t,msg:n}=e;console.log("ChatContainer1::listen_MessageSend()",t,n);const r=n.idRoom;let s;if(n.files)for(let e=0;e<n.files.length;e++){s=n.files[e];try{s.blob=await fetch(s.url).then((e=>e.blob())),await this.uploadFile({file:s,messageId:n.id,roomId:r,userId:this.currentUserId})}catch(e){console.log(s)}}this.msgService.completeMessagesPHP(n),this.roomService.updateRoomSeen(r,new Date(1e3*n.timestamp.seconds))},event_addRoom(e){console.log("ChatContainer1::event_addRoom()",e),this.addNewRoom?this.addNewRoom=!1:this.addRoom()},addRoom(){console.log("ChatContainer1::addRoom()"),this.resetForms(),this.addNewRoom=!0},async event_createRoom(e){console.log("ChatContainer1::event_createRoom()",e),this.disableForm=!0;const t=[this.state.current_user,this.state.llama_user];this.roomService.createRoom(t,new Date),this.addNewRoom=!1,_9("Room Created")},async deleteRoom(e){console.log("ChatContainer1::deleteRoom()",e),this.roomService.deleteRoom(e),_9("Room Deleted")},listen_UsersOnlineStatus(e){console.log("ChatContainer1::listen_UsersOnlineStatus()",e);const t=Pk(new Date(e.lastChanged),new Date(e.lastChanged));this.rooms.forEach((n=>{n.users.forEach((n=>{n.id===e.userId&&(n.status={online:"online",lastChanged:t})}))}))},event_fetchMessages(e){let{room:t,options:n={}}=e;this.$emit("show-demo-options",!1),n.reset&&this.resetMessages();const r=this.msgService.messagesQuery(t.id,this.messagesPerPage,this.messagesLoadedCount);this.selectedRoom=t.id,this.showFiles="true",this.msgService.getRoomMessages(r)},markMessagesSeen(e){e.idUser===this.currentUserId||e.seen&&e.seen[this.currentUserId]||(console.log("ChatContainer1::markMessagesSeen()",e),this.msgService.updateMessageSeen(e.id,e.idUser,new Date))},formatLastMessage(e,t){var n,r;if(!t.timestamp)return;let s=t.content;if(null!==(n=t.files)&&void 0!==n&&n.length){const e=t.files[0];s="".concat(e.name,".").concat(e.extension||e.type)}const o=t.idUser!==this.currentUserId?null===(r=e.users.find((e=>t.idUser===e._id)))||void 0===r?void 0:r.username:"";return{...t,_id:t.id,content:s,senderId:t.idUser,timestamp:Pk(new Date(1e3*t.timestamp.seconds),t.timestamp),username:o,distributed:!0,seen:t.idUser===this.currentUserId?t.seen:null,new:!(t.idUser===this.currentUserId||t.seen&&t.seen[this.currentUserId])}},formatMessage(e,t){var n;const r={...t,senderId:t.idUser,_id:t.id,seconds:t.timestamp.seconds,timestamp:Nk(t.timestamp,"HH:mm"),date:Nk(t.timestamp,"DD MMMM YYYY"),username:null===(n=e.users.find((e=>t.idUser===e._id)))||void 0===n?void 0:n.username,distributed:!0},s=this.messages.find((e=>e.idParent===t.id));s&&(s.replyMessage={...r,senderId:r.idUser});const o=this.messages.find((e=>e.id===t.idParent));return o&&(r.replyMessage={...o,senderId:o.idUser}),r},async event_sendMessage(e){let{content:t,roomId:n,files:r,replyMessage:s}=e;const o={idUser:this.currentUserId,idRoom:n,content:t,timestampEnd:new Date,timestampStart:this.typingMessageCache.timestamp?this.typingMessageCache.timestamp:new Date};r&&(o.files=this.formattedFiles(r)),s&&(o.idParent=s.id),this.msgService.sendRoomMessage(o),_9("Message Sent")},async event_editMessage(e){let{messageId:t,newContent:n,roomId:r,files:s}=e;console.log("ChatContainer1::event_editMessage()",t,n,r,s);const o=this.messages.find((e=>e.id===t)),i={id:t,idUser:this.currentUserId,idRoom:r,newContent:n,lastUpdated:new Date};if(s){const e=s.filter((e=>Object.prototype.hasOwnProperty.call(e,"id"))),t=s.filter((e=>!Object.prototype.hasOwnProperty.call(e,"id")));let n=[];null!=o&&o.files&&(n=o.files.filter((t=>!e.some((e=>t.id===e.id))))),i.filesDel=n,i.filesNew=t}else null!=o&&o.files&&(i.filesDel=o.files,i.filesNew=[]),delete o.files;this.msgService.updateRoomMessage(i),_9("Message Edited")},async event_deleteMessage(e){let{message:t,roomId:n}=e;console.log("ChatContainer1::event_deleteMessage()",t,n),this.msgService.deleteMessage(t._id,n,new Date);const{files:r}=t;r&&r.forEach((e=>{this.msgService.deleteMessageFile(t._id,n,this.currentUserId,e)}))},listen_MessageDelete(e){let{msgLen:t,msg:n}=e;if(console.log("ChatContainer1::listen_MessageDelete(): ",t,n),0===t)return;if(this.selectedRoom!==n.idRoom)return;const r=this.messages.findIndex((e=>e.id===n.id)),s=this.rooms.findIndex((e=>e.id===n.idRoom));if(r>=0){const e=this.rooms[s],t=this.formatMessage(e,n);this.messages[r]=t,this.messages.sort(((e,t)=>e.seconds-t.seconds))}},listen_MessageUpdate(e){let{msgLen:t,msg:n}=e;if(console.log("ChatContainer1::listen_MessageUpdate(): ",t,n),0===t)return;const r=this.messages.findIndex((e=>e.id===n.id));r>=0&&(this.messages[r].content=n.content,null!=n&&n.reactions?this.messages[r].reactions=n.reactions:delete this.messages[r].reactions,null!=n&&n.seen?this.messages[r].seen=n.seen:delete this.messages[r].seen,null!=n&&n.files?this.messages[r].files=n.files:delete this.messages[r].files,this.messages.sort(((e,t)=>e.seconds-t.seconds)))},listen_NewMessageRoom(e){let{msgLen:t,msg:n}=e;if(console.log("ChatContainer1::listen_NewMessageRoom(): ",t,n),0===t)return void(this.messagesLoaded=!0);if(this.selectedRoom!==n.idRoom)return;const r=this.rooms.findIndex((e=>e.id===n.idRoom));if(r>=0){const e=this.rooms[r],s=this.formatMessage(e,n);this.messages.unshift(s),this.markMessagesSeen(n),t+this.messagesLoadedCount===this.messages.length&&(this.messagesLoadedCount=this.messages.length,this.messages.sort(((e,t)=>e.seconds-t.seconds)))}},listen_LastMessage(e){let{msgLen:t,msg:n}=e;if(console.log("ChatContainer1::listen_LastMessage(): ",t,n),0===t)return void this._lastMessages_completed();const r=this.rooms.findIndex((e=>e.id===n.idRoom));if(this.messagesLastCount++,r>=0){const e=this.rooms[r],t=this.formatLastMessage(e,n);this.rooms[r].lastMessage=t}this.messagesLastCount===t&&this._lastMessages_completed()},_lastMessages_completed(){this.messagesLastCount=0,this.roomsLoaded=!0,this.loadingRooms=!1,this.roomsLoadedCount=this.rooms.length}}},w9=b9;var x9=n(93379),T9=n.n(x9),E9=n(7795),S9=n.n(E9),k9=n(90569),C9=n.n(k9),A9=n(3565),I9=n.n(A9),R9=n(19216),M9=n.n(R9),O9=n(44589),L9=n.n(O9),N9=n(74501),P9={};P9.styleTagTransform=L9(),P9.setAttributes=I9(),P9.insert=C9().bind(null,"head"),P9.domAPI=S9(),P9.insertStyleElement=M9();T9()(N9.Z,P9);N9.Z&&N9.Z.locals&&N9.Z.locals;function D9(e,t,n,r,s,o,i,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):s&&(l=a?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}var j9=D9(w9,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"window-container",class:{"window-mobile":e.isDevice}},[t("vue-advanced-chat",{ref:"chatWindow",attrs:{height:e.screenHeight,theme:e.theme,styles:JSON.stringify(e.styles),"current-user-id":e.currentUserId,"room-id":e.roomId,rooms:JSON.stringify(e.loadedRooms),"loading-rooms":e.loadingRooms,"rooms-loaded":e.roomsLoaded,messages:JSON.stringify(e.messages),"messages-loaded":e.messagesLoaded,"room-message":e.roomMessage,"room-actions":JSON.stringify(e.roomActions),"menu-actions":JSON.stringify(e.menuActions),"message-selection-actions":JSON.stringify(e.messageSelectionActions),"message-actions":JSON.stringify(e.messageActions),"templates-text":JSON.stringify(e.templatesText),"emoji-data-source":e.emojiDataSource,"show-audio":e.showAudio,"show-files":e.showFiles},on:{"fetch-more-rooms":e.event_fetchMoreRooms,"fetch-messages":function(t){return e.event_fetchMessages(t.detail[0])},"send-message":function(t){return e.event_sendMessage(t.detail[0])},"edit-message":function(t){return e.event_editMessage(t.detail[0])},"delete-message":function(t){return e.event_deleteMessage(t.detail[0])},"open-file":function(t){return e.event_openFile(t.detail[0])},"open-user-tag":function(t){return e.event_openUserTag(t.detail[0])},"add-room":function(t){return e.event_createRoom(t.detail[0])},"room-action-handler":function(t){return e.event_menuActionHandler(t.detail[0])},"menu-action-handler":function(t){return e.event_menuActionHandler(t.detail[0])},"message-selection-action-handler":function(t){return e.event_messageSelectionActionHandler(t.detail[0])},"send-message-reaction":function(t){return e.event_sendMessageReaction(t.detail[0])},"typing-message":function(t){return e.event_typingMessage(t.detail[0])},"toggle-rooms-list":function(t){return e.event_showDemoOptions(t.detail[0].opened)}}})],1)}),[],!1,null,"079602ba",null);const F9={name:"ChatView1",components:{ChatContainer1:j9.exports},setup:()=>({gRoomStore:sa()}),data:()=>({state:jo("llamavirtualuser","chat-config"),theme:"dark",showChat:!0,isDevice:!1,updatingData:!1,showDemoOptions:!0,users:[],llamaUser:{},currentUser:{}}),computed:{showOptions(){return!this.isDevice||this.showDemoOptions}},watch:{currentUserId(){this.showChat=!1,setTimeout((()=>this.showChat=!0),150)}},mounted(){console.log("ChatView1::mounted()"),this.users=this.state.test_users,this.llamaUser=this.state.llama_user,this.currentUser=this.state.current_user,this.isDevice=window.innerWidth<500,window.addEventListener("resize",(e=>{e.isTrusted&&(this.isDevice=window.innerWidth<500)}))},methods:{async addTestData(){console.log("ChatView1::addTestData()"),this.addNewRoom=!1,this.updatingData=!0,this.users=[this.state.current_user,this.state.llama_user,...this.users];for(let e=0;e<10;e++){const e=oa(0,this.users.length-2),t=ia(e,this.users.length-1).map((e=>this.users[e]));await this.gRoomStore.addRoom({users:t,lastUpdated:new Date})}this.updatingData=!1,location.reload()}}},U9=F9;var B9=n(38660),$9={};$9.styleTagTransform=L9(),$9.setAttributes=I9(),$9.insert=C9().bind(null,"head"),$9.domAPI=S9(),$9.insertStyleElement=M9();T9()(B9.Z,$9);B9.Z&&B9.Z.locals&&B9.Z.locals;var V9=n(84295),H9={};H9.styleTagTransform=L9(),H9.setAttributes=I9(),H9.insert=C9().bind(null,"head"),H9.domAPI=S9(),H9.insertStyleElement=M9();T9()(V9.Z,H9);V9.Z&&V9.Z.locals&&V9.Z.locals;var z9=D9(U9,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-chat",attrs:{id:"llama-chat-app"}},[e.showChat?t("ChatContainer1",{attrs:{theme:e.theme,"is-device":e.isDevice}}):e._e()],1)}),[],!1,null,"4adca3f8",null);const q9=D9({name:"MainApp",components:{ChatView:z9.exports}},(function(){return(0,this._self._c)("ChatView")}),[],!1,null,null,null).exports;function G9(e){return G9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G9(e)}function W9(e){var t=function(e,t){if("object"!==G9(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G9(t)?t:String(t)}function K9(e,t,n){return(t=W9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W9(r.key),r)}}var X9="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Q9=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(X9&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Z9=X9&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Q9))}};function J9(e){return e&&"[object Function]"==={}.toString.call(e)}function e8(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function t8(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function n8(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=e8(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/(auto|scroll|overlay)/.test(n+s+r)?e:n8(t8(e))}function r8(e){return e&&e.referenceNode?e.referenceNode:e}var s8=X9&&!(!window.MSInputMethodContext||!document.documentMode),o8=X9&&/MSIE 10/.test(navigator.userAgent);function i8(e){return 11===e?s8:10===e?o8:s8||o8}function a8(e){if(!e)return document.documentElement;for(var t=i8(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===e8(n,"position")?a8(n):n:e?e.ownerDocument.documentElement:document.documentElement}function l8(e){return null!==e.parentNode?l8(e.parentNode):e}function c8(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,s=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(s,0);var i,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(s))return"BODY"===(a=(i=l).nodeName)||"HTML"!==a&&a8(i.firstElementChild)!==i?a8(l):l;var c=l8(e);return c.host?c8(c.host,t):c8(e,l8(t).host)}function u8(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function h8(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function d8(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],i8(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function p8(e){var t=e.body,n=e.documentElement,r=i8(10)&&getComputedStyle(n);return{height:d8("Height",t,n,r),width:d8("Width",t,n,r)}}var f8=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m8=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},g8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function v8(e){return g8({},e,{right:e.left+e.width,bottom:e.top+e.height})}function _8(e){var t={};try{if(i8(10)){t=e.getBoundingClientRect();var n=u8(e,"top"),r=u8(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var s={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?p8(e.ownerDocument):{},i=o.width||e.clientWidth||s.width,a=o.height||e.clientHeight||s.height,l=e.offsetWidth-i,c=e.offsetHeight-a;if(l||c){var u=e8(e);l-=h8(u,"x"),c-=h8(u,"y"),s.width-=l,s.height-=c}return v8(s)}function y8(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i8(10),s="HTML"===t.nodeName,o=_8(e),i=_8(t),a=n8(e),l=e8(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&s&&(i.top=Math.max(i.top,0),i.left=Math.max(i.left,0));var h=v8({top:o.top-i.top-c,left:o.left-i.left-u,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&s){var d=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);h.top-=c-d,h.bottom-=c-d,h.left-=u-p,h.right-=u-p,h.marginTop=d,h.marginLeft=p}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u8(t,"top"),s=u8(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=s*o,e.right+=s*o,e}(h,t)),h}function b8(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===e8(e,"position"))return!0;var n=t8(e);return!!n&&b8(n)}function w8(e){if(!e||!e.parentElement||i8())return document.documentElement;for(var t=e.parentElement;t&&"none"===e8(t,"transform");)t=t.parentElement;return t||document.documentElement}function x8(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},i=s?w8(e):c8(e,r8(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=y8(e,n),s=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),i=t?0:u8(n),a=t?0:u8(n,"left");return v8({top:i-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:s,height:o})}(i,s);else{var a=void 0;"scrollParent"===r?"BODY"===(a=n8(t8(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var l=y8(a,i,s);if("HTML"!==a.nodeName||b8(i))o=l;else{var c=p8(e.ownerDocument),u=c.height,h=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=h+l.left}}var d="number"==typeof(n=n||0);return o.left+=d?n:n.left||0,o.top+=d?n:n.top||0,o.right-=d?n:n.right||0,o.bottom-=d?n:n.bottom||0,o}function T8(e,t,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var i=x8(n,r,o,s),a={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},l=Object.keys(a).map((function(e){return g8({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function E8(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y8(n,r?w8(t):c8(t,r8(n)),r)}function S8(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function k8(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function C8(e,t,n){n=n.split("-")[0];var r=S8(e),s={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),i=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return s[i]=t[i]+t[l]/2-r[l]/2,s[a]=n===a?t[a]-r[c]:t[k8(a)],s}function A8(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function I8(e,t,n){var r=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=A8(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n));return r.forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&J9(n)&&(t.offsets.popper=v8(t.offsets.popper),t.offsets.reference=v8(t.offsets.reference),t=n(t,e))})),t}function R8(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=E8(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=T8(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=C8(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=I8(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function M8(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function O8(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var s=t[r],o=s?""+s+n:e;if(void 0!==document.body.style[o])return o}return null}function L8(){return this.state.isDestroyed=!0,M8(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[O8("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function N8(e){var t=e.ownerDocument;return t?t.defaultView:window}function P8(e,t,n,r){var s="BODY"===e.nodeName,o=s?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),s||P8(n8(o.parentNode),t,n,r),r.push(o)}function D8(e,t,n,r){n.updateBound=r,N8(e).addEventListener("resize",n.updateBound,{passive:!0});var s=n8(e);return P8(s,"scroll",n.updateBound,n.scrollParents),n.scrollElement=s,n.eventsEnabled=!0,n}function j8(){this.state.eventsEnabled||(this.state=D8(this.reference,this.options,this.state,this.scheduleUpdate))}function F8(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return N8(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function U8(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function B8(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&U8(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var $8=X9&&/Firefox/i.test(navigator.userAgent);function V8(e,t,n){var r=A8(e,(function(e){return e.name===t})),s=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!s){var o="`"+t+"`",i="`"+n+"`";console.warn(i+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return s}var H8=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],z8=H8.slice(3);function q8(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=z8.indexOf(e),r=z8.slice(n+1).concat(z8.slice(0,n));return t?r.reverse():r}var G8="flip",W8="clockwise",K8="counterclockwise";function Y8(e,t,n,r){var s=[0,0],o=-1!==["right","left"].indexOf(r),i=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=i.indexOf(A8(i,(function(e){return-1!==e.search(/,|\s/)})));i[a]&&-1===i[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[i.slice(0,a).concat([i[a].split(l)[0]]),[i[a].split(l)[1]].concat(i.slice(a+1))]:[i];return c=c.map((function(e,r){var s=(1===r?!o:o)?"height":"width",i=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var s=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+s[1],i=s[2];if(!o)return e;if(0===i.indexOf("%")){return v8("%p"===i?n:r)[t]/100*o}if("vh"===i||"vw"===i)return("vh"===i?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,s,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){U8(n)&&(s[t]+=n*("-"===e[r-1]?-1:1))}))})),s}var X8={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var s=e.offsets,o=s.reference,i=s.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:m8({},l,o[l]),end:m8({},l,o[l]+o[c]-i[c])};e.offsets.popper=g8({},i,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,s=e.offsets,o=s.popper,i=s.reference,a=r.split("-")[0],l=void 0;return l=U8(+n)?[+n,0]:Y8(n,o,i,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||a8(e.instance.popper);e.instance.reference===n&&(n=a8(n));var r=O8("transform"),s=e.instance.popper.style,o=s.top,i=s.left,a=s[r];s.top="",s.left="",s[r]="";var l=x8(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);s.top=o,s.left=i,s[r]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,h={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),m8({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),m8({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=g8({},u,h[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,s=e.placement.split("-")[0],o=Math.floor,i=-1!==["top","bottom"].indexOf(s),a=i?"right":"bottom",l=i?"left":"top",c=i?"width":"height";return n[a]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[a])&&(e.offsets.popper[l]=o(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!V8(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var s=e.placement.split("-")[0],o=e.offsets,i=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(s),c=l?"height":"width",u=l?"Top":"Left",h=u.toLowerCase(),d=l?"left":"top",p=l?"bottom":"right",f=S8(r)[c];a[p]-f<i[h]&&(e.offsets.popper[h]-=i[h]-(a[p]-f)),a[h]+f>i[p]&&(e.offsets.popper[h]+=a[h]+f-i[p]),e.offsets.popper=v8(e.offsets.popper);var m=a[h]+a[c]/2-f/2,g=e8(e.instance.popper),v=parseFloat(g["margin"+u]),_=parseFloat(g["border"+u+"Width"]),y=m-e.offsets.popper[h]-v-_;return y=Math.max(Math.min(i[c]-f,y),0),e.arrowElement=r,e.offsets.arrow=(m8(n={},h,Math.round(y)),m8(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(M8(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=x8(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],s=k8(r),o=e.placement.split("-")[1]||"",i=[];switch(t.behavior){case G8:i=[r,s];break;case W8:i=q8(r);break;case K8:i=q8(r,!0);break;default:i=t.behavior}return i.forEach((function(a,l){if(r!==a||i.length===l+1)return e;r=e.placement.split("-")[0],s=k8(r);var c=e.offsets.popper,u=e.offsets.reference,h=Math.floor,d="left"===r&&h(c.right)>h(u.left)||"right"===r&&h(c.left)<h(u.right)||"top"===r&&h(c.bottom)>h(u.top)||"bottom"===r&&h(c.top)<h(u.bottom),p=h(c.left)<h(n.left),f=h(c.right)>h(n.right),m=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),v="left"===r&&p||"right"===r&&f||"top"===r&&m||"bottom"===r&&g,_=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(_&&"start"===o&&p||_&&"end"===o&&f||!_&&"start"===o&&m||!_&&"end"===o&&g),b=!!t.flipVariationsByContent&&(_&&"start"===o&&f||_&&"end"===o&&p||!_&&"start"===o&&g||!_&&"end"===o&&m),w=y||b;(d||v||w)&&(e.flipped=!0,(d||v)&&(r=i[l+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=g8({},e.offsets.popper,C8(e.instance.popper,e.offsets.reference,e.placement)),e=I8(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,s=r.popper,o=r.reference,i=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return s[i?"left":"top"]=o[n]-(a?s[i?"width":"height"]:0),e.placement=k8(t),e.offsets.popper=v8(s),e}},hide:{order:800,enabled:!0,fn:function(e){if(!V8(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=A8(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,s=e.offsets.popper,o=A8(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i=void 0!==o?o:t.gpuAcceleration,a=a8(e.instance.popper),l=_8(a),c={position:s.position},u=function(e,t){var n=e.offsets,r=n.popper,s=n.reference,o=Math.round,i=Math.floor,a=function(e){return e},l=o(s.width),c=o(r.width),u=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),d=t?u||h||l%2==c%2?o:i:a,p=t?o:a;return{left:d(l%2==1&&c%2==1&&!h&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!$8),h="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=O8("transform"),f=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,f="right"===d?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,i&&p)c[p]="translate3d("+f+"px, "+m+"px, 0)",c[h]=0,c[d]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,v="right"===d?-1:1;c[h]=m*g,c[d]=f*v,c.willChange=h+", "+d}var _={"x-placement":e.placement};return e.attributes=g8({},_,e.attributes),e.styles=g8({},c,e.styles),e.arrowStyles=g8({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return B8(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&B8(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,s){var o=E8(s,t,e,n.positionFixed),i=T8(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",i),B8(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Q8={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:X8},Z8=function(){function e(t,n){var r=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Z9(this.update.bind(this)),this.options=g8({},e.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(g8({},e.Defaults.modifiers,s.modifiers)).forEach((function(t){r.options.modifiers[t]=g8({},e.Defaults.modifiers[t]||{},s.modifiers?s.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return g8({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&J9(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return f8(e,[{key:"update",value:function(){return R8.call(this)}},{key:"destroy",value:function(){return L8.call(this)}},{key:"enableEventListeners",value:function(){return j8.call(this)}},{key:"disableEventListeners",value:function(){return F8.call(this)}}]),e}();Z8.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,Z8.placements=H8,Z8.Defaults=Q8;const J8=Z8;var e7,t7=n(18446),n7=n.n(t7);function r7(){r7.init||(r7.init=!0,e7=-1!==function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):-1}())}function s7(e,t,n,r,s,o,i,a,l,c){"boolean"!=typeof i&&(l=a,a=i,i=!1);var u,h="function"==typeof n?n.options:n;if(e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,s&&(h.functional=!0)),r&&(h._scopeId=r),o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=u):t&&(u=i?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),u)if(h.functional){var d=h.render;h.render=function(e,t){return u.call(t),d(e,t)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,u):[u]}return n}var o7={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var e=this;r7(),this.$nextTick((function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight,e.emitOnMount&&e.emitSize()}));var t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",e7&&this.$el.appendChild(t),t.data="about:blank",e7||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!e7&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}},i7=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})};i7._withStripped=!0;var a7=s7({render:i7,staticRenderFns:[]},undefined,o7,"data-v-8859cc6c",false,undefined,!1,void 0,void 0,void 0);var l7={version:"1.0.1",install:function(e){e.component("resize-observer",a7),e.component("ResizeObserver",a7)}},c7=null;"undefined"!=typeof window?c7=window.Vue:void 0!==n.g&&(c7=n.g.Vue),c7&&c7.use(l7);var u7=n(82492),h7=n.n(u7),d7=function(){};function p7(e){return"string"==typeof e&&(e=e.split(" ")),e}function f7(e,t){var n,r=p7(t);n=e.className instanceof d7?p7(e.className.baseVal):p7(e.className),r.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),e instanceof SVGElement?e.setAttribute("class",n.join(" ")):e.className=n.join(" ")}function m7(e,t){var n,r=p7(t);n=e.className instanceof d7?p7(e.className.baseVal):p7(e.className),r.forEach((function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})),e instanceof SVGElement?e.setAttribute("class",n.join(" ")):e.className=n.join(" ")}"undefined"!=typeof window&&(d7=window.SVGAnimatedString);var g7=!1;if("undefined"!=typeof window){g7=!1;try{var v7=Object.defineProperty({},"passive",{get:function(){g7=!0}});window.addEventListener("test",null,v7)}catch(e){}}function _7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_7(Object(n),!0).forEach((function(t){K9(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b7={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},w7=[],x7=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),K9(this,"_events",[]),K9(this,"_setTooltipNodeEvent",(function(e,t,n,s){var o=e.relatedreference||e.toElement||e.relatedTarget;return!!r._tooltipNode.contains(o)&&(r._tooltipNode.addEventListener(e.type,(function n(o){var i=o.relatedreference||o.toElement||o.relatedTarget;r._tooltipNode.removeEventListener(e.type,n),t.contains(i)||r._scheduleHide(t,s.delay,s,o)})),!0)})),n=y7(y7({},b7),n),t.jquery&&(t=t[0]),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.reference=t,this.options=n,this._isOpen=!1,this._init()}var t,n,r;return t=e,n=[{key:"show",value:function(){this._show(this.reference,this.options)}},{key:"hide",value:function(){this._hide()}},{key:"dispose",value:function(){this._dispose()}},{key:"toggle",value:function(){return this._isOpen?this.hide():this.show()}},{key:"setClasses",value:function(e){this._classes=e}},{key:"setContent",value:function(e){this.options.title=e,this._tooltipNode&&this._setContent(e,this.options)}},{key:"setOptions",value:function(e){var t=!1,n=e&&e.classes||L7.options.defaultClass;n7()(this._classes,n)||(this.setClasses(n),t=!0),e=A7(e);var r=!1,s=!1;for(var o in this.options.offset===e.offset&&this.options.placement===e.placement||(r=!0),(this.options.template!==e.template||this.options.trigger!==e.trigger||this.options.container!==e.container||t)&&(s=!0),e)this.options[o]=e[o];if(this._tooltipNode)if(s){var i=this._isOpen;this.dispose(),this._init(),i&&this.show()}else r&&this.popperInstance.update()}},{key:"_init",value:function(){var e="string"==typeof this.options.trigger?this.options.trigger.split(" "):[];this._isDisposed=!1,this._enableDocumentTouch=-1===e.indexOf("manual"),e=e.filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})),this._setEventListeners(this.reference,e,this.options),this.$_originalTitle=this.reference.getAttribute("title"),this.reference.removeAttribute("title"),this.reference.setAttribute("data-original-title",this.$_originalTitle)}},{key:"_create",value:function(e,t){var n=this,r=window.document.createElement("div");r.innerHTML=t.trim();var s=r.childNodes[0];return s.id=this.options.ariaId||"tooltip_".concat(Math.random().toString(36).substr(2,10)),s.setAttribute("aria-hidden","true"),this.options.autoHide&&-1!==this.options.trigger.indexOf("hover")&&(s.addEventListener("mouseenter",(function(t){return n._scheduleHide(e,n.options.delay,n.options,t)})),s.addEventListener("click",(function(t){return n._scheduleHide(e,n.options.delay,n.options,t)}))),s}},{key:"_setContent",value:function(e,t){var n=this;this.asyncContent=!1,this._applyContent(e,t).then((function(){n.popperInstance&&n.popperInstance.update()}))}},{key:"_applyContent",value:function(e,t){var n=this;return new Promise((function(r,s){var o=t.html,i=n._tooltipNode;if(i){var a=i.querySelector(n.options.innerSelector);if(1===e.nodeType){if(o){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(e)}}else{if("function"==typeof e){var l=e();return void(l&&"function"==typeof l.then?(n.asyncContent=!0,t.loadingClass&&f7(i,t.loadingClass),t.loadingContent&&n._applyContent(t.loadingContent,t),l.then((function(e){return t.loadingClass&&m7(i,t.loadingClass),n._applyContent(e,t)})).then(r).catch(s)):n._applyContent(l,t).then(r).catch(s))}o?a.innerHTML=e:a.innerText=e}r()}}))}},{key:"_show",value:function(e,t){if(!t||"string"!=typeof t.container||document.querySelector(t.container)){clearTimeout(this._disposeTimer),delete(t=Object.assign({},t)).offset;var n=!0;this._tooltipNode&&(f7(this._tooltipNode,this._classes),n=!1);var r=this._ensureShown(e,t);return n&&this._tooltipNode&&f7(this._tooltipNode,this._classes),f7(e,["v-tooltip-open"]),r}}},{key:"_ensureShown",value:function(e,t){var n=this;if(this._isOpen)return this;if(this._isOpen=!0,w7.push(this),this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.enableEventListeners(),this.popperInstance.update(),this.asyncContent&&this._setContent(t.title,t),this;var r=e.getAttribute("title")||t.title;if(!r)return this;var s=this._create(e,t.template);this._tooltipNode=s,e.setAttribute("aria-describedby",s.id);var o=this._findContainer(t.container,e);this._append(s,o);var i=y7(y7({},t.popperOptions),{},{placement:t.placement});return i.modifiers=y7(y7({},i.modifiers),{},{arrow:{element:this.options.arrowSelector}}),t.boundariesElement&&(i.modifiers.preventOverflow={boundariesElement:t.boundariesElement}),this.popperInstance=new J8(e,s,i),this._setContent(r,t),requestAnimationFrame((function(){!n._isDisposed&&n.popperInstance?(n.popperInstance.update(),requestAnimationFrame((function(){n._isDisposed?n.dispose():n._isOpen&&s.setAttribute("aria-hidden","false")}))):n.dispose()})),this}},{key:"_noLongerOpen",value:function(){var e=w7.indexOf(this);-1!==e&&w7.splice(e,1)}},{key:"_hide",value:function(){var e=this;if(!this._isOpen)return this;this._isOpen=!1,this._noLongerOpen(),this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this._disposeTimer);var t=L7.options.disposeTimeout;return null!==t&&(this._disposeTimer=setTimeout((function(){e._tooltipNode&&(e._tooltipNode.removeEventListener("mouseenter",e.hide),e._tooltipNode.removeEventListener("click",e.hide),e._removeTooltipNode())}),t)),m7(this.reference,["v-tooltip-open"]),this}},{key:"_removeTooltipNode",value:function(){if(this._tooltipNode){var e=this._tooltipNode.parentNode;e&&(e.removeChild(this._tooltipNode),this.reference.removeAttribute("aria-describedby")),this._tooltipNode=null}}},{key:"_dispose",value:function(){var e=this;return this._isDisposed=!0,this.reference.removeAttribute("data-original-title"),this.$_originalTitle&&this.reference.setAttribute("title",this.$_originalTitle),this._events.forEach((function(t){var n=t.func,r=t.event;e.reference.removeEventListener(r,n)})),this._events=[],this._tooltipNode?(this._hide(),this._tooltipNode.removeEventListener("mouseenter",this.hide),this._tooltipNode.removeEventListener("click",this.hide),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||this._removeTooltipNode()):this._noLongerOpen(),this}},{key:"_findContainer",value:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}},{key:"_append",value:function(e,t){t.appendChild(e)}},{key:"_setEventListeners",value:function(e,t,n){var r=this,s=[],o=[];t.forEach((function(e){switch(e){case"hover":s.push("mouseenter"),o.push("mouseleave"),r.options.hideOnTargetClick&&o.push("click");break;case"focus":s.push("focus"),o.push("blur"),r.options.hideOnTargetClick&&o.push("click");break;case"click":s.push("click"),o.push("click")}})),s.forEach((function(t){var s=function(t){!0!==r._isOpen&&(t.usedByTooltip=!0,r._scheduleShow(e,n.delay,n,t))};r._events.push({event:t,func:s}),e.addEventListener(t,s)})),o.forEach((function(t){var s=function(t){!0!==t.usedByTooltip&&r._scheduleHide(e,n.delay,n,t)};r._events.push({event:t,func:s}),e.addEventListener(t,s)}))}},{key:"_onDocumentTouch",value:function(e){this._enableDocumentTouch&&this._scheduleHide(this.reference,this.options.delay,this.options,e)}},{key:"_scheduleShow",value:function(e,t,n){var r=this,s=t&&t.show||t||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){return r._show(e,n)}),s)}},{key:"_scheduleHide",value:function(e,t,n,r){var s=this,o=t&&t.hide||t||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){if(!1!==s._isOpen&&s._tooltipNode.ownerDocument.body.contains(s._tooltipNode)){if("mouseleave"===r.type&&s._setTooltipNodeEvent(r,e,t,n))return;s._hide(e,n)}}),o)}}],n&&Y9(t.prototype,n),r&&Y9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T7(Object(n),!0).forEach((function(t){K9(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}"undefined"!=typeof document&&document.addEventListener("touchstart",(function(e){for(var t=0;t<w7.length;t++)w7[t]._onDocumentTouch(e)}),!g7||{passive:!0,capture:!0});var S7={enabled:!0},k7=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],C7={defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultHtml:!0,defaultTemplate:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:0,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:5e3,popover:{defaultPlacement:"bottom",defaultClass:"vue-popover-theme",defaultBaseClass:"tooltip popover",defaultWrapperClass:"wrapper",defaultInnerClass:"tooltip-inner popover-inner",defaultArrowClass:"tooltip-arrow popover-arrow",defaultOpenClass:"open",defaultDelay:0,defaultTrigger:"click",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultAutoHide:!0,defaultHandleResize:!0}};function A7(e){var t={placement:void 0!==e.placement?e.placement:L7.options.defaultPlacement,delay:void 0!==e.delay?e.delay:L7.options.defaultDelay,html:void 0!==e.html?e.html:L7.options.defaultHtml,template:void 0!==e.template?e.template:L7.options.defaultTemplate,arrowSelector:void 0!==e.arrowSelector?e.arrowSelector:L7.options.defaultArrowSelector,innerSelector:void 0!==e.innerSelector?e.innerSelector:L7.options.defaultInnerSelector,trigger:void 0!==e.trigger?e.trigger:L7.options.defaultTrigger,offset:void 0!==e.offset?e.offset:L7.options.defaultOffset,container:void 0!==e.container?e.container:L7.options.defaultContainer,boundariesElement:void 0!==e.boundariesElement?e.boundariesElement:L7.options.defaultBoundariesElement,autoHide:void 0!==e.autoHide?e.autoHide:L7.options.autoHide,hideOnTargetClick:void 0!==e.hideOnTargetClick?e.hideOnTargetClick:L7.options.defaultHideOnTargetClick,loadingClass:void 0!==e.loadingClass?e.loadingClass:L7.options.defaultLoadingClass,loadingContent:void 0!==e.loadingContent?e.loadingContent:L7.options.defaultLoadingContent,popperOptions:E7({},void 0!==e.popperOptions?e.popperOptions:L7.options.defaultPopperOptions)};if(t.offset){var n=G9(t.offset),r=t.offset;("number"===n||"string"===n&&-1===r.indexOf(","))&&(r="0, ".concat(r)),t.popperOptions.modifiers||(t.popperOptions.modifiers={}),t.popperOptions.modifiers.offset={offset:r}}return t.trigger&&-1!==t.trigger.indexOf("click")&&(t.hideOnTargetClick=!1),t}function I7(e,t){for(var n=e.placement,r=0;r<k7.length;r++){var s=k7[r];t[s]&&(n=s)}return n}function R7(e){var t=G9(e);return"string"===t?e:!(!e||"object"!==t)&&e.content}function M7(e){e._tooltip&&(e._tooltip.dispose(),delete e._tooltip,delete e._tooltipOldShow),e._tooltipTargetClasses&&(m7(e,e._tooltipTargetClasses),delete e._tooltipTargetClasses)}function O7(e,t){var n=t.value;t.oldValue;var r,s=t.modifiers,o=R7(n);o&&S7.enabled?(e._tooltip?((r=e._tooltip).setContent(o),r.setOptions(E7(E7({},n),{},{placement:I7(n,s)}))):r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=R7(t),s=void 0!==t.classes?t.classes:L7.options.defaultClass,o=E7({title:r},A7(E7(E7({},"object"===G9(t)?t:{}),{},{placement:I7(t,n)}))),i=e._tooltip=new x7(e,o);i.setClasses(s),i._vueEl=e;var a=void 0!==t.targetClasses?t.targetClasses:L7.options.defaultTargetClass;return e._tooltipTargetClasses=a,f7(e,a),i}(e,n,s),void 0!==n.show&&n.show!==e._tooltipOldShow&&(e._tooltipOldShow=n.show,n.show?r.show():r.hide())):M7(e)}var L7={options:C7,bind:O7,update:O7,unbind:function(e){M7(e)}};function N7(e){e.addEventListener("click",D7),e.addEventListener("touchstart",j7,!!g7&&{passive:!0})}function P7(e){e.removeEventListener("click",D7),e.removeEventListener("touchstart",j7),e.removeEventListener("touchend",F7),e.removeEventListener("touchcancel",U7)}function D7(e){var t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function j7(e){if(1===e.changedTouches.length){var t=e.currentTarget;t.$_vclosepopover_touch=!0;var n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",F7),t.addEventListener("touchcancel",U7)}}function F7(e){var t=e.currentTarget;if(t.$_vclosepopover_touch=!1,1===e.changedTouches.length){var n=e.changedTouches[0],r=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function U7(e){e.currentTarget.$_vclosepopover_touch=!1}var B7={bind:function(e,t){var n=t.value,r=t.modifiers;e.$_closePopoverModifiers=r,(void 0===n||n)&&N7(e)},update:function(e,t){var n=t.value,r=t.oldValue,s=t.modifiers;e.$_closePopoverModifiers=s,n!==r&&(void 0===n||n?N7(e):P7(e))},unbind:function(e){P7(e)}};function $7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$7(Object(n),!0).forEach((function(t){K9(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H7(e){var t=L7.options.popover[e];return void 0===t?L7.options[e]:t}var z7=!1;"undefined"!=typeof window&&"undefined"!=typeof navigator&&(z7=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);var q7=[],G7=function(){};"undefined"!=typeof window&&(G7=window.Element);var W7={name:"VPopover",components:{ResizeObserver:a7},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placement:{type:String,default:function(){return H7("defaultPlacement")}},delay:{type:[String,Number,Object],default:function(){return H7("defaultDelay")}},offset:{type:[String,Number],default:function(){return H7("defaultOffset")}},trigger:{type:String,default:function(){return H7("defaultTrigger")}},container:{type:[String,Object,G7,Boolean],default:function(){return H7("defaultContainer")}},boundariesElement:{type:[String,G7],default:function(){return H7("defaultBoundariesElement")}},popperOptions:{type:Object,default:function(){return H7("defaultPopperOptions")}},popoverClass:{type:[String,Array],default:function(){return H7("defaultClass")}},popoverBaseClass:{type:[String,Array],default:function(){return L7.options.popover.defaultBaseClass}},popoverInnerClass:{type:[String,Array],default:function(){return L7.options.popover.defaultInnerClass}},popoverWrapperClass:{type:[String,Array],default:function(){return L7.options.popover.defaultWrapperClass}},popoverArrowClass:{type:[String,Array],default:function(){return L7.options.popover.defaultArrowClass}},autoHide:{type:Boolean,default:function(){return L7.options.popover.defaultAutoHide}},handleResize:{type:Boolean,default:function(){return L7.options.popover.defaultHandleResize}},openGroup:{type:String,default:null},openClass:{type:[String,Array],default:function(){return L7.options.popover.defaultOpenClass}},ariaId:{default:null}},data:function(){return{isOpen:!1,id:Math.random().toString(36).substr(2,10)}},computed:{cssClass:function(){return K9({},this.openClass,this.isOpen)},popoverId:function(){return"popover_".concat(null!=this.ariaId?this.ariaId:this.id)}},watch:{open:function(e){e?this.show():this.hide()},disabled:function(e,t){e!==t&&(e?this.hide():this.open&&this.show())},container:function(e){if(this.isOpen&&this.popperInstance){var t=this.$refs.popover,n=this.$refs.trigger,r=this.$_findContainer(this.container,n);if(!r)return void console.warn("No container for popover",this);r.appendChild(t),this.popperInstance.scheduleUpdate()}},trigger:function(e){this.$_removeEventListeners(),this.$_addEventListeners()},placement:function(e){var t=this;this.$_updatePopper((function(){t.popperInstance.options.placement=e}))},offset:"$_restartPopper",boundariesElement:"$_restartPopper",popperOptions:{handler:"$_restartPopper",deep:!0}},created:function(){this.$_isDisposed=!1,this.$_mounted=!1,this.$_events=[],this.$_preventOpen=!1},mounted:function(){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e),this.$_init(),this.open&&this.show()},deactivated:function(){this.hide()},beforeDestroy:function(){this.dispose()},methods:{show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.event;t.skipDelay;var r=t.force;!(void 0!==r&&r)&&this.disabled||(this.$_scheduleShow(n),this.$emit("show")),this.$emit("update:open",!0),this.$_beingShowed=!0,requestAnimationFrame((function(){e.$_beingShowed=!1}))},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event;e.skipDelay,this.$_scheduleHide(t),this.$emit("hide"),this.$emit("update:open",!1)},dispose:function(){if(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.popperInstance&&(this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy)){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e)}this.$_mounted=!1,this.popperInstance=null,this.isOpen=!1,this.$emit("dispose")},$_init:function(){-1===this.trigger.indexOf("manual")&&this.$_addEventListeners()},$_show:function(){var e=this,t=this.$refs.trigger,n=this.$refs.popover;if(clearTimeout(this.$_disposeTimer),!this.isOpen){if(this.popperInstance&&(this.isOpen=!0,this.popperInstance.enableEventListeners(),this.popperInstance.scheduleUpdate()),!this.$_mounted){var r=this.$_findContainer(this.container,t);if(!r)return void console.warn("No container for popover",this);r.appendChild(n),this.$_mounted=!0,this.isOpen=!1,this.popperInstance&&requestAnimationFrame((function(){e.hidden||(e.isOpen=!0)}))}if(!this.popperInstance){var s=V7(V7({},this.popperOptions),{},{placement:this.placement});if(s.modifiers=V7(V7({},s.modifiers),{},{arrow:V7(V7({},s.modifiers&&s.modifiers.arrow),{},{element:this.$refs.arrow})}),this.offset){var o=this.$_getOffset();s.modifiers.offset=V7(V7({},s.modifiers&&s.modifiers.offset),{},{offset:o})}this.boundariesElement&&(s.modifiers.preventOverflow=V7(V7({},s.modifiers&&s.modifiers.preventOverflow),{},{boundariesElement:this.boundariesElement})),this.popperInstance=new J8(t,n,s),requestAnimationFrame((function(){if(e.hidden)return e.hidden=!1,void e.$_hide();!e.$_isDisposed&&e.popperInstance?(e.popperInstance.scheduleUpdate(),requestAnimationFrame((function(){if(e.hidden)return e.hidden=!1,void e.$_hide();e.$_isDisposed?e.dispose():e.isOpen=!0}))):e.dispose()}))}var i=this.openGroup;if(i)for(var a,l=0;l<q7.length;l++)(a=q7[l]).openGroup!==i&&(a.hide(),a.$emit("close-group"));q7.push(this),this.$emit("apply-show")}},$_hide:function(){var e=this;if(this.isOpen){var t=q7.indexOf(this);-1!==t&&q7.splice(t,1),this.isOpen=!1,this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this.$_disposeTimer);var n=L7.options.popover.disposeTimeout||L7.options.disposeTimeout;null!==n&&(this.$_disposeTimer=setTimeout((function(){var t=e.$refs.popover;t&&(t.parentNode&&t.parentNode.removeChild(t),e.$_mounted=!1)}),n)),this.$emit("apply-hide")}},$_findContainer:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e},$_getOffset:function(){var e=G9(this.offset),t=this.offset;return("number"===e||"string"===e&&-1===t.indexOf(","))&&(t="0, ".concat(t)),t},$_addEventListeners:function(){var e=this,t=this.$refs.trigger,n=[],r=[],s="string"==typeof this.trigger?this.trigger.split(" ").filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})):[];s.forEach((function(e){switch(e){case"hover":n.push("mouseenter"),r.push("mouseleave");break;case"focus":n.push("focus"),r.push("blur");break;case"click":n.push("click"),r.push("click")}})),n.forEach((function(n){var r=function(t){e.isOpen||(t.usedByTooltip=!0,!e.$_preventOpen&&e.show({event:t}),e.hidden=!1)};e.$_events.push({event:n,func:r}),t.addEventListener(n,r)})),r.forEach((function(n){var r=function(t){t.usedByTooltip||(e.hide({event:t}),e.hidden=!0)};e.$_events.push({event:n,func:r}),t.addEventListener(n,r)}))},$_scheduleShow:function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),e)this.$_show();else{var t=parseInt(this.delay&&this.delay.show||this.delay||0);this.$_scheduleTimer=setTimeout(this.$_show.bind(this),t)}},$_scheduleHide:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),n)this.$_hide();else{var r=parseInt(this.delay&&this.delay.hide||this.delay||0);this.$_scheduleTimer=setTimeout((function(){if(e.isOpen){if(t&&"mouseleave"===t.type)if(e.$_setTooltipNodeEvent(t))return;e.$_hide()}}),r)}},$_setTooltipNodeEvent:function(e){var t=this,n=this.$refs.trigger,r=this.$refs.popover,s=e.relatedreference||e.toElement||e.relatedTarget;return!!r.contains(s)&&(r.addEventListener(e.type,(function s(o){var i=o.relatedreference||o.toElement||o.relatedTarget;r.removeEventListener(e.type,s),n.contains(i)||t.hide({event:o})})),!0)},$_removeEventListeners:function(){var e=this.$refs.trigger;this.$_events.forEach((function(t){var n=t.func,r=t.event;e.removeEventListener(r,n)})),this.$_events=[]},$_updatePopper:function(e){this.popperInstance&&(e(),this.isOpen&&this.popperInstance.scheduleUpdate())},$_restartPopper:function(){if(this.popperInstance){var e=this.isOpen;this.dispose(),this.$_isDisposed=!1,this.$_init(),e&&this.show({skipDelay:!0,force:!0})}},$_handleGlobalClose:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$_beingShowed||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),n&&(this.$_preventOpen=!0,setTimeout((function(){t.$_preventOpen=!1}),300)))},$_handleResize:function(){this.isOpen&&this.popperInstance&&(this.popperInstance.scheduleUpdate(),this.$emit("resize"))}}};function K7(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(n){var r=q7[n];if(r.$refs.popover){var s=r.$refs.popover.contains(e.target);requestAnimationFrame((function(){(e.closeAllPopover||e.closePopover&&s||r.autoHide&&!s)&&r.$_handleGlobalClose(e,t)}))}},r=0;r<q7.length;r++)n(r)}function Y7(e,t,n,r,s,o,i,a,l,c){"boolean"!=typeof i&&(l=a,a=i,i=!1);const u="function"==typeof n?n.options:n;let h;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),r&&(u._scopeId=r),o?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=h):t&&(h=i?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),h)if(u.functional){const e=u.render;u.render=function(t,n){return h.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,h):[h]}return n}"undefined"!=typeof document&&"undefined"!=typeof window&&(z7?document.addEventListener("touchend",(function(e){K7(e,!0)}),!g7||{passive:!0,capture:!0}):window.addEventListener("click",(function(e){K7(e)}),!0));var X7=W7,Q7=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-popover",class:e.cssClass},[n("div",{ref:"trigger",staticClass:"trigger",staticStyle:{display:"inline-block"},attrs:{"aria-describedby":e.isOpen?e.popoverId:void 0,tabindex:-1!==e.trigger.indexOf("focus")?0:void 0}},[e._t("default")],2),e._v(" "),n("div",{ref:"popover",class:[e.popoverBaseClass,e.popoverClass,e.cssClass],style:{visibility:e.isOpen?"visible":"hidden"},attrs:{id:e.popoverId,"aria-hidden":e.isOpen?"false":"true",tabindex:e.autoHide?0:void 0},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.autoHide&&e.hide()}}},[n("div",{class:e.popoverWrapperClass},[n("div",{ref:"inner",class:e.popoverInnerClass,staticStyle:{position:"relative"}},[n("div",[e._t("popover",null,{isOpen:e.isOpen})],2),e._v(" "),e.handleResize?n("ResizeObserver",{on:{notify:e.$_handleResize}}):e._e()],1),e._v(" "),n("div",{ref:"arrow",class:e.popoverArrowClass})])])])};Q7._withStripped=!0;var Z7=Y7({render:Q7,staticRenderFns:[]},undefined,X7,undefined,false,undefined,!1,void 0,void 0,void 0);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===n&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}(".resize-observer[data-v-8859cc6c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-8859cc6c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}");var J7=L7,eee={install:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.installed){e.installed=!0;var r={};h7()(r,C7,n),eee.options=r,L7.options=r,t.directive("tooltip",L7),t.directive("close-popover",B7),t.component("VPopover",Z7)}},get enabled(){return S7.enabled},set enabled(e){S7.enabled=e}},tee=null;"undefined"!=typeof window?tee=window.Vue:void 0!==n.g&&(tee=n.g.Vue),tee&&tee.use(eee);fr.directive("tooltip",J7),fr.use((function(e){e.mixin({beforeCreate(){const e=this.$options;if(e.pinia){const t=e.pinia;if(!this._provided){const e={};Object.defineProperty(this,"_provided",{get:()=>e,set:t=>Object.assign(e,t)})}this._provided[di]=t,this.$pinia||(this.$pinia=t),t._a=this,mi&&hi(t),gi&&Vi(t._a,t)}else!this.$pinia&&e.parent&&e.parent.$pinia&&(this.$pinia=e.parent.$pinia)},destroyed(){delete this._pStores}})}));const nee=function(){const e=rt(!0),t=e.run((()=>ze({})));let n=[],r=[];const s=$e({install(e){hi(s),ei||(s._a=e,e.provide(di,s),e.config.globalProperties.$pinia=s,gi&&Vi(e,s),r.forEach((e=>n.push(e))),r=[])},use(e){return this._a||ei?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return gi&&"undefined"!=typeof Proxy&&s.use(Wi),s}();new fr({el:"#llama_main",render:e=>e(q9),pinia:nee})})()})();
//# sourceMappingURL=llamavirtualuser-main.js.map